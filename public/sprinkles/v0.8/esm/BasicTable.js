import"../_chunks/initHannaNamespace-dde97328.js";import{c as h,b as v}from"../_chunks/addSeenEffect-49807a07.js";import{t as W}from"../_chunks/qj-b9335549.js";import"../_chunks/i18n-45294c51.js";import"../_chunks/getLang-a66f2b15.js";import"../_chunks/compat.module-6d0944a1.js";const E=5,w=100,z=a=>{const{axis:t,scrollerElm:e,classedElm:d,bem:p,onChange:o,setClasses:b=!0}=a;let l={start:!0,end:!0};const i=p?`${p}--at`:"at",L=!o||b,c=s=>{const n=(d||e).classList;n[s.start?"add":"remove"](`${i}--start`),n[s.end?"add":"remove"](`${i}--end`)},T=o?b?s=>{o(s),c(s)}:o:c,r=W(()=>{let s,n,m;t==="horizontal"?(s=e.scrollLeft,n=e.offsetWidth,m=e.scrollWidth):(s=e.scrollTop,n=e.offsetHeight,m=e.scrollHeight);const u=s<E,f=m-(n+s)<E;l.start===u&&l.end===f||(l={start:u,end:f},T(l))},w);return r(),L&&((d||e).classList.add(i),c(l)),e.addEventListener("scroll",r),window.addEventListener("resize",r),{checkScroll:r,unmount:()=>{L&&(c({start:!1,end:!1}),(d||e).classList.remove(i)),e.removeEventListener("scroll",r),window.removeEventListener("resize",r)}}},g=a=>{a.classList.add("BasicTable");const t=a.parentElement;if(t.classList.contains("TableWrapper__scroller")||t.classList.contains("TableWrapper--at"))return;let e=t;return e.classList.contains("TableWrapper")||(e=document.createElement("div"),e.className="TableWrapper",a.before(e),e.append(a)),e.classList.add("TableWrapper--BasicTable"),e};window.Hanna.makeSprinkle({name:"BasicTable",selector:"table",init:a=>{const t=g(a);if(!t)return;const{unmount:e}=z({axis:"horizontal",scrollerElm:t,classedElm:t,bem:"TableWrapper"});return h(t),v(),e},unmount:(a,t)=>{t&&t(),v()}});
