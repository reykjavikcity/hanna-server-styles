import"./initHannaNamespace.js";import{g as Se}from"../_chunks/qj-163b6a60.js";import"../_chunks/focus-visible-cef44527.js";var ne={exports:{}};ne.exports,function(H){(function(k){if(typeof window>"u")return;var te=0,ie=!1,oe=!1,ve="message",ke=ve.length,j="[iFrameSizer]",A=j.length,y=null,N=window.requestAnimationFrame,xe=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),n={},B=null,P=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){x("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}});function re(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function S(e,t,s){e.addEventListener(t,s,!1)}function Ie(e,t,s){e.removeEventListener(t,s,!1)}function Me(){var e=["moz","webkit","o","ms"],t;for(t=0;t<e.length&&!N;t+=1)N=window[e[t]+"RequestAnimationFrame"];N?N=N.bind(window):d("setup","RequestAnimationFrame not supported")}function ze(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}function Oe(e){return j+"["+ze(e)+"]"}function ae(e){return n[e]?n[e].log:ie}function d(e,t){q("log",e,t,ae(e))}function ue(e,t){q("info",e,t,ae(e))}function x(e,t){q("warn",e,t,!0)}function q(e,t,s,o){o===!0&&typeof window.console=="object"&&console[e](Oe(t),s)}function Re(e){function t(){function i(){me(l),fe(u),C("onResized",l)}m("Height"),m("Width"),ge(i,l,"init")}function s(){var i=M.slice(A).split(":"),c=i[1]?parseInt(i[1],10):0,g=n[i[0]]&&n[i[0]].iframe,h=getComputedStyle(g);return{iframe:g,id:i[0],height:c+o(h)+f(h),width:i[2],type:i[3]}}function o(i){if(i.boxSizing!=="border-box")return 0;var c=i.paddingTop?parseInt(i.paddingTop,10):0,g=i.paddingBottom?parseInt(i.paddingBottom,10):0;return c+g}function f(i){if(i.boxSizing!=="border-box")return 0;var c=i.borderTopWidth?parseInt(i.borderTopWidth,10):0,g=i.borderBottomWidth?parseInt(i.borderBottomWidth,10):0;return c+g}function m(i){var c=Number(n[u]["max"+i]),g=Number(n[u]["min"+i]),h=i.toLowerCase(),w=Number(l[h]);d(u,"Checking "+h+" is in range "+g+"-"+c),w<g&&(w=g,d(u,"Set "+h+" to min value")),w>c&&(w=c,d(u,"Set "+h+" to max value")),l[h]=""+w}function O(){function i(){function h(){var v=0,T=!1;for(d(u,"Checking connection is from allowed list of origins: "+g);v<g.length;v++)if(g[v]===c){T=!0;break}return T}function w(){var v=n[u]&&n[u].remoteHost;return d(u,"Checking connection is from: "+v),c===v}return g.constructor===Array?h():w()}var c=e.origin,g=n[u]&&n[u].checkOrigin;if(g&&""+c!="null"&&!i())throw new Error("Unexpected message received from: "+c+" for "+l.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function W(){return j===(""+M).slice(0,A)&&M.slice(A).split(":")[0]in n}function R(){var i=l.type in{true:1,false:1,undefined:1};return i&&d(u,"Ignoring init message from meta parent page"),i}function E(i){return M.slice(M.indexOf(":")+ke+i)}function F(i){d(u,"onMessage passed: {iframe: "+l.iframe.id+", message: "+i+"}"),C("onMessage",{iframe:l.iframe,message:JSON.parse(i)}),d(u,"--")}function X(){var i=document.body.getBoundingClientRect(),c=l.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:c.height,iframeWidth:c.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(c.top-i.top,10),offsetLeft:parseInt(c.left-i.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function L(i,c){function g(){z("Send Page Info","pageInfo:"+X(),i,c)}Te(g,32,c)}function Q(){function i(w,v){function T(){n[h]?L(n[h].iframe,h):c()}["scroll","resize"].forEach(function(ye){d(h,w+ye+" listener for sendPageInfo"),v(window,ye,T)})}function c(){i("Remove ",Ie)}function g(){i("Add ",S)}var h=u;g(),n[h]&&(n[h].stopPageInfo=c)}function G(){n[u]&&n[u].stopPageInfo&&(n[u].stopPageInfo(),delete n[u].stopPageInfo)}function K(){var i=!0;return l.iframe===null&&(x(u,"IFrame ("+l.id+") not found"),i=!1),i}function r(i){var c=i.getBoundingClientRect();return se(u),{x:Math.floor(Number(c.left)+Number(y.x)),y:Math.floor(Number(c.top)+Number(y.y))}}function a(i){function c(){y=v,p(),d(u,"--")}function g(){return{x:Number(l.width)+w.x,y:Number(l.height)+w.y}}function h(){window.parentIFrame?window.parentIFrame["scrollTo"+(i?"Offset":"")](v.x,v.y):x(u,"Unable to scroll to requested position, window.parentIFrame not found")}var w=i?r(l.iframe):{x:0,y:0},v=g();d(u,"Reposition requested from iFrame (offset x:"+w.x+" y:"+w.y+")"),window.top===window.self?c():h()}function p(){C("onScroll",y)===!1?de():fe(u)}function b(i){function c(){var T=r(v);d(u,"Moving to in page link (#"+h+") at x: "+T.x+" y: "+T.y),y={x:T.x,y:T.y},p(),d(u,"--")}function g(){window.parentIFrame?window.parentIFrame.moveToAnchor(h):d(u,"In page link #"+h+" not found and window.parentIFrame not found")}var h=i.split("#")[1]||"",w=decodeURIComponent(h),v=document.getElementById(w)||document.getElementsByName(w)[0];v?c():window.top===window.self?d(u,"In page link #"+h+" not found"):g()}function I(i){var c={};if(Number(l.width)===0&&Number(l.height)===0){var g=E(9).split(":");c={x:g[1],y:g[0]}}else c={x:l.width,y:l.height};C(i,{iframe:l.iframe,screenX:Number(c.x),screenY:Number(c.y),type:l.type})}function C(i,c){return V(u,i,c)}function Z(){switch(n[u]&&n[u].firstRun&&ee(),l.type){case"close":{U(l.iframe);break}case"message":{F(E(6));break}case"mouseenter":{I("onMouseEnter");break}case"mouseleave":{I("onMouseLeave");break}case"autoResize":{n[u].autoResize=JSON.parse(E(9));break}case"scrollTo":{a(!1);break}case"scrollToOffset":{a(!0);break}case"pageInfo":{L(n[u]&&n[u].iframe,u),Q();break}case"pageInfoStop":{G();break}case"inPageLink":{b(E(9));break}case"reset":{le(l);break}case"init":{t(),C("onInit",l.iframe);break}default:Number(l.width)===0&&Number(l.height)===0?x("Unsupported message received ("+l.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}}function _(i){var c=!0;return n[i]||(c=!1,x(l.type+" No settings for "+i+". Message was: "+M)),c}function $(){for(var i in n)z("iFrame requested init",he(i),n[i].iframe,i)}function ee(){n[u]&&(n[u].firstRun=!1)}var M=e.data,l={},u=null;M==="[iFrameResizerChild]Ready"?$():W()?(l=s(),u=l.id,n[u]&&(n[u].loaded=!0),!R()&&_(u)&&(d(u,"Received: "+M),K()&&O()&&Z())):ue(u,"Ignored: "+M)}function V(e,t,s){var o=null,f=null;if(n[e])if(o=n[e][t],typeof o=="function")f=o(s);else throw new TypeError(t+" on iFrame["+e+"] is not a function");return f}function ce(e){var t=e.id;delete n[t]}function U(e){var t=e.id;if(V(t,"onClose",t)===!1){d(t,"Close iframe cancelled by onClose event");return}d(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(s){x(s)}V(t,"onClosed",t),d(t,"--"),ce(e)}function se(e){y===null&&(y={x:window.pageXOffset===k?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===k?document.documentElement.scrollTop:window.pageYOffset},d(e,"Get page position: "+y.x+","+y.y))}function fe(e){y!==null&&(window.scrollTo(y.x,y.y),d(e,"Set page position: "+y.x+","+y.y),de())}function de(){y=null}function le(e){function t(){me(e),z("reset","reset",e.iframe,e.id)}d(e.id,"Size reset requested by "+(e.type==="init"?"host page":"iFrame")),se(e.id),ge(t,e,"reset")}function me(e){function t(m){if(!e.id){d("undefined","messageData id not set");return}e.iframe.style[m]=e[m]+"px",d(e.id,"IFrame ("+f+") "+m+" set to "+e[m]+"px")}function s(m){!oe&&e[m]==="0"&&(oe=!0,d(f,"Hidden iFrame detected, creating visibility listener"),Fe())}function o(m){t(m),s(m)}var f=e.iframe.id;n[f]&&(n[f].sizeHeight&&o("height"),n[f].sizeWidth&&o("width"))}function ge(e,t,s){s!==t.type&&N&&!window.jasmine?(d(t.id,"Requesting animation frame"),N(e)):e()}function z(e,t,s,o,f){function m(){var F=n[o]&&n[o].targetOrigin;d(o,"["+e+"] Sending msg to iframe["+o+"] ("+t+") targetOrigin: "+F),s.contentWindow.postMessage(j+t,F)}function O(){x(o,"["+e+"] IFrame("+o+") not found")}function W(){s&&"contentWindow"in s&&s.contentWindow!==null?m():O()}function R(){function F(){n[o]&&!n[o].loaded&&!E&&(E=!0,x(o,"IFrame has not responded within "+n[o].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}f&&n[o]&&n[o].warningTimeout&&(n[o].msgTimeout=setTimeout(F,n[o].warningTimeout))}var E=!1;o=o||s.id,n[o]&&(W(),R())}function he(e){return e+":"+n[e].bodyMarginV1+":"+n[e].sizeWidth+":"+n[e].log+":"+n[e].interval+":"+n[e].enablePublicMethods+":"+n[e].autoResize+":"+n[e].bodyMargin+":"+n[e].heightCalculationMethod+":"+n[e].bodyBackground+":"+n[e].bodyPadding+":"+n[e].tolerance+":"+n[e].inPageLinks+":"+n[e].resizeFrom+":"+n[e].widthCalculationMethod+":"+n[e].mouseEvents}function Ee(e){return typeof e=="number"}function pe(e,t){function s(){function a(b){var I=n[r][b];I!==1/0&&I!==0&&(e.style[b]=Ee(I)?I+"px":I,d(r,"Set "+b+" = "+e.style[b]))}function p(b){if(n[r]["min"+b]>n[r]["max"+b])throw new Error("Value for min"+b+" can not be greater than max"+b)}p("Height"),p("Width"),a("maxHeight"),a("minHeight"),a("maxWidth"),a("minWidth")}function o(){var a=t&&t.id||P.id+te++;return document.getElementById(a)!==null&&(a+=te++),a}function f(a){if(typeof a!="string")throw new TypeError("Invaild id for iFrame. Expected String");return a===""&&(e.id=a=o(),ie=(t||{}).log,d(a,"Added missing iframe ID: "+a+" ("+e.src+")")),a}function m(){switch(d(r,"IFrame scrolling "+(n[r]&&n[r].scrolling?"enabled":"disabled")+" for "+r),e.style.overflow=(n[r]&&n[r].scrolling)===!1?"hidden":"auto",n[r]&&n[r].scrolling){case"omit":break;case!0:{e.scrolling="yes";break}case!1:{e.scrolling="no";break}default:e.scrolling=n[r]?n[r].scrolling:"no"}}function O(){(typeof(n[r]&&n[r].bodyMargin)=="number"||(n[r]&&n[r].bodyMargin)==="0")&&(n[r].bodyMarginV1=n[r].bodyMargin,n[r].bodyMargin=""+n[r].bodyMargin+"px")}function W(){var a=n[r]&&n[r].firstRun,p=n[r]&&n[r].heightCalculationMethod in xe;!a&&p&&le({iframe:e,height:0,width:0,type:"init"})}function R(){n[r]&&(n[r].iframe.iFrameResizer={close:U.bind(null,n[r].iframe),removeListeners:ce.bind(null,n[r].iframe),resize:z.bind(null,"Window resize","resize",n[r].iframe),moveToAnchor:function(a){z("Move to anchor","moveToAnchor:"+a,n[r].iframe,r)},sendMessage:function(a){a=JSON.stringify(a),z("Send Message","message:"+a,n[r].iframe,r)}})}function E(a){function p(){z("iFrame.onload",a,e,k,!0),W()}function b(C){if(e.parentNode){var Z=new C(function(_){_.forEach(function($){var ee=Array.prototype.slice.call($.removedNodes);ee.forEach(function(M){M===e&&U(e)})})});Z.observe(e.parentNode,{childList:!0})}}var I=re();I&&b(I),S(e,"load",p),z("init",a,e,k,!0)}function F(a){if(typeof a!="object")throw new TypeError("Options is not an object")}function X(a){for(var p in P)Object.prototype.hasOwnProperty.call(P,p)&&(n[r][p]=Object.prototype.hasOwnProperty.call(a,p)?a[p]:P[p])}function L(a){return a===""||a.match(/^(about:blank|javascript:|file:\/\/)/)!==null?"*":a}function Q(a){var p=a.split("Callback");if(p.length===2){var b="on"+p[0].charAt(0).toUpperCase()+p[0].slice(1);this[b]=this[a],delete this[a],x(r,"Deprecated: '"+a+"' has been renamed '"+b+"'. The old method will be removed in the next major version.")}}function G(a){a=a||{},n[r]=Object.create(null),n[r].iframe=e,n[r].firstRun=!0,n[r].remoteHost=e.src&&e.src.split("/").slice(0,3).join("/"),F(a),Object.keys(a).forEach(Q,a),X(a),n[r]&&(n[r].targetOrigin=n[r].checkOrigin===!0?L(n[r].remoteHost):"*")}function K(){return r in n&&"iFrameResizer"in e}var r=f(e.id);K()?x(r,"Ignored iFrame, already setup."):(G(t),m(),s(),O(),E(he(r)),R())}function D(e,t){B===null&&(B=setTimeout(function(){B=null,e()},t))}var Y={};function Te(e,t,s){Y[s]||(Y[s]=setTimeout(function(){Y[s]=null,e()},t))}function Fe(){function e(){function f(m){function O(R){return(n[m]&&n[m].iframe.style[R])==="0px"}function W(R){return R.offsetParent!==null}n[m]&&W(n[m].iframe)&&(O("height")||O("width"))&&z("Visibility change","resize",n[m].iframe,m)}Object.keys(n).forEach(function(m){f(m)})}function t(f){d("window","Mutation observed: "+f[0].target+" "+f[0].type),D(e,16)}function s(){var f=document.querySelector("body"),m={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},O=new o(t);O.observe(f,m)}var o=re();o&&s()}function Ne(e){function t(){be("Window "+e,"resize")}d("window","Trigger event: "+e),D(t,16)}function we(){function e(){be("Tab Visible","resize")}document.visibilityState!=="hidden"&&(d("document","Trigger event: Visibility change"),D(e,16))}function be(e,t){function s(o){return n[o]&&n[o].resizeFrom==="parent"&&n[o].autoResize&&!n[o].firstRun}Object.keys(n).forEach(function(o){s(o)&&z(e,t,n[o].iframe,o)})}function We(){S(window,"message",Re),S(window,"resize",function(){Ne("resize")}),S(document,"visibilitychange",we),S(document,"-webkit-visibilitychange",we)}function J(){function e(o,f){function m(){if(f.tagName){if(f.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+f.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}f&&(m(),pe(f,o),s.push(f))}function t(o){o&&o.enablePublicMethods&&x("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var s;return Me(),We(),function(o,f){switch(s=[],t(o),typeof f){case"undefined":case"string":{Array.prototype.forEach.call(document.querySelectorAll(f||"iframe"),e.bind(k,o));break}case"object":{e(o,f);break}default:throw new TypeError("Unexpected data type ("+typeof f+")")}return s}}function Ce(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(t){function s(o,f){pe(f,t)}return this.filter("iframe").each(s).end()}):ue("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery!==k&&Ce(window.jQuery),typeof k=="function"&&k.amd?k([],J):H.exports=J(),window.iFrameResize=window.iFrameResize||J()})()}(ne);var He=ne.exports;const je=Se(He),Pe=je;window.Hanna.makeSprinkle({name:"IframeBlock",selector:"iframe.IframeBlock",init:H=>{if(!H.height)return Pe({checkOrigin:!1},H)[0].iFrameResizer},unmount:(H,k)=>{k&&k.removeListeners()}});
