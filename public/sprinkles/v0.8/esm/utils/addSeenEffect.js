import"../../_chunks/compat.module-edfc5ce4.js";const o="is-seen",l=200,n="data-"+o,E=(e,t)=>e.target.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING?1:-1,S={rootMargin:"-100px 0px 0px 0px",threshold:0};let a;const c=(e,t)=>{if(!e.hasAttribute(n)){if(a||(a=new IntersectionObserver((f,u)=>f.filter(s=>s.isIntersecting).sort(E).forEach(({target:s},i)=>{setTimeout(()=>{s.setAttribute(n,"true"),t&&t(s),u.unobserve(s)},l*i)}),S)),e.matches("["+n+"] *")){e.setAttribute(n,"");return}return e.setAttribute(n,"false"),a.observe(e),()=>a.unobserve(e)}};c.DATA_ATTR_NAME=o;const r=!!document.querySelector('link[rel="stylesheet"][href*="/bundle/"][href*="-legacy-AutoSeenEffects"]');console.log({hasLegacySeenEffectsCSS:r});const p=r?()=>{const e=window.Hanna;e.sprinkles.SeenEffects?e.sprinkles.SeenEffects():e.loadSprinkles("SeenEffects")}:()=>{},d=r?e=>{const{isSeen:t,seenEffect:f}=e.dataset;return t!=null?{"data-is-seen":"","data-seen-effect":"none"}:{"data-seen-effect":f??!0}}:()=>{},h=r?e=>{const t=e.dataset;t.seenEffect==null&&t.isSeen==null&&(t.seenEffect="true")}:()=>{};export{h as autoSeenEffectPrepare,d as autoSeenEffectWrapperProps,p as autoSeenEffectsRefresh,c as default,r as hasLegacySeenEffectsCSS};
