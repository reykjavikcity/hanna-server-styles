import"../../../_chunks/initHannaNamespace-e9e79985.js";import{h as ye,_ as Ke,p as Be,C as $e}from"../../../_chunks/compat.module-8108cd22.js";import{g as Ve,d as Ne}from"../../../_chunks/qj-0db0624e.js";import{o as ee,m as xe}from"../../../_chunks/jsxRuntime.module-c4fc14d9.js";import"../../../_chunks/getSVGtext-03122a1f.js";import{g as ze}from"../../../_chunks/i18n-c1727f88.js";import{r as ue}from"../../../_chunks/_useMobileMenuToggling-acf37f77.js";import{S as Qe}from"../../../_chunks/SiteSearchInput-b1dd45ac.js";import{i as Je}from"../../../_chunks/env-e51fafad.js";import{u as Ye}from"../../../_chunks/useLaggedState-1fe67bf8.js";import{e as Xe}from"../../../_chunks/ensureCSS-b7f309c0.js";import{g as Ge}from"../../../_chunks/getLang-47cf2afb.js";import{createElasticQuery as Ze,postQuery as et}from"./reykjavik.is.js";import"../../../_chunks/hannavars-3f461aec.js";import"../../../_chunks/ObjectHelpers-af91e71e.js";import"../../../_chunks/assets-7a061d68.js";var be={exports:{}},tt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nt=tt,rt=nt;function Re(){}function ke(){}ke.resetWarningCache=Re;var ot=function(){function h(w,I,j,R,_,m){if(m!==rt){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}h.isRequired=h;function c(){return h}var u={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:c,element:h,elementType:h,instanceOf:c,node:h,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:ke,resetWarningCache:Re};return u.PropTypes=u,u};be.exports,be.exports=ot();var se=be.exports;const it=h=>{const{Tag:c="h1",align:u,small:w,children:I,wrapperProps:j}=h;return ee(c,{...j,className:xe("PageHeading",[w&&"small",u==="right"&&`align--${u}`],(j||{}).className),children:I})};var De={};function ut(h,c){if(h===c)return!0;if(!h||!c)return!1;var u=h.length;if(c.length!==u)return!1;for(var w=0;w<u;w++)if(h[w]!==c[w])return!1;return!0}var st=ut,Ee={},Te=function(){function h(c,u){var w=[],I=!0,j=!1,R=void 0;try{for(var _=c[Symbol.iterator](),m;!(I=(m=_.next()).done)&&(w.push(m.value),!(u&&w.length===u));I=!0);}catch(y){j=!0,R=y}finally{try{!I&&_.return&&_.return()}finally{if(j)throw R}}return w}return function(c,u){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return h(c,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=function(h){var c=h.data,u=h.multiSection;function w(m){for(m===null?m=0:m++;m<c.length&&c[m]===0;)m++;return m===c.length?null:m}function I(m){for(m===null?m=c.length-1:m--;m>=0&&c[m]===0;)m--;return m===-1?null:m}function j(m){var y=Te(m,2),O=y[0],k=y[1];return u?k===null||k===c[O]-1?(O=w(O),O===null?[null,null]:[O,0]):[O,k+1]:c===0||k===c-1?[null,null]:k===null?[null,0]:[null,k+1]}function R(m){var y=Te(m,2),O=y[0],k=y[1];return u?k===null||k===0?(O=I(O),O===null?[null,null]:[O,c[O]-1]):[O,k-1]:c===0||k===0?[null,null]:k===null?[null,c-1]:[null,k-1]}function _(m){return j(m)[1]===null}return{next:j,prev:R,isLast:_}},ge={exports:{}},lt=Object.prototype.propertyIsEnumerable;function ct(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}function gt(h){var c=Object.getOwnPropertyNames(h);return Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(h))),c.filter(function(u){return lt.call(h,u)})}var ft=Object.assign||function(h,c){for(var u,w,I=ct(h),j=1;j<arguments.length;j++){u=arguments[j],w=gt(Object(u));for(var R=0;R<w.length;R++)I[w[R]]=u[w[R]]}return I};ge.exports,function(h,c){Object.defineProperty(c,"__esModule",{value:!0});var u=function(){function m(y,O){var k=[],H=!0,L=!1,A=void 0;try{for(var q=y[Symbol.iterator](),F;!(H=(F=q.next()).done)&&(k.push(F.value),!(O&&k.length===O));H=!0);}catch(x){L=!0,A=x}finally{try{!H&&q.return&&q.return()}finally{if(L)throw A}}return k}return function(y,O){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return m(y,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function w(m){return m&&m.__esModule?m:{default:m}}function I(m){if(Array.isArray(m)){for(var y=0,O=Array(m.length);y<m.length;y++)O[y]=m[y];return O}else return Array.from(m)}var j=ft,R=w(j),_=function(m){return m};c.default=function(m){var y=Array.isArray(m)&&m.length===2?m:[m,null],O=u(y,2),k=O[0],H=O[1];return function(L){for(var A=arguments.length,q=Array(A>1?A-1:0),F=1;F<A;F++)q[F-1]=arguments[F];var x=q.map(function(U){return k[U]}).filter(_);return typeof x[0]=="string"||typeof H=="function"?{key:L,className:H?H.apply(void 0,I(x)):x.join(" ")}:{key:L,style:R.default.apply(void 0,[{}].concat(I(x)))}}},h.exports=c.default}(ge,ge.exports);var pt=ge.exports,Me={},fe={};(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=u;function c(w){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(I){return typeof I}:c=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},c(w)}function u(w,I){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(w===I)return!1;var R=Object.keys(w),_=Object.keys(I);if(R.length!==_.length)return!0;var m={},y,O;for(y=0,O=j.length;y<O;y++)m[j[y]]=!0;for(y=0,O=R.length;y<O;y++){var k=R[y],H=w[k],L=I[k];if(H!==L){if(!m[k]||H===null||L===null||c(H)!=="object"||c(L)!=="object")return!0;var A=Object.keys(H),q=Object.keys(L);if(A.length!==q.length)return!0;for(var F=0,x=A.length;F<x;F++){var U=A[F];if(H[U]!==L[U])return!0}}}return!1}})(fe),function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var c=R(ue),u=I(se),w=I(fe);function I(b){return b&&b.__esModule?b:{default:b}}function j(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return j=function(){return b},b}function R(b){if(b&&b.__esModule)return b;if(b===null||_(b)!=="object"&&typeof b!="function")return{default:b};var v=j();if(v&&v.has(b))return v.get(b);var S={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in b)if(Object.prototype.hasOwnProperty.call(b,g)){var r=D?Object.getOwnPropertyDescriptor(b,g):null;r&&(r.get||r.set)?Object.defineProperty(S,g,r):S[g]=b[g]}return S.default=b,v&&v.set(b,S),S}function _(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(v){return typeof v}:_=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_(b)}function m(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function y(b,v){for(var S=0;S<v.length;S++){var D=v[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,D.key,D)}}function O(b,v,S){return v&&y(b.prototype,v),S&&y(b,S),b}function k(b){return function(){var v=q(b),S;if(A()){var D=q(this).constructor;S=Reflect.construct(v,arguments,D)}else S=v.apply(this,arguments);return H(this,S)}}function H(b,v){return v&&(_(v)==="object"||typeof v=="function")?v:L(b)}function L(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(b){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},q(b)}function F(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),v&&x(b,v)}function x(b,v){return x=Object.setPrototypeOf||function(S,D){return S.__proto__=D,S},x(b,v)}function U(b,v,S){return v in b?Object.defineProperty(b,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[v]=S,b}var N=function(b){F(S,b);var v=k(S);function S(){return m(this,S),v.apply(this,arguments)}return O(S,[{key:"shouldComponentUpdate",value:function(D){return(0,w.default)(D,this.props)}},{key:"render",value:function(){var D=this.props,g=D.section,r=D.renderSectionTitle,i=D.theme,f=D.sectionKeyPrefix,p=r(g);return p?c.default.createElement("div",i("".concat(f,"title"),"sectionTitle"),p):null}}]),S}(c.Component);h.default=N,U(N,"propTypes",{section:u.default.any.isRequired,renderSectionTitle:u.default.func.isRequired,theme:u.default.func.isRequired,sectionKeyPrefix:u.default.string.isRequired})}(Me);var He={},qe={};(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var c=R(ue),u=I(se),w=I(fe);function I(r){return r&&r.__esModule?r:{default:r}}function j(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return j=function(){return r},r}function R(r){if(r&&r.__esModule)return r;if(r===null||_(r)!=="object"&&typeof r!="function")return{default:r};var i=j();if(i&&i.has(r))return i.get(r);var f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in r)if(Object.prototype.hasOwnProperty.call(r,P)){var M=p?Object.getOwnPropertyDescriptor(r,P):null;M&&(M.get||M.set)?Object.defineProperty(f,P,M):f[P]=r[P]}return f.default=r,i&&i.set(r,f),f}function _(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(i){return typeof i}:_=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_(r)}function m(){return m=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var f=arguments[i];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(r[p]=f[p])}return r},m.apply(this,arguments)}function y(r,i){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);i&&(p=p.filter(function(P){return Object.getOwnPropertyDescriptor(r,P).enumerable})),f.push.apply(f,p)}return f}function O(r){for(var i=1;i<arguments.length;i++){var f=arguments[i]!=null?arguments[i]:{};i%2?y(Object(f),!0).forEach(function(p){D(r,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):y(Object(f)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(f,p))})}return r}function k(r,i){if(r==null)return{};var f=H(r,i),p,P;if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(r);for(P=0;P<M.length;P++)p=M[P],!(i.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(r,p)&&(f[p]=r[p])}return f}function H(r,i){if(r==null)return{};var f={},p=Object.keys(r),P,M;for(M=0;M<p.length;M++)P=p[M],!(i.indexOf(P)>=0)&&(f[P]=r[P]);return f}function L(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function A(r,i){for(var f=0;f<i.length;f++){var p=i[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}function q(r,i,f){return i&&A(r.prototype,i),f&&A(r,f),r}function F(r){return function(){var i=b(r),f;if(N()){var p=b(this).constructor;f=Reflect.construct(i,arguments,p)}else f=i.apply(this,arguments);return x(this,f)}}function x(r,i){return i&&(_(i)==="object"||typeof i=="function")?i:U(r)}function U(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(r){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},b(r)}function v(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),i&&S(r,i)}function S(r,i){return S=Object.setPrototypeOf||function(f,p){return f.__proto__=p,f},S(r,i)}function D(r,i,f){return i in r?Object.defineProperty(r,i,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[i]=f,r}var g=function(r){v(f,r);var i=F(f);function f(){var p;L(this,f);for(var P=arguments.length,M=new Array(P),Q=0;Q<P;Q++)M[Q]=arguments[Q];return p=i.call.apply(i,[this].concat(M)),D(U(p),"storeItemReference",function(K){K!==null&&(p.item=K)}),D(U(p),"onMouseEnter",function(K){var E=p.props,l=E.sectionIndex,t=E.itemIndex;p.props.onMouseEnter(K,{sectionIndex:l,itemIndex:t})}),D(U(p),"onMouseLeave",function(K){var E=p.props,l=E.sectionIndex,t=E.itemIndex;p.props.onMouseLeave(K,{sectionIndex:l,itemIndex:t})}),D(U(p),"onMouseDown",function(K){var E=p.props,l=E.sectionIndex,t=E.itemIndex;p.props.onMouseDown(K,{sectionIndex:l,itemIndex:t})}),D(U(p),"onClick",function(K){var E=p.props,l=E.sectionIndex,t=E.itemIndex;p.props.onClick(K,{sectionIndex:l,itemIndex:t})}),p}return q(f,[{key:"shouldComponentUpdate",value:function(p){return(0,w.default)(p,this.props,["renderItemData"])}},{key:"render",value:function(){var p=this.props,P=p.isHighlighted,M=p.item,Q=p.renderItem,K=p.renderItemData,E=k(p,["isHighlighted","item","renderItem","renderItemData"]);return delete E.sectionIndex,delete E.itemIndex,typeof E.onMouseEnter=="function"&&(E.onMouseEnter=this.onMouseEnter),typeof E.onMouseLeave=="function"&&(E.onMouseLeave=this.onMouseLeave),typeof E.onMouseDown=="function"&&(E.onMouseDown=this.onMouseDown),typeof E.onClick=="function"&&(E.onClick=this.onClick),c.default.createElement("li",m({role:"option"},E,{ref:this.storeItemReference}),Q(M,O({isHighlighted:P},K)))}}]),f}(c.Component);h.default=g,D(g,"propTypes",{sectionIndex:u.default.number,isHighlighted:u.default.bool.isRequired,itemIndex:u.default.number.isRequired,item:u.default.any.isRequired,renderItem:u.default.func.isRequired,renderItemData:u.default.object.isRequired,onMouseEnter:u.default.func,onMouseLeave:u.default.func,onMouseDown:u.default.func,onClick:u.default.func})})(qe),function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var c=_(ue),u=j(se),w=j(qe),I=j(fe);function j(g){return g&&g.__esModule?g:{default:g}}function R(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return R=function(){return g},g}function _(g){if(g&&g.__esModule)return g;if(g===null||m(g)!=="object"&&typeof g!="function")return{default:g};var r=R();if(r&&r.has(g))return r.get(g);var i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in g)if(Object.prototype.hasOwnProperty.call(g,p)){var P=f?Object.getOwnPropertyDescriptor(g,p):null;P&&(P.get||P.set)?Object.defineProperty(i,p,P):i[p]=g[p]}return i.default=g,r&&r.set(g,i),i}function m(g){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(r){return typeof r}:m=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m(g)}function y(){return y=Object.assign||function(g){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(g[f]=i[f])}return g},y.apply(this,arguments)}function O(g,r){var i=Object.keys(g);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(g);r&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(g,p).enumerable})),i.push.apply(i,f)}return i}function k(g){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?O(Object(i),!0).forEach(function(f){S(g,f,i[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach(function(f){Object.defineProperty(g,f,Object.getOwnPropertyDescriptor(i,f))})}return g}function H(g,r){if(!(g instanceof r))throw new TypeError("Cannot call a class as a function")}function L(g,r){for(var i=0;i<r.length;i++){var f=r[i];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(g,f.key,f)}}function A(g,r,i){return r&&L(g.prototype,r),i&&L(g,i),g}function q(g){return function(){var r=N(g),i;if(U()){var f=N(this).constructor;i=Reflect.construct(r,arguments,f)}else i=r.apply(this,arguments);return F(this,i)}}function F(g,r){return r&&(m(r)==="object"||typeof r=="function")?r:x(g)}function x(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function N(g){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},N(g)}function b(g,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(r&&r.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),r&&v(g,r)}function v(g,r){return v=Object.setPrototypeOf||function(i,f){return i.__proto__=f,i},v(g,r)}function S(g,r,i){return r in g?Object.defineProperty(g,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):g[r]=i,g}var D=function(g){b(i,g);var r=q(i);function i(){var f;H(this,i);for(var p=arguments.length,P=new Array(p),M=0;M<p;M++)P[M]=arguments[M];return f=r.call.apply(r,[this].concat(P)),S(x(f),"storeHighlightedItemReference",function(Q){f.props.onHighlightedItemChange(Q===null?null:Q.item)}),f}return A(i,[{key:"shouldComponentUpdate",value:function(f){return(0,I.default)(f,this.props,["itemProps"])}},{key:"render",value:function(){var f=this,p=this.props,P=p.items,M=p.itemProps,Q=p.renderItem,K=p.renderItemData,E=p.sectionIndex,l=p.highlightedItemIndex,t=p.getItemId,o=p.theme,n=p.keyPrefix,e=E===null?n:"".concat(n,"section-").concat(E,"-"),s=typeof M=="function";return c.default.createElement("ul",y({role:"listbox"},o("".concat(e,"items-list"),"itemsList")),P.map(function(a,d){var C=d===0,T=d===l,W="".concat(e,"item-").concat(d),B=s?M({sectionIndex:E,itemIndex:d}):M,$=k({id:t(E,d),"aria-selected":T},o(W,"item",C&&"itemFirst",T&&"itemHighlighted"),{},B);return T&&($.ref=f.storeHighlightedItemReference),c.default.createElement(w.default,y({},$,{sectionIndex:E,isHighlighted:T,itemIndex:d,item:a,renderItem:Q,renderItemData:K}))}))}}]),i}(c.Component);h.default=D,S(D,"propTypes",{items:u.default.array.isRequired,itemProps:u.default.oneOfType([u.default.object,u.default.func]),renderItem:u.default.func.isRequired,renderItemData:u.default.object.isRequired,sectionIndex:u.default.number,highlightedItemIndex:u.default.number,onHighlightedItemChange:u.default.func.isRequired,getItemId:u.default.func.isRequired,theme:u.default.func.isRequired,keyPrefix:u.default.string.isRequired}),S(D,"defaultProps",{sectionIndex:null})}(He),function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var c=y(ue),u=_(se),w=_(at),I=_(pt),j=_(Me),R=_(He);function _(t){return t&&t.__esModule?t:{default:t}}function m(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return m=function(){return t},t}function y(t){if(t&&t.__esModule)return t;if(t===null||U(t)!=="object"&&typeof t!="function")return{default:t};var o=m();if(o&&o.has(t))return o.get(t);var n={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=e?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,o&&o.set(t,n),n}function O(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,e)}return n}function k(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?O(Object(n),!0).forEach(function(e){P(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function H(t,o){return x(t)||F(t,o)||A(t,o)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(t,o){if(t){if(typeof t=="string")return q(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,o)}}function q(t,o){(o==null||o>t.length)&&(o=t.length);for(var n=0,e=new Array(o);n<o;n++)e[n]=t[n];return e}function F(t,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],e=!0,s=!1,a=void 0;try{for(var d=t[Symbol.iterator](),C;!(e=(C=d.next()).done)&&(n.push(C.value),!(o&&n.length===o));e=!0);}catch(T){s=!0,a=T}finally{try{!e&&d.return!=null&&d.return()}finally{if(s)throw a}}return n}}function x(t){if(Array.isArray(t))return t}function U(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(o){return typeof o}:U=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},U(t)}function N(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function b(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function v(t,o,n){return o&&b(t.prototype,o),n&&b(t,n),t}function S(t){return function(){var o=i(t),n;if(r()){var e=i(this).constructor;n=Reflect.construct(o,arguments,e)}else n=o.apply(this,arguments);return D(this,n)}}function D(t,o){return o&&(U(o)==="object"||typeof o=="function")?o:g(t)}function g(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},i(t)}function f(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&p(t,o)}function p(t,o){return p=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},p(t,o)}function P(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}var M={},Q=function(t){return c.default.createElement("input",t)},K=function(t){var o=t.containerProps,n=t.children;return c.default.createElement("div",o,n)},E={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},l=function(t){f(n,t);var o=S(n);function n(e){var s;return N(this,n),s=o.call(this,e),P(g(s),"storeInputReference",function(a){a!==null&&(s.input=a);var d=s.props.inputProps.ref;d&&(typeof d=="function"?d(a):U(d)==="object"&&Object.prototype.hasOwnProperty.call(d,"current")&&(d.current=a))}),P(g(s),"storeItemsContainerReference",function(a){a!==null&&(s.itemsContainer=a)}),P(g(s),"onHighlightedItemChange",function(a){s.highlightedItem=a}),P(g(s),"getItemId",function(a,d){if(d===null)return null;var C=s.props.id,T=a===null?"":"section-".concat(a);return"react-autowhatever-".concat(C,"-").concat(T,"-item-").concat(d)}),P(g(s),"onFocus",function(a){var d=s.props.inputProps;s.setState({isInputFocused:!0}),d.onFocus&&d.onFocus(a)}),P(g(s),"onBlur",function(a){var d=s.props.inputProps;s.setState({isInputFocused:!1}),d.onBlur&&d.onBlur(a)}),P(g(s),"onKeyDown",function(a){var d=s.props,C=d.inputProps,T=d.highlightedSectionIndex,W=d.highlightedItemIndex,B=a.keyCode;switch(B){case 40:case 38:{var $=B===40?"next":"prev",Y=s.sectionIterator[$]([T,W]),J=H(Y,2),X=J[0],z=J[1];C.onKeyDown(a,{newHighlightedSectionIndex:X,newHighlightedItemIndex:z});break}default:C.onKeyDown(a,{highlightedSectionIndex:T,highlightedItemIndex:W})}}),s.highlightedItem=null,s.state={isInputFocused:!1},s.setSectionsItems(e),s.setSectionIterator(e),s.setTheme(e),s}return v(n,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),(e.items!==this.props.items||e.multiSection!==this.props.multiSection)&&this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map(function(s){return e.getSectionItems(s)}),this.sectionsLengths=this.sectionsItems.map(function(s){return s.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(s){return s===0}))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,w.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,I.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var s=this.theme,a=this.props,d=a.id,C=a.items,T=a.renderItem,W=a.renderItemData,B=a.renderSectionTitle,$=a.highlightedSectionIndex,Y=a.highlightedItemIndex,J=a.itemProps;return C.map(function(X,z){var te="react-autowhatever-".concat(d,"-"),ne="".concat(te,"section-").concat(z,"-"),G=z===0;return c.default.createElement("div",s("".concat(ne,"container"),"sectionContainer",G&&"sectionContainerFirst"),c.default.createElement(j.default,{section:X,renderSectionTitle:B,theme:s,sectionKeyPrefix:ne}),c.default.createElement(R.default,{items:e.sectionsItems[z],itemProps:J,renderItem:T,renderItemData:W,sectionIndex:z,highlightedItemIndex:$===z?Y:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:s,keyPrefix:te,ref:e.storeItemsListReference}))})}},{key:"renderItems",value:function(){var e=this.props.items;if(e.length===0)return null;var s=this.theme,a=this.props,d=a.id,C=a.renderItem,T=a.renderItemData,W=a.highlightedSectionIndex,B=a.highlightedItemIndex,$=a.itemProps;return c.default.createElement(R.default,{items:e,itemProps:$,renderItem:C,renderItemData:T,highlightedItemIndex:W===null?B:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:s,keyPrefix:"react-autowhatever-".concat(d,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var s=this.itemsContainer,a=e.offsetParent===s?e.offsetTop:e.offsetTop-s.offsetTop,d=s.scrollTop;a<d?d=a:a+e.offsetHeight>d+s.offsetHeight&&(d=a+e.offsetHeight-s.offsetHeight),d!==s.scrollTop&&(s.scrollTop=d)}}},{key:"render",value:function(){var e=this.theme,s=this.props,a=s.id,d=s.multiSection,C=s.renderInputComponent,T=s.renderItemsContainer,W=s.highlightedSectionIndex,B=s.highlightedItemIndex,$=this.state.isInputFocused,Y=d?this.renderSections():this.renderItems(),J=Y!==null,X=this.getItemId(W,B),z="react-autowhatever-".concat(a),te=k({role:"combobox","aria-haspopup":"listbox","aria-owns":z,"aria-expanded":J},e("react-autowhatever-".concat(a,"-container"),"container",J&&"containerOpen"),{},this.props.containerProps),ne=C(k({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":z,"aria-activedescendant":X},e("react-autowhatever-".concat(a,"-input"),"input",J&&"inputOpen",$&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),G=T({containerProps:k({id:z,role:"listbox"},e("react-autowhatever-".concat(a,"-items-container"),"itemsContainer",J&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:Y});return c.default.createElement("div",te,ne,G)}}]),n}(c.Component);h.default=l,P(l,"propTypes",{id:u.default.string,multiSection:u.default.bool,renderInputComponent:u.default.func,renderItemsContainer:u.default.func,items:u.default.array.isRequired,renderItem:u.default.func,renderItemData:u.default.object,renderSectionTitle:u.default.func,getSectionItems:u.default.func,containerProps:u.default.object,inputProps:u.default.object,itemProps:u.default.oneOfType([u.default.object,u.default.func]),highlightedSectionIndex:u.default.number,highlightedItemIndex:u.default.number,theme:u.default.oneOfType([u.default.object,u.default.array])}),P(l,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:Q,renderItemsContainer:K,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:M,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:M,inputProps:M,itemProps:M,highlightedSectionIndex:null,highlightedItemIndex:null,theme:E})}(Ee);var oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.mapToAutowhateverTheme=oe.defaultTheme=void 0;var dt={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};oe.defaultTheme=dt;var ht=function(h){var c={};for(var u in h)switch(u){case"suggestionsContainer":c.itemsContainer=h[u];break;case"suggestionsContainerOpen":c.itemsContainerOpen=h[u];break;case"suggestion":c.item=h[u];break;case"suggestionFirst":c.itemFirst=h[u];break;case"suggestionHighlighted":c.itemHighlighted=h[u];break;case"suggestionsList":c.itemsList=h[u];break;default:c[u]=h[u]}return c};oe.mapToAutowhateverTheme=ht,function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var c=m(ue),u=R(se),w=R(st),I=R(Ee),j=oe;function R(l){return l&&l.__esModule?l:{default:l}}function _(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return _=function(){return l},l}function m(l){if(l&&l.__esModule)return l;if(l===null||y(l)!=="object"&&typeof l!="function")return{default:l};var t=_();if(t&&t.has(l))return t.get(l);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in l)if(Object.prototype.hasOwnProperty.call(l,e)){var s=n?Object.getOwnPropertyDescriptor(l,e):null;s&&(s.get||s.set)?Object.defineProperty(o,e,s):o[e]=l[e]}return o.default=l,t&&t.set(l,o),o}function y(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(t){return typeof t}:y=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(l)}function O(l,t){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),o.push.apply(o,n)}return o}function k(l){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?O(Object(o),!0).forEach(function(n){S(l,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(o,n))})}return l}function H(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}function L(l,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,n.key,n)}}function A(l,t,o){return t&&L(l.prototype,t),o&&L(l,o),l}function q(l){return function(){var t=N(l),o;if(U()){var n=N(this).constructor;o=Reflect.construct(t,arguments,n)}else o=t.apply(this,arguments);return F(this,o)}}function F(l,t){return t&&(y(t)==="object"||typeof t=="function")?t:x(l)}function x(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function N(l){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},N(l)}function b(l,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(t&&t.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),t&&v(l,t)}function v(l,t){return v=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},v(l,t)}function S(l,t,o){return t in l?Object.defineProperty(l,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[t]=o,l}var D=function(){return!0},g=function(l){return l.trim().length>0},r=function(l){var t=l.containerProps,o=l.children;return c.default.createElement("div",t,o)},i="suggestions-revealed",f="suggestions-updated",p="suggestion-selected",P="input-focused",M="input-changed",Q="input-blurred",K="escape-pressed",E=function(l){b(o,l);var t=q(o);function o(n){var e,s=n.alwaysRenderSuggestions;return H(this,o),e=t.call(this),S(x(e),"onDocumentMouseDown",function(a){e.justClickedOnSuggestionsContainer=!1;for(var d=a.detail&&a.detail.target||a.target;d!==null&&d!==document;){if(d.getAttribute&&d.getAttribute("data-suggestion-index")!==null)return;if(d===e.suggestionsContainer){e.justClickedOnSuggestionsContainer=!0;return}d=d.parentNode}}),S(x(e),"storeAutowhateverRef",function(a){a!==null&&(e.autowhatever=a)}),S(x(e),"onSuggestionMouseEnter",function(a,d){var C=d.sectionIndex,T=d.itemIndex;e.updateHighlightedSuggestion(C,T),a.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!0),e.justMouseEntered=!0,setTimeout(function(){e.justMouseEntered=!1})}),S(x(e),"highlightFirstSuggestion",function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)}),S(x(e),"onDocumentMouseUp",function(){e.pressedSuggestion&&!e.justSelectedSuggestion&&e.input.focus(),e.pressedSuggestion=null}),S(x(e),"onSuggestionMouseDown",function(a){e.justSelectedSuggestion||(e.justSelectedSuggestion=!0,e.pressedSuggestion=a.target)}),S(x(e),"onSuggestionsClearRequested",function(){var a=e.props.onSuggestionsClearRequested;a&&a()}),S(x(e),"onSuggestionSelected",function(a,d){var C=e.props,T=C.alwaysRenderSuggestions,W=C.onSuggestionSelected,B=C.onSuggestionsFetchRequested;W&&W(a,d);var $=e.props.shouldKeepSuggestionsOnSelect(d.suggestion);T||$?B({value:d.suggestionValue,reason:p}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()}),S(x(e),"onSuggestionClick",function(a){var d=e.props,C=d.alwaysRenderSuggestions,T=d.focusInputOnSuggestionClick,W=e.getSuggestionIndices(e.findSuggestionElement(a.target)),B=W.sectionIndex,$=W.suggestionIndex,Y=e.getSuggestion(B,$),J=e.props.getSuggestionValue(Y);e.maybeCallOnChange(a,J,"click"),e.onSuggestionSelected(a,{suggestion:Y,suggestionValue:J,suggestionIndex:$,sectionIndex:B,method:"click"});var X=e.props.shouldKeepSuggestionsOnSelect(Y);C||X||e.closeSuggestions(),T===!0?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})}),S(x(e),"onBlur",function(){var a=e.props,d=a.inputProps,C=a.shouldRenderSuggestions,T=d.value,W=d.onBlur,B=e.getHighlightedSuggestion(),$=C(T,Q);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!$}),W&&W(e.blurEvent,{highlightedSuggestion:B})}),S(x(e),"onSuggestionMouseLeave",function(a){e.resetHighlightedSuggestion(!1),e.justSelectedSuggestion&&a.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!1)}),S(x(e),"onSuggestionTouchStart",function(){e.justSelectedSuggestion=!0}),S(x(e),"onSuggestionTouchMove",function(){e.justSelectedSuggestion=!1,e.pressedSuggestion=null,e.input.focus()}),S(x(e),"itemProps",function(a){var d=a.sectionIndex,C=a.itemIndex;return{"data-section-index":d,"data-suggestion-index":C,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.onSuggestionMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionTouchStart,onTouchMove:e.onSuggestionTouchMove,onClick:e.onSuggestionClick}}),S(x(e),"renderSuggestionsContainer",function(a){var d=a.containerProps,C=a.children,T=e.props.renderSuggestionsContainer;return T({containerProps:d,children:C,query:e.getQuery()})}),e.state={isFocused:!1,isCollapsed:!s,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},e.justPressedUpDown=!1,e.justMouseEntered=!1,e.pressedSuggestion=null,e}return A(o,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(n){var e=this.state.highlightedSuggestionIndex===0&&this.props.highlightFirstSuggestion&&!n.highlightFirstSuggestion;(0,w.default)(n.suggestions,this.props.suggestions)?n.highlightFirstSuggestion&&n.suggestions.length>0&&this.justPressedUpDown===!1&&this.justMouseEntered===!1?this.highlightFirstSuggestion():e&&this.resetHighlightedSuggestion():this.willRenderSuggestions(n,f)?(this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions(),e&&this.resetHighlightedSuggestion()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(n,e){var s=this.props,a=s.suggestions,d=s.onSuggestionHighlighted,C=s.highlightFirstSuggestion;if(!(0,w.default)(a,n.suggestions)&&a.length>0&&C){this.highlightFirstSuggestion();return}if(d){var T=this.getHighlightedSuggestion(),W=e.highlightedSuggestion;T!=W&&d({suggestion:T})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(n,e,s){var a=this;this.setState(function(d){var C=d.valueBeforeUpDown;return e===null?C=null:C===null&&typeof s<"u"&&(C=s),{highlightedSectionIndex:n,highlightedSuggestionIndex:e,highlightedSuggestion:e===null?null:a.getSuggestion(n,e),valueBeforeUpDown:C}})}},{key:"resetHighlightedSuggestion",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.setState(function(e){var s=e.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:n?null:s}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(n,e){var s=this.props,a=s.suggestions,d=s.multiSection,C=s.getSectionSuggestions;return d?C(a[n])[e]:a[e]}},{key:"getHighlightedSuggestion",value:function(){var n=this.state,e=n.highlightedSectionIndex,s=n.highlightedSuggestionIndex;return s===null?null:this.getSuggestion(e,s)}},{key:"getSuggestionValueByIndex",value:function(n,e){var s=this.props.getSuggestionValue;return s(this.getSuggestion(n,e))}},{key:"getSuggestionIndices",value:function(n){var e=n.getAttribute("data-section-index"),s=n.getAttribute("data-suggestion-index");return{sectionIndex:typeof e=="string"?parseInt(e,10):null,suggestionIndex:parseInt(s,10)}}},{key:"findSuggestionElement",value:function(n){var e=n;do{if(e.getAttribute&&e.getAttribute("data-suggestion-index")!==null)return e;e=e.parentNode}while(e!==null);throw console.error("Clicked element:",n),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(n,e,s){var a=this.props.inputProps,d=a.value,C=a.onChange;e!==d&&C(n,{newValue:e,method:s})}},{key:"willRenderSuggestions",value:function(n,e){var s=n.suggestions,a=n.inputProps,d=n.shouldRenderSuggestions,C=a.value;return s.length>0&&d(C,e)}},{key:"getQuery",value:function(){var n=this.props.inputProps,e=n.value,s=this.state.valueBeforeUpDown;return(s===null?e:s).trim()}},{key:"render",value:function(){var n=this,e=this.props,s=e.suggestions,a=e.renderInputComponent,d=e.onSuggestionsFetchRequested,C=e.renderSuggestion,T=e.inputProps,W=e.multiSection,B=e.renderSectionTitle,$=e.id,Y=e.getSectionSuggestions,J=e.theme,X=e.getSuggestionValue,z=e.alwaysRenderSuggestions,te=e.highlightFirstSuggestion,ne=e.containerProps,G=this.state,Fe=G.isFocused,Se=G.isCollapsed,Oe=G.highlightedSectionIndex,we=G.highlightedSuggestionIndex,ae=G.valueBeforeUpDown,le=z?D:this.props.shouldRenderSuggestions,re=T.value,Ie=T.onFocus,je=T.onKeyDown,Le=this.willRenderSuggestions(this.props,"render"),ce=z||Fe&&!Se&&Le,Ae=ce?s:[],Ue=k({},T,{onFocus:function(V){if(!n.justSelectedSuggestion&&!n.justClickedOnSuggestionsContainer){var Z=le(re,P);n.setState({isFocused:!0,isCollapsed:!Z}),Ie&&Ie(V),Z&&d({value:re,reason:P})}},onBlur:function(V){if(n.justClickedOnSuggestionsContainer){n.input.focus();return}n.blurEvent=V,n.justSelectedSuggestion||(n.onBlur(),n.onSuggestionsClearRequested())},onChange:function(V){var Z=V.target.value,ie=le(Z,M);n.maybeCallOnChange(V,Z,"type"),n.suggestionsContainer&&(n.suggestionsContainer.scrollTop=0),n.setState(k({},te?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!ie})),ie?d({value:Z,reason:M}):n.onSuggestionsClearRequested()},onKeyDown:function(V,Z){var ie=V.keyCode;switch(ie){case 40:case 38:if(Se)le(re,i)&&(d({value:re,reason:i}),n.revealSuggestions(),V.preventDefault());else if(s.length>0){var Pe=Z.newHighlightedSectionIndex,pe=Z.newHighlightedItemIndex,de;pe===null?de=ae===null?re:ae:de=n.getSuggestionValueByIndex(Pe,pe),n.updateHighlightedSuggestion(Pe,pe,re),n.maybeCallOnChange(V,de,ie===40?"down":"up"),V.preventDefault()}n.justPressedUpDown=!0,setTimeout(function(){n.justPressedUpDown=!1});break;case 13:{if(V.keyCode===229)break;var he=n.getHighlightedSuggestion();if(ce&&!z&&n.closeSuggestions(),he!=null){V.preventDefault();var _e=X(he);n.maybeCallOnChange(V,_e,"enter"),n.onSuggestionSelected(V,{suggestion:he,suggestionValue:_e,suggestionIndex:we,sectionIndex:Oe,method:"enter"}),n.justSelectedSuggestion=!0,setTimeout(function(){n.justSelectedSuggestion=!1})}break}case 27:{ce&&V.preventDefault();var Ce=ce&&!z;if(ae===null){if(!Ce){var me="";n.maybeCallOnChange(V,me,"escape"),le(me,K)?d({value:me,reason:K}):n.onSuggestionsClearRequested()}}else n.maybeCallOnChange(V,ae,"escape");Ce?(n.onSuggestionsClearRequested(),n.closeSuggestions()):n.resetHighlightedSuggestion();break}}je&&je(V)}}),We={query:this.getQuery()};return c.default.createElement(I.default,{multiSection:W,items:Ae,renderInputComponent:a,renderItemsContainer:this.renderSuggestionsContainer,renderItem:C,renderItemData:We,renderSectionTitle:B,getSectionItems:Y,highlightedSectionIndex:Oe,highlightedItemIndex:we,containerProps:ne,inputProps:Ue,itemProps:this.itemProps,theme:(0,j.mapToAutowhateverTheme)(J),id:$,ref:this.storeAutowhateverRef})}}]),o}(c.Component);h.default=E,S(E,"propTypes",{suggestions:u.default.array.isRequired,onSuggestionsFetchRequested:function(l,t){var o=l[t];if(typeof o!="function")throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(l,t){var o=l[t];if(l.alwaysRenderSuggestions===!1&&typeof o!="function")throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},shouldKeepSuggestionsOnSelect:u.default.func,onSuggestionSelected:u.default.func,onSuggestionHighlighted:u.default.func,renderInputComponent:u.default.func,renderSuggestionsContainer:u.default.func,getSuggestionValue:u.default.func.isRequired,renderSuggestion:u.default.func.isRequired,inputProps:function(l,t){var o=l[t];if(!o)throw new Error("'inputProps' must be passed.");if(!Object.prototype.hasOwnProperty.call(o,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(o,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:u.default.func,alwaysRenderSuggestions:u.default.bool,multiSection:u.default.bool,renderSectionTitle:function(l,t){var o=l[t];if(l.multiSection===!0&&typeof o!="function")throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(l,t){var o=l[t];if(l.multiSection===!0&&typeof o!="function")throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:u.default.bool,highlightFirstSuggestion:u.default.bool,theme:u.default.object,id:u.default.string,containerProps:u.default.object}),S(E,"defaultProps",{renderSuggestionsContainer:r,shouldRenderSuggestions:g,alwaysRenderSuggestions:!1,multiSection:!1,shouldKeepSuggestionsOnSelect:function(){return!1},focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:j.defaultTheme,id:"1",containerProps:{}})}(De);var mt=De.default;const yt=Ve(mt),bt={is:{label:"Leit \xE1 vefnum",inputLabel:"Leitaror\xF0",buttonText:"Leita",placeholder:"Sl\xE1\xF0u inn leitaror\xF0",suggestionsLabel:"Till\xF6gur"},en:{label:"Site search",inputLabel:"Search terms",buttonText:"Search",placeholder:"Enter search terms",suggestionsLabel:"Suggestions"},pl:{label:"Wyszukiwanie na stronie",inputLabel:"Wyszukiwane s\u0142owa",buttonText:"Szukaj",placeholder:"Wpisz wyszukiwane s\u0142owa",suggestionsLabel:"Sugestie"}},vt=h=>{const{suggestions:c,setSuggestions:u,renderSuggestion:w,getSuggestionValue:I,onSuggestionsFetchRequested:j,onSuggestionSelected:R,onSuggestionHighlighted:_,onSubmit:m,onButtonClick:y,bem:O="SiteSearchAutocomplete",wrapperProps:k}=h,[H,L]=ye(""),A=Ke(null),q=ze(h,bt);return ee(yt,{theme:{container:O,containerOpen:`${O}--open`,suggestionsContainer:`${O}__container`,suggestionsContainerOpen:`${O}__container--open`,suggestionsList:`${O}__list`,suggestion:`${O}__item`,suggestionHighlighted:`${O}__item--highlighted`},focusInputOnSuggestionClick:!0,suggestions:c,onSuggestionsClearRequested:()=>u([]),onSuggestionsFetchRequested:j,getSuggestionValue:I,onSuggestionSelected:R,onSuggestionHighlighted:_,renderSuggestion:w||(F=>String(F)),containerProps:{...k,"aria-label":q.label},renderSuggestionsContainer:({containerProps:F,children:x})=>ee("div",{...F,"aria-label":c.length?q.suggestionsLabel:void 0,children:x}),inputProps:{ref:A,value:H,onChange:(F,{newValue:x})=>{L(x)}},renderInputComponent:F=>{const{className:x,type:U,disabled:N,readOnly:b,required:v,children:S,ref:D,...g}=F;return ee(Qe,{...g,inputRef:D,label:h.label||q.inputLabel,placeholder:q.placeholder,buttonText:q.buttonText,onSubmit:m&&(()=>m(H)),onButtonClick:y&&(()=>y(H))})}})},St=h=>{const[c,u]=Ye(!1);Be(()=>{const j=R=>{R.key==="Escape"&&u(!1)};return document.addEventListener("keyup",j),()=>document.removeEventListener("keyup",j)},[]);const w=()=>{u(!0)},I=j=>{(!j.relatedTarget||!j.currentTarget.contains(j.relatedTarget))&&u(!1,100)};return ee("div",{className:xe("SiteSearchCurtain",[c&&"focused"]),onFocus:w,onBlur:I,...Je&&{onfocusin:w,onfocusout:I},children:h.children})},ve=(...h)=>console.error("renderSiteSearchAutocomplete: ",...h),Ot=h=>{const{title:c,lang:u,apiUri:w,searchPagePath:I,exceptBundles:j}=h,[R,_]=ye([]),[m]=ye(()=>Ne.d(200));return ee(St,{children:[c&&ee(it,{children:c}),ee(vt,{lang:u,suggestions:R,renderSuggestion:({label:y})=>y,setSuggestions:_,onSuggestionSelected:(y,{suggestion:O})=>{window.location.href=O.href},getSuggestionValue:({label:y})=>y,onSubmit:y=>{window.location.href=`${I}?q=${encodeURIComponent(y)}`},onSuggestionsFetchRequested:({value:y})=>{m.cancel(),y.length>=2&&m(()=>{const O=Ze({value:y,preference:"searchbox",size:5,_source:["label","url_alias"],exceptBundles:j});et(w,[O]).then(k=>{const[H]=k;if(!H)throw new Error;_(H.items.map(({label:L,url_alias:A})=>({label:L,href:A})))})})}})]})},wt=h=>{var c;const{insertAt:u,apiUri:w,searchPagePath:I,exceptBundles:j}=h;if(!w||!I){!w&&ve("`apiUri` missing"),!I&&ve("`searchPagePath` missing");return}const R=document.querySelector(u),_=R?.closest(".RowBlockColumn");if(!_){ve(R?"RowBlockColumn parent not found":`Insertion point "${u}" not found`);return}const m=((c=_.querySelector(".PageHeading"))==null?void 0:c.textContent)||void 0;Xe("SiteSearchCurtain").then(()=>{const y=document.createElement("div");$e.render(ee(Ot,{lang:Ge(_),title:m,apiUri:w,searchPagePath:I,exceptBundles:j}),y,()=>{_.textContent="",_.append(y)})})};export{wt as default};
