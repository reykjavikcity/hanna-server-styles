import"./initHannaNamespace.js";import{a as u,h as _,E as f}from"../_chunks/qj-afc7b5d6.js";import"../_chunks/compat.module-8a0f8b99.js";import{g as h,a as y,f as p}from"../_chunks/utils-96e946f5.js";import"../_chunks/useFormatMonitor-9c639f1c.js";import{inlineSVG as M}from"./utils/inlineSVG.js";import"../_chunks/focus-visible-d727a811.js";const E={is:{lang:"is",skipLinkLabel:"Valmynd",closeMenuLabel:"Loka",closeMenuLabelLong:"Loka valmynd"},en:{lang:"en",skipLinkLabel:"Skip to navigation",closeMenuLabel:"Close",closeMenuLabelLong:"Close menu"}},g=h(),e=document.documentElement.classList;window.Hanna.makeSprinkle({name:"Layout",init:l=>{const a=u(".Layout__header__logo",l);a&&M("img",a);const n=u('a.Layout__header__skiplink[href^="#"]'),t=n&&u(n.hash);if(!n||!t)return;const m=y({lang:_(l)},E),c=f("button",{className:"Layout__nav__closebutton",lang:m.lang,"aria-label":m.closeMenuLabelLong,onClick:()=>{r()}},m.closeMenuLabel);let s=!1,o=!1;const k=()=>{o||(e.add("menu-is-active"),e.add("menu-is-closed"),n.addEventListener("click",L),t.append(c),o=!0)},d=()=>{o&&(s&&r(),e.remove("menu-is-closed"),e.remove("menu-is-active"),n.removeEventListener("click",L),c.remove(),o=!1)},v=()=>{e.add("menu-is-open"),e.remove("menu-is-closed"),p(t),s=!0},r=()=>{e.add("menu-is-closed"),e.remove("menu-is-open"),p(n),s=!1},L=i=>{o&&(i.preventDefault(),s?r():v())},b=i=>{i.becameHamburger?k():i.leftHamburger&&d()};return g.subscribe(b),()=>{g.unsubscribe(b),d()}},unmount:(l,a)=>{a&&a()}});
