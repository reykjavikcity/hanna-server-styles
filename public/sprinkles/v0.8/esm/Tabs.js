import"../_chunks/initHannaNamespace-21359965.js";import{C as p,h as A,F as v}from"../_chunks/compat.module-6d0944a1.js";import{f as h}from"../_chunks/qj-0db0624e.js";import{T as x}from"../_chunks/Tabs-b49d30de.js";import{d as y}from"../_chunks/_useMobileMenuToggling-404bacd2.js";import"../_chunks/getSVGtext-03122a1f.js";import{n as E}from"../_chunks/misc-29f84158.js";import"../_chunks/i18n-45294c51.js";import{a as I,b as P}from"../_chunks/addSeenEffect-49807a07.js";import{o as u}from"../_chunks/jsxRuntime.module-9d76abce.js";import"../_chunks/getLang-c224bf02.js";const d=(e,a)=>{a?(e.hidden=!1,e.tabIndex=0):(e.hidden=!0,e.removeAttribute("tabindex"))},S=e=>e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"),f=(...e)=>console.info("Tabs sprinkle: ",...e),T=e=>{const{tabPanelPairs:a,startingIdx:n,label:i,labelledBy:t,id:r}=e,[o,l]=A(n),{tabs:b,onSetActive:g}=v(()=>({tabs:a.map(s=>s.tab),onSetActive:s=>{const m=a[s];if(!m)return;const c=o!==void 0&&a[o];c&&d(c.panelElm,!1),d(m.panelElm,!0),l(s)}}),[o,a]);return u(x,{tabs:b,id:r,"aria-label":i,"aria-labelledby":t,role:"tablist",activeIdx:o,onSetActive:g,ssr:!1})},_=e=>{const a=Array.from(e.querySelectorAll(".Tabs__tab")),n=a.filter(t=>{t=t.cloneNode(!0);const r="href"in t;return r||f("Not an anchor element",t),r}).map(t=>{const r=t.getAttribute("aria-controls")||h.getFrag(t.href)||void 0,o=r&&document.getElementById(r);if(!o){f(r?"tab panel elm not found for":"ID pointer missing on",t);return}const l=t.querySelector(".Tabs__tab__badge")||void 0;l&&l.remove();const b=l&&l.textContent.trim().replace(/(?:^\(|\)$)/g,"");return{panelElm:o,isActive:t.dataset.active==="true",tab:{id:t.id||y(),"aria-controls":r,label:t.textContent,badge:b,longLabel:t.getAttribute("aria-label")||void 0}}}).filter(E);if(n.length!==a.length)return;const i=n.findIndex(t=>t.isActive);return{id:e.id||void 0,label:e.getAttribute("aria-label")||void 0,labelledBy:e.getAttribute("aria-labelledby")||void 0,tabPanelPairs:n.map(t=>({tab:t.tab,panelElm:t.panelElm})),startingIdx:i>=0?i:void 0}};window.Hanna.makeSprinkle({name:"Tabs",init:e=>{const a=_(e);if(a){a.tabPanelPairs.forEach(({tab:i,panelElm:t},r)=>{d(t,r===a.startingIdx),t.setAttribute("role","tabpanel"),t.classList.contains("TabPanel")&&(t.dataset.sprinkled="true"),S(t)||t.setAttribute("aria-label",i.longLabel||i.label)});const n=e;return e.getAttributeNames().forEach(i=>{e.removeAttribute(i)}),p.render(u(T,{...a,wrapperProps:I(e)}),n,()=>P()),n}},unmount:(e,a)=>{a&&p.unmountComponentAtNode(a)}});
