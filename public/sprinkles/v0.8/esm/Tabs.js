import"../_chunks/initHannaNamespace-14bf803f.js";import{C as p,h as A,F as v}from"../_chunks/compat.module-6d0944a1.js";import{f as h,d as x}from"../_chunks/qj-b9335549.js";import{T as y}from"../_chunks/Tabs-3ba0b43c.js";import"../_chunks/getSVGtext-bab5132d.js";import{n as E}from"../_chunks/misc-29f84158.js";import"../_chunks/i18n-45294c51.js";import{a as I,b as P}from"../_chunks/addSeenEffect-49807a07.js";import{o as u}from"../_chunks/jsxRuntime.module-98db1a52.js";import"../_chunks/getLang-e1e8bdd7.js";import"../_chunks/_useMobileMenuToggling-5fde4833.js";const d=(e,a)=>{a?(e.hidden=!1,e.tabIndex=0):(e.hidden=!0,e.removeAttribute("tabindex"))},S=e=>e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"),f=(...e)=>console.info("Tabs sprinkle: ",...e),_=e=>{const{tabPanelPairs:a,startingIdx:i,label:n,labelledBy:t,id:r}=e,[o,l]=A(i),{tabs:b,onSetActive:g}=v(()=>({tabs:a.map(s=>s.tab),onSetActive:s=>{const m=a[s];if(!m)return;const c=o!==void 0&&a[o];c&&d(c.panelElm,!1),d(m.panelElm,!0),l(s)}}),[o,a]);return u(y,{tabs:b,id:r,"aria-label":n,"aria-labelledby":t,role:"tablist",activeIdx:o,onSetActive:g,ssr:!1})},T=e=>{const a=Array.from(e.querySelectorAll(".Tabs__tab")),i=a.filter(t=>{t=t.cloneNode(!0);const r="href"in t;return r||f("Not an anchor element",t),r}).map(t=>{const r=t.getAttribute("aria-controls")||h.getFrag(t.href)||void 0,o=r&&document.getElementById(r);if(!o){f(r?"tab panel elm not found for":"ID pointer missing on",t);return}const l=t.querySelector(".Tabs__tab__badge")||void 0;l&&l.remove();const b=l&&l.textContent.trim().replace(/(?:^\(|\)$)/g,"");return{panelElm:o,isActive:t.dataset.active==="true",tab:{id:t.id||x(),"aria-controls":r,label:t.textContent,badge:b,longLabel:t.getAttribute("aria-label")||void 0}}}).filter(E);if(i.length!==a.length)return;const n=i.findIndex(t=>t.isActive);return{id:e.id||void 0,label:e.getAttribute("aria-label")||void 0,labelledBy:e.getAttribute("aria-labelledby")||void 0,tabPanelPairs:i.map(t=>({tab:t.tab,panelElm:t.panelElm})),startingIdx:n>=0?n:void 0}};window.Hanna.makeSprinkle({name:"Tabs",init:e=>{const a=T(e);if(a){a.tabPanelPairs.forEach(({tab:n,panelElm:t},r)=>{d(t,r===a.startingIdx),t.setAttribute("role","tabpanel"),t.classList.contains("TabPanel")&&(t.dataset.sprinkled="true"),S(t)||t.setAttribute("aria-label",n.longLabel||n.label)});const i=e;return e.getAttributeNames().forEach(n=>{e.removeAttribute(n)}),p.render(u(_,{...a,wrapperProps:I(e)}),i,()=>P()),i}},unmount:(e,a)=>{a&&p.unmountComponentAtNode(a)}});
