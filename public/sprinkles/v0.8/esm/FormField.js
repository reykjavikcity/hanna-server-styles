import"./initHannaNamespace.js";import{g as C}from"../_chunks/qj-afc7b5d6.js";import"../_chunks/focus-visible-d727a811.js";var b={exports:{}};/* Selectybox 1.0  -- (c) 2012-2015 Hugsmi√∞jan ehf. - MIT/GPL   @preserve */b.exports,function(n){(function(){var i=window,d=!!i.addEventListener,u,h=function(e,s){var t=s==="add",o=d?(t?"add":"remove")+"EventListener":(t?"at":"de")+"tachEvent",l=d?"":"on",r=e.select;r[o](l+"change",e._$refresh),r[o](l+"keyup",e._$refresh),r[o](l+"focus",e._$focus),r[o](l+"blur",e._$blur)},_=function(e,s,t){for(var o in s)e.style[o]=t?"":s[o]},F="templ getButton focusClass disabledClass emptyClass emptyVal text selectCSS".split(" "),x="_$refresh _$focus _$blur select container button".split(" "),a=function(e,s){var t=this,o=a.getWidget(e);if(o&&(o.destroy(),t=o),t instanceof a){if(s){for(var l=0,r;r=F[l++];)s[r]!=null&&(t[r]=s[r]);s=null}u=u||document.createElement("div"),u.innerHTML=t.templ.replace(/^[^<]+/,"");var c=t.container=u.firstChild;c.style.position="relative",t.button=t.getButton(),t.select=e,e.parentNode.insertBefore(c,e),c.insertBefore(e,t.button.nextSibling),e.style.opacity=1e-4,_(e,t.selectCSS),t._$refresh=function(){setTimeout(function(){t.refresh()},0)};var y=c.classList;t._$blur=function(){y.remove(t.focusClass)},t._$focus=function(){y.add(t.focusClass)};var v=!1;if(t._$able=function(){e.disabled!==v&&(v=e.disabled,y[v?"add":"remove"](t.disabledClass))},h(t,"add"),t._isEmpty=!1,t.refresh(),e.$selectybox=t,o)return t}else return new a(e,s)};a.prototype={templ:'<span class="selecty"><span class="selecty-button"/></span>',getButton:function(){return this.container.firstChild},focusClass:"focused",disabledClass:"disabled",emptyClass:"emptyvalue",emptyVal:"\xA0 \xA0 \xA0",text:function(e){return e},selectCSS:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%",top:"auto",right:"auto",margin:0,padding:0,border:0},refresh:function(){this._$able(),this.val()},val:function(e){var s=this,t=s.select;if(e!=null){e+="";for(var o=0,l;l=t.options[o++];)if(l.value===e){l.selected=!0;break}}var r=t.options[t.selectedIndex],c=!r.value;c!==s._isEmpty&&(s._isEmpty=c,s.container.classList[c?"add":"remove"](s.emptyClass)),s.button.textContent=s.text(r.textContent)||s.emptyVal},disable:function(e){this.select.disabled=e!==!1,this._$able()},destroy:function(){var e=this,s=e.select,t=e.container,o=t.parentNode;o.insertBefore(s,t),o.removeChild(t),h(e,"remove"),s.style.opacity="",_(s,e.selectCSS,!0),s.$selectybox="";for(var l=F.concat(x),r=l.length;r--;)delete e[l[r]]}},a.jQueryPlugin=function(e){e.fn.selectybox=function(s,t){var o=this;if(o[0])if(typeof s=="string"){if(s==="widget")return a.getWidget(o[0]);/^(?:refresh|val|destroy|disable)$/.test(s)&&o.each(function(){var l=a.getWidget(this);l&&l[s](t)})}else return s=s||{},s.text=s.text||function(l){return e(this.container).toggleClass("selecty-empty",!e(this.select).val()),l},o.pushStack(o.filter("select").map(function(l,r){return a(r,s).container}));return o}},a.getWidget=function(e){return e.$selectybox},n.exports?n.exports=a:i.Selectybox=a;var m=i.jQuery;m&&!m.fn.selectybox&&a.jQueryPlugin(m)})()}(b);var S=b.exports;const $=C(S),g=(...n)=>console.info("FormField sprinkle: ",...n),E=n=>{const i=n.querySelector("select");if(!i){g("No <select/> found for",n);return}new $(i,{templ:'<span class="FormField__input"><span class="selecty-button"/></span>',focusClass:"FormField__input--focused",disabledClass:"FormField__input--disabled",emptyClass:"FormField__input--empty"})},p=(n,i,d)=>{n.classList[d?"add":"remove"]("FormField--"+i)},f=n=>{const i=n.querySelector("select, input, textarea");if(!i||!i.closest(".FormField__input")){g("No input/select field found for",n);return}p(n,"disabled",i.disabled),p(n,"readonly","readOnly"in i&&i.readOnly);const d=!i.value,u=d&&!(i instanceof HTMLSelectElement?i.options[i.selectedIndex].text.trim():i.placeholder.trim());p(n,"filled",!d),p(n,"empty",u)},L=n=>{const i=n.querySelector(".FormField__input");if(!i)throw new Error("`FormField__input` not found");i.addEventListener("focusin",()=>{n.classList.add("FormField--focused")}),i.addEventListener("focusout",()=>{n.classList.remove("FormField--focused"),f(n)}),i.addEventListener("change",()=>{f(n)}),n.setStateClasses=()=>f(n)};window.Hanna.makeSprinkle({name:"FormField",selector:".FormField",init:n=>{n.querySelector("label.FormField__label")&&(n.classList.contains("Selectbox")&&E(n),L(n),f(n))},refresh:f});
