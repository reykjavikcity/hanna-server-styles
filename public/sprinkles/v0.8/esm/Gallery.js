import"./initHannaNamespace.js";import{b as oe,q as U,C as f,a as T,p as I,h as N,z as ae,_ as ie,F as le}from"../_chunks/compat.module-504d8e29.js";import{m as G,e as ce,u as pe,v as q,q as ue,a as L}from"../_chunks/qj-c3d9a20d.js";import{b as V,c as de}from"../_chunks/utils-a3d70c94.js";import{A as me}from"../_chunks/_AbstractCarousel-88ac43a7.js";import{B as fe}from"../_chunks/_Button-f0c66d7d.js";import{I as w}from"../_chunks/_Image-ae00af0b.js";import{o as p,u as he}from"../_chunks/jsxRuntime.module-c44f51ea.js";import{u as ve}from"../_chunks/useFormatMonitor-69620455.js";import{autoSeenEffectWrapperProps as Ee,autoSeenEffectsRefresh as xe}from"./utils/addSeenEffect.js";import"./utils/focus-visible.js";import"../_chunks/_Link-c1d602b3.js";const P=oe({}),ge=t=>{const{caption:s,description:o,largeImageSrc:e,...n}=t,{setCurrentImage:r}=U(P);return p("figure",{className:"GalleryItem",children:[p("figcaption",{className:"GalleryItem__caption",children:s}),e?p(fe,{bem:"GalleryItem__button",href:e,onClick:a=>{a.preventDefault(),r({...n,caption:s,description:o,largeImageSrc:e})},children:[" ",p(w,{bem:"GalleryItem__image",...n})," "]}):p(w,{bem:"GalleryItem__image",...n}),o&&p("div",{className:"GalleryItem__description",children:o})]})};function $(){return $=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},$.apply(this,arguments)}function W(t,s){if(t==null)return{};var o={},e=Object.keys(t),n,r;for(r=0;r<e.length;r++)n=e[r],!(s.indexOf(n)>=0)&&(o[n]=t[n]);return o}function M(t,s){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,e){return o.__proto__=e,o},M(t,s)}function Z(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,M(t,s)}function be(t,s){return t.classList?!!s&&t.classList.contains(s):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+s+" ")!==-1}function Ce(t,s){t.classList?t.classList.add(s):be(t,s)||(typeof t.className=="string"?t.className=t.className+" "+s:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+s))}function X(t,s){return t.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ne(t,s){t.classList?t.classList.remove(s):typeof t.className=="string"?t.className=X(t.className,s):t.setAttribute("class",X(t.className&&t.className.baseVal||"",s))}const H={disabled:!1},J=f.createContext(null);var K=function(t){return t.scrollTop},y="unmounted",v="exited",E="entering",x="entered",R="exiting",h=function(t){Z(s,t);function s(e,n){var r;r=t.call(this,e,n)||this;var a=n,l=a&&!a.isMounting?e.enter:e.appear,i;return r.appearStatus=null,e.in?l?(i=v,r.appearStatus=E):i=x:e.unmountOnExit||e.mountOnEnter?i=y:i=v,r.state={status:i},r.nextCallback=null,r}s.getDerivedStateFromProps=function(e,n){var r=e.in;return r&&n.status===y?{status:v}:null};var o=s.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var n=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==E&&r!==x&&(n=E):(r===E||r===x)&&(n=R)}this.updateStatus(!1,n)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e=this.props.timeout,n,r,a;return n=r=a=e,e!=null&&typeof e!="number"&&(n=e.exit,r=e.enter,a=e.appear!==void 0?e.appear:r),{exit:n,enter:r,appear:a}},o.updateStatus=function(e,n){if(e===void 0&&(e=!1),n!==null)if(this.cancelNextCallback(),n===E){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:f.findDOMNode(this);r&&K(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===v&&this.setState({status:y})},o.performEnter=function(e){var n=this,r=this.props.enter,a=this.context?this.context.isMounting:e,l=this.props.nodeRef?[a]:[f.findDOMNode(this),a],i=l[0],c=l[1],d=this.getTimeouts(),u=a?d.appear:d.enter;if(!e&&!r||H.disabled){this.safeSetState({status:x},function(){n.props.onEntered(i)});return}this.props.onEnter(i,c),this.safeSetState({status:E},function(){n.props.onEntering(i,c),n.onTransitionEnd(u,function(){n.safeSetState({status:x},function(){n.props.onEntered(i,c)})})})},o.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),a=this.props.nodeRef?void 0:f.findDOMNode(this);if(!n||H.disabled){this.safeSetState({status:v},function(){e.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:R},function(){e.props.onExiting(a),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:v},function(){e.props.onExited(a)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,n){n=this.setNextCallback(n),this.setState(e,n)},o.setNextCallback=function(e){var n=this,r=!0;return this.nextCallback=function(a){r&&(r=!1,n.nextCallback=null,e(a))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},o.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:f.findDOMNode(this),a=e==null&&!this.props.addEndListener;if(!r||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=l[0],c=l[1];this.props.addEndListener(i,c)}e!=null&&setTimeout(this.nextCallback,e)},o.render=function(){var e=this.state.status;if(e===y)return null;var n=this.props,r=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var a=W(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return f.createElement(J.Provider,{value:null},typeof r=="function"?r(e,a):f.cloneElement(f.Children.only(r),a))},s}(f.Component);h.contextType=J,h.propTypes={};function g(){}h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},h.UNMOUNTED=y,h.EXITED=v,h.ENTERING=E,h.ENTERED=x,h.EXITING=R;const ye=h;var _e=function(t,s){return t&&s&&s.split(" ").forEach(function(o){return Ce(t,o)})},A=function(t,s){return t&&s&&s.split(" ").forEach(function(o){return Ne(t,o)})},j=function(t){Z(s,t);function s(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,e.appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(l,i){var c=e.resolveArguments(l,i),d=c[0],u=c[1];e.removeClasses(d,"exit"),e.addClass(d,u?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(l,i)},e.onEntering=function(l,i){var c=e.resolveArguments(l,i),d=c[0],u=c[1],m=u?"appear":"enter";e.addClass(d,m,"active"),e.props.onEntering&&e.props.onEntering(l,i)},e.onEntered=function(l,i){var c=e.resolveArguments(l,i),d=c[0],u=c[1],m=u?"appear":"enter";e.removeClasses(d,m),e.addClass(d,m,"done"),e.props.onEntered&&e.props.onEntered(l,i)},e.onExit=function(l){var i=e.resolveArguments(l),c=i[0];e.removeClasses(c,"appear"),e.removeClasses(c,"enter"),e.addClass(c,"exit","base"),e.props.onExit&&e.props.onExit(l)},e.onExiting=function(l){var i=e.resolveArguments(l),c=i[0];e.addClass(c,"exit","active"),e.props.onExiting&&e.props.onExiting(l)},e.onExited=function(l){var i=e.resolveArguments(l),c=i[0];e.removeClasses(c,"exit"),e.addClass(c,"exit","done"),e.props.onExited&&e.props.onExited(l)},e.resolveArguments=function(l,i){return e.props.nodeRef?[e.props.nodeRef.current,l]:[l,i]},e.getClassNames=function(l){var i=e.props.classNames,c=typeof i=="string",d=c&&i?i+"-":"",u=c?""+d+l:i[l],m=c?u+"-active":i[l+"Active"],k=c?u+"-done":i[l+"Done"];return{baseClassName:u,activeClassName:m,doneClassName:k}},e}var o=s.prototype;return o.addClass=function(e,n,r){var a=this.getClassNames(n)[r+"ClassName"],l=this.getClassNames("enter"),i=l.doneClassName;n==="appear"&&r==="done"&&i&&(a+=" "+i),r==="active"&&e&&K(e),a&&(this.appliedClasses[n][r]=a,_e(e,a))},o.removeClasses=function(e,n){var r=this.appliedClasses[n],a=r.base,l=r.active,i=r.done;this.appliedClasses[n]={},a&&A(e,a),l&&A(e,l),i&&A(e,i)},o.render=function(){var e=this.props;e.classNames;var n=W(e,["classNames"]);return f.createElement(ye,$({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s}(f.Component);j.defaultProps={classNames:""},j.propTypes={};const ke=j,Ie=t=>{const s=T(t),o=!!t;s.current=t,I(()=>{if(!o)return;const e=n=>{n.key==="Escape"&&s.current&&s.current()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[o])},Q=t=>{const s=t.Tag||"span";return p(s,{tabIndex:0,onFocus:o=>{var e;let n=o.currentTarget,r=Math.max(t.depth||1,1);for(;r--&&n;)n=n.parentElement;if(!n)return;const a=n.querySelectorAll("a,input, select, textarea,button, [tabindex]"),l=t.atTop?a.length-1:0;(e=a[l])==null||e.focus()}})},Le=()=>{const t=document.createElement("div");return document.body.appendChild(t),t},Se=({getRoot:t,children:s})=>{const[o,e]=N(null);return I(()=>{const n=(t||Le)();return e(n),()=>n.remove()},[]),o&&ae(s,o)},Y="modal-open",D=typeof window<"u"?window:void 0,_=D?D.$$modalStack||(D.$$modalStack=[]):[],ee=t=>{document.documentElement.classList.add(Y),_.unshift(t)},te=t=>{const s=_.indexOf(t);s>-1&&_.splice(s,1),_.length<=0&&document.documentElement.classList.remove(Y)},Oe={is:{closeButton:"Loka",closeButtonLabel:"Loka \xFEessum glugga"},en:{closeButton:"Close",closeButtonLabel:"Close this window"},pl:{closeButton:"Zamknij",closeButtonLabel:"Zamknij to okno"}},Te=t=>{const{bem:s,modifier:o,closeDelay:e=500,wrapperProps:n={},ssr:r}=t,a=!(t.stable??t.fickle===!1)||void 0,l=V(t,Oe),i=he(r),c=ve(),d=n.id||c,u=T(null),[m,k]=N(()=>!!t.startOpen&&t.open!==!1),B=()=>{m||(ee(c),setTimeout(()=>{k(!0),t.onOpen&&t.onOpen(),ce.focusElm(u.current)},100))},b=()=>{m&&(k(!1),te(c),t.onClose&&t.onClose(),setTimeout(t.onClosed,e))},z=T(t.open);t.open!==z.current&&t.open!==m&&(z.current=t.open,t.open?B():b());const S=a&&(C=>{C.target===C.currentTarget&&b()});Ie(a&&(()=>{_[0]===d&&b()})),I(()=>(m?ee(c):t.open&&B(),()=>te(c)),[]);const ne=t.portal!==!1?Se:ie,se=t.render?t.render({closeModal:b}):t.children,F=l.closeButtonLabel||l.closeButton,{onClick:O,className:re}=n;return p(ne,{children:p("div",{...n,className:G(`${s}wrapper`,[o,re]),hidden:!m,role:"dialog",onClick:S&&O?C=>{S(C),O(C)}:S||O,id:d,children:[i&&p(Q,{atTop:!0}),p("div",{className:G(s,o),ref:u,children:[se,i&&!t.noCloseButton&&p("button",{className:`${s}__closebutton`,type:"button",onClick:b,"aria-label":F,"aria-controls":d,title:F,children:l.closeButton})]}),i&&p(Q,{atTop:!0})]})})},Ge=t=>{const{bem:s="CarouselPaging",modifier:o,current:e,itemCount:n,setCurrent:r}=t,{next:a,prev:l,unit:i=""}=t.texts;return p("div",{className:G(s,o),children:[p("button",{className:`${s}__button ${s}__button--next`,type:"button",disabled:e>=n-1,onClick:()=>r(e+1),"aria-controls":t["aria-controls"],"aria-label":`${a} ${i}`,title:`${a} ${i}`,children:a})," ",p("button",{className:`${s}__button ${s}__button--prev`,type:"button",disabled:e===0,onClick:()=>r(e-1),"aria-controls":t["aria-controls"],"aria-label":`${l} ${i}`,title:`${l} ${i}`,children:l})]})},we=t=>{const{caption:s,description:o,...e}=t;return p("div",{className:"GalleryModalItem",children:[(s||o)&&p("div",{className:"GalleryModalItem__text",children:[p("div",{className:"GalleryModalItem__caption",children:s}),p("div",{className:"GalleryModalItem__description",children:o})]}),p(w,{bem:"GalleryModalItem__image",src:e.largeImageSrc||e.src})]})},Pe=t=>{const{texts:s}=t,{currentImage:o,items:e,setCurrentImage:n}=U(P),[r,a]=N(o),[l,i]=N(!1),c=u=>{i(!l),setTimeout(()=>{n(e[u])},200)};if(I(()=>{if(r!==o){const u=o?.largeImageSrc||o?.src;if(u){const m=new window.Image;m.src=u,m.onload=()=>{a(o)}}else a(void 0)}},[r,o]),!r)return null;const d=e.findIndex(u=>pe(q(r),q(u)));return p(Te,{open:!0,onClosed:()=>{n(void 0)},startOpen:!1,bem:"GalleryModal",texts:{closeButton:s.modalCloseLabel},children:[p(ke,{in:l,timeout:200,onEntered:()=>{i(!l)},classNames:"GalleryModalItem--",children:p(we,{...r})}),p(Ge,{bem:"GalleryModalPager",itemCount:e.length,current:d,setCurrent:c,texts:{next:s.modalNextLabel,prev:s.modalPrevLabel}})]})},$e={is:{modalNextLabel:"N\xE6sta mynd",modalPrevLabel:"Fyrri mynd",modalCloseLabel:"Loka mynd"},en:{modalNextLabel:"Next image",modalPrevLabel:"Previous image",modalCloseLabel:"Close image"},pl:{modalNextLabel:"Nast\u0119pne zdj\u0119cie",modalPrevLabel:"Poprzednie zdj\u0119cie",modalCloseLabel:"Zamknij zdj\u0119cie"}},Me=t=>{const{items:s,ssr:o}=t,e=V(t,$e),[n,r]=N(void 0),a=le(()=>({items:s,setCurrentImage:r,currentImage:n}),[s,n]);return p(P.Provider,{value:a,children:[p(me,{bem:"Gallery",items:s,Component:ge,ssr:o,wrapperProps:t.wrapperProps}),p(Pe,{...n,texts:e})]})},Re=t=>{const s=de(t);return{items:ue(".GalleryItem",t).map(o=>{var e,n,r;const a=L(".GalleryItem__image img",o),l=((e=L(".GalleryItem__caption",o))==null?void 0:e.textContent)||void 0,i=((n=L(".GalleryItem__description",o))==null?void 0:n.textContent)||void 0,c=((r=L("a.GalleryItem__button",o))==null?void 0:r.href)||void 0;return{altText:a?a.alt:void 0,src:a?a.src:void 0,caption:l,largeImageSrc:c,description:i}}),lang:s}};window.Hanna.makeSprinkle({name:"Gallery",init:t=>{const s=Re(t),o=document.createElement("div");f.render(p(Me,{...s,ssr:!1,wrapperProps:Ee(t)}),o,()=>{t.replaceWith(o),xe()})}});
