import"../_chunks/initHannaNamespace-dde97328.js";import{b as oe,q as U,C as f,_ as T,p as I,h as N,z as ae,a as ie,F as le}from"../_chunks/compat.module-6d0944a1.js";import{m as w,c as ce,o as pe,e as V,b as ue,q as L}from"../_chunks/qj-b9335549.js";import{g as Z}from"../_chunks/i18n-45294c51.js";import{A as de}from"../_chunks/_AbstractCarousel-37e87a22.js";import{B as me}from"../_chunks/_Button-3fca7562.js";import{I as $}from"../_chunks/_Image-3934084a.js";import{o as p,u as fe}from"../_chunks/jsxRuntime.module-98db1a52.js";import{F as q}from"../_chunks/FocusTrap-72a61f77.js";import{u as he}from"../_chunks/_useMobileMenuToggling-5fde4833.js";import"../_chunks/getSVGtext-bab5132d.js";import{a as ve,b as Ee}from"../_chunks/addSeenEffect-49807a07.js";import{g as ge}from"../_chunks/getLang-a66f2b15.js";import"../_chunks/misc-29f84158.js";import"../_chunks/_Link-7f48f5da.js";const P=oe({}),xe=t=>{const{caption:s,description:o,largeImageSrc:e,...n}=t,{setCurrentImage:r}=U(P);return p("figure",{className:"GalleryItem",children:[p("figcaption",{className:"GalleryItem__caption",children:s}),e?p(me,{bem:"GalleryItem__button",href:e,onClick:i=>{i.preventDefault(),r({...n,caption:s,description:o,largeImageSrc:e})},children:[" ",p($,{bem:"GalleryItem__image",...n})," "]}):p($,{bem:"GalleryItem__image",...n}),o&&p("div",{className:"GalleryItem__description",children:o})]})};function M(){return M=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},M.apply(this,arguments)}function X(t,s){if(t==null)return{};var o={},e=Object.keys(t),n,r;for(r=0;r<e.length;r++)n=e[r],!(s.indexOf(n)>=0)&&(o[n]=t[n]);return o}function A(t,s){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,e){return o.__proto__=e,o},A(t,s)}function H(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,A(t,s)}function be(t,s){return t.classList?!!s&&t.classList.contains(s):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+s+" ")!==-1}function Ce(t,s){t.classList?t.classList.add(s):be(t,s)||(typeof t.className=="string"?t.className=t.className+" "+s:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+s))}function W(t,s){return t.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ne(t,s){t.classList?t.classList.remove(s):typeof t.className=="string"?t.className=W(t.className,s):t.setAttribute("class",W(t.className&&t.className.baseVal||"",s))}const J={disabled:!1},K=f.createContext(null);var Q=function(t){return t.scrollTop},y="unmounted",v="exited",E="entering",g="entered",R="exiting",h=function(t){H(s,t);function s(e,n){var r;r=t.call(this,e,n)||this;var i=n,l=i&&!i.isMounting?e.enter:e.appear,a;return r.appearStatus=null,e.in?l?(a=v,r.appearStatus=E):a=g:e.unmountOnExit||e.mountOnEnter?a=y:a=v,r.state={status:a},r.nextCallback=null,r}s.getDerivedStateFromProps=function(e,n){var r=e.in;return r&&n.status===y?{status:v}:null};var o=s.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var n=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==E&&r!==g&&(n=E):(r===E||r===g)&&(n=R)}this.updateStatus(!1,n)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e=this.props.timeout,n,r,i;return n=r=i=e,e!=null&&typeof e!="number"&&(n=e.exit,r=e.enter,i=e.appear!==void 0?e.appear:r),{exit:n,enter:r,appear:i}},o.updateStatus=function(e,n){if(e===void 0&&(e=!1),n!==null)if(this.cancelNextCallback(),n===E){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:f.findDOMNode(this);r&&Q(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===v&&this.setState({status:y})},o.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,l=this.props.nodeRef?[i]:[f.findDOMNode(this),i],a=l[0],c=l[1],d=this.getTimeouts(),u=i?d.appear:d.enter;if(!e&&!r||J.disabled){this.safeSetState({status:g},function(){n.props.onEntered(a)});return}this.props.onEnter(a,c),this.safeSetState({status:E},function(){n.props.onEntering(a,c),n.onTransitionEnd(u,function(){n.safeSetState({status:g},function(){n.props.onEntered(a,c)})})})},o.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:f.findDOMNode(this);if(!n||J.disabled){this.safeSetState({status:v},function(){e.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:R},function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:v},function(){e.props.onExited(i)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,n){n=this.setNextCallback(n),this.setState(e,n)},o.setNextCallback=function(e){var n=this,r=!0;return this.nextCallback=function(i){r&&(r=!1,n.nextCallback=null,e(i))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},o.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:f.findDOMNode(this),i=e==null&&!this.props.addEndListener;if(!r||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=l[0],c=l[1];this.props.addEndListener(a,c)}e!=null&&setTimeout(this.nextCallback,e)},o.render=function(){var e=this.state.status;if(e===y)return null;var n=this.props,r=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var i=X(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return f.createElement(K.Provider,{value:null},typeof r=="function"?r(e,i):f.cloneElement(f.Children.only(r),i))},s}(f.Component);h.contextType=K,h.propTypes={};function x(){}h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:x,onEntering:x,onEntered:x,onExit:x,onExiting:x,onExited:x},h.UNMOUNTED=y,h.EXITED=v,h.ENTERING=E,h.ENTERED=g,h.EXITING=R;const ye=h;var _e=function(t,s){return t&&s&&s.split(" ").forEach(function(o){return Ce(t,o)})},j=function(t,s){return t&&s&&s.split(" ").forEach(function(o){return Ne(t,o)})},D=function(t){H(s,t);function s(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(l,a){var c=e.resolveArguments(l,a),d=c[0],u=c[1];e.removeClasses(d,"exit"),e.addClass(d,u?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(l,a)},e.onEntering=function(l,a){var c=e.resolveArguments(l,a),d=c[0],u=c[1],m=u?"appear":"enter";e.addClass(d,m,"active"),e.props.onEntering&&e.props.onEntering(l,a)},e.onEntered=function(l,a){var c=e.resolveArguments(l,a),d=c[0],u=c[1],m=u?"appear":"enter";e.removeClasses(d,m),e.addClass(d,m,"done"),e.props.onEntered&&e.props.onEntered(l,a)},e.onExit=function(l){var a=e.resolveArguments(l),c=a[0];e.removeClasses(c,"appear"),e.removeClasses(c,"enter"),e.addClass(c,"exit","base"),e.props.onExit&&e.props.onExit(l)},e.onExiting=function(l){var a=e.resolveArguments(l),c=a[0];e.addClass(c,"exit","active"),e.props.onExiting&&e.props.onExiting(l)},e.onExited=function(l){var a=e.resolveArguments(l),c=a[0];e.removeClasses(c,"exit"),e.addClass(c,"exit","done"),e.props.onExited&&e.props.onExited(l)},e.resolveArguments=function(l,a){return e.props.nodeRef?[e.props.nodeRef.current,l]:[l,a]},e.getClassNames=function(l){var a=e.props.classNames,c=typeof a=="string",d=c&&a?a+"-":"",u=c?""+d+l:a[l],m=c?u+"-active":a[l+"Active"],k=c?u+"-done":a[l+"Done"];return{baseClassName:u,activeClassName:m,doneClassName:k}},e}var o=s.prototype;return o.addClass=function(e,n,r){var i=this.getClassNames(n)[r+"ClassName"],l=this.getClassNames("enter"),a=l.doneClassName;n==="appear"&&r==="done"&&a&&(i+=" "+a),r==="active"&&e&&Q(e),i&&(this.appliedClasses[n][r]=i,_e(e,i))},o.removeClasses=function(e,n){var r=this.appliedClasses[n],i=r.base,l=r.active,a=r.done;this.appliedClasses[n]={},i&&j(e,i),l&&j(e,l),a&&j(e,a)},o.render=function(){var e=this.props;e.classNames;var n=X(e,["classNames"]);return f.createElement(ye,M({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s}(f.Component);D.defaultProps={classNames:""},D.propTypes={};const ke=D,Ie=t=>{const s=T(t),o=!!t;s.current=t,I(()=>{if(!o)return;const e=n=>{n.key==="Escape"&&s.current&&s.current()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[o])},Le=()=>{const t=document.createElement("div");return document.body.appendChild(t),t},Oe=({getRoot:t,children:s})=>{const[o,e]=N(null);return I(()=>{const n=(t||Le)();return e(n),()=>n.remove()},[]),o&&ae(s,o)},Y="modal-open",B=typeof window<"u"?window:void 0,_=B?B.$$modalStack||(B.$$modalStack=[]):[],ee=t=>{document.documentElement.classList.add(Y),_.unshift(t)},te=t=>{const s=_.indexOf(t);s>-1&&_.splice(s,1),_.length<=0&&document.documentElement.classList.remove(Y)},Se={is:{closeButton:"Loka",closeButtonLabel:"Loka \xFEessum glugga"},en:{closeButton:"Close",closeButtonLabel:"Close this window"},pl:{closeButton:"Zamknij",closeButtonLabel:"Zamknij to okno"}},Ge=t=>{const{bem:s,modifier:o,closeDelay:e=500,wrapperProps:n={},ssr:r}=t,i=!(t.stable??t.fickle===!1)||void 0,l=Z(t,Se),a=fe(r),c=he(),d=n.id||c,u=T(null),[m,k]=N(()=>!!t.startOpen&&t.open!==!1),z=()=>{m||(ee(c),setTimeout(()=>{k(!0),ce.focusElm(u.current,{delay:50}),t.onOpen&&t.onOpen()},50))},b=()=>{m&&(k(!1),te(c),t.onClose&&t.onClose(),setTimeout(t.onClosed,e))},O=T(t.open);t.open!==O.current&&t.open!==m&&(O.current=t.open,t.open?z():b()),O.current=t.open;const S=i&&(C=>{C.target===C.currentTarget&&b()});Ie(i&&(()=>{_[0]===d&&b()})),I(()=>(m?ee(c):t.open&&z(),()=>te(c)),[]);const ne=t.portal!==!1?Oe:ie,se=t.render?t.render({closeModal:b}):t.children,F=l.closeButtonLabel||l.closeButton,{onClick:G,className:re}=n;return p(ne,{children:p("div",{...n,className:w(`${s}wrapper`,[o,re]),hidden:!m,role:"dialog",onClick:S&&G?C=>{S(C),G(C)}:S||G,id:d,children:[a&&p(q,{atTop:!0}),p("div",{className:w(s,o),ref:u,children:[se,a&&!t.noCloseButton&&p("button",{className:`${s}__closebutton`,type:"button",onClick:b,"aria-label":F,"aria-controls":d,title:F,children:l.closeButton})]}),a&&p(q,{})]})})},Te=t=>{const{bem:s="CarouselPaging",modifier:o,current:e,itemCount:n,setCurrent:r}=t,{next:i,prev:l,unit:a=""}=t.texts;return p("div",{className:w(s,o),children:[p("button",{className:`${s}__button ${s}__button--next`,type:"button",disabled:e>=n-1,onClick:()=>r(e+1),"aria-controls":t["aria-controls"],"aria-label":`${i} ${a}`,title:`${i} ${a}`,children:i})," ",p("button",{className:`${s}__button ${s}__button--prev`,type:"button",disabled:e===0,onClick:()=>r(e-1),"aria-controls":t["aria-controls"],"aria-label":`${l} ${a}`,title:`${l} ${a}`,children:l})]})},we=t=>{const{caption:s,description:o,...e}=t;return p("div",{className:"GalleryModalItem",children:[(s||o)&&p("div",{className:"GalleryModalItem__text",children:[p("div",{className:"GalleryModalItem__caption",children:s}),p("div",{className:"GalleryModalItem__description",children:o})]}),p($,{bem:"GalleryModalItem__image",src:e.largeImageSrc||e.src})]})},$e=t=>{const{texts:s}=t,{currentImage:o,items:e,setCurrentImage:n}=U(P),[r,i]=N(o),[l,a]=N(!1),c=u=>{a(!l),setTimeout(()=>{n(e[u])},200)};if(I(()=>{if(r!==o){const u=o?.largeImageSrc||o?.src;if(u){const m=new window.Image;m.src=u,m.onload=()=>{i(o)}}else i(void 0)}},[r,o]),!r)return null;const d=e.findIndex(u=>pe(V(r),V(u)));return p(Ge,{open:!0,onClosed:()=>{n(void 0)},startOpen:!1,bem:"GalleryModal",texts:{closeButton:s.modalCloseLabel},children:[p(ke,{in:l,timeout:200,onEntered:()=>{a(!l)},classNames:"GalleryModalItem--",children:p(we,{...r})}),p(Te,{bem:"GalleryModalPager",itemCount:e.length,current:d,setCurrent:c,texts:{next:s.modalNextLabel,prev:s.modalPrevLabel}})]})},Pe={is:{modalNextLabel:"N\xE6sta mynd",modalPrevLabel:"Fyrri mynd",modalCloseLabel:"Loka mynd"},en:{modalNextLabel:"Next image",modalPrevLabel:"Previous image",modalCloseLabel:"Close image"},pl:{modalNextLabel:"Nast\u0119pne zdj\u0119cie",modalPrevLabel:"Poprzednie zdj\u0119cie",modalCloseLabel:"Zamknij zdj\u0119cie"}},Me=t=>{const{items:s,ssr:o}=t,e=Z(t,Pe),[n,r]=N(void 0),i=le(()=>({items:s,setCurrentImage:r,currentImage:n}),[s,n]);return p(P.Provider,{value:i,children:[p(de,{bem:"Gallery",items:s,Component:xe,ssr:o,wrapperProps:t.wrapperProps}),p($e,{...n,texts:e})]})},Ae=t=>{const s=ge(t);return{items:ue(".GalleryItem",t).map(o=>{var e,n,r;const i=L(".GalleryItem__image img",o),l=((e=L(".GalleryItem__caption",o))==null?void 0:e.textContent)||void 0,a=((n=L(".GalleryItem__description",o))==null?void 0:n.textContent)||void 0,c=((r=L("a.GalleryItem__button",o))==null?void 0:r.href)||void 0;return{altText:i?i.alt:void 0,src:i?i.src:void 0,caption:l,largeImageSrc:c,description:a}}),lang:s}};window.Hanna.makeSprinkle({name:"Gallery",init:t=>{const s=Ae(t),o=t;return t.getAttributeNames().forEach(e=>{t.removeAttribute(e)}),f.render(p(Me,{...s,ssr:!1,wrapperProps:ve(t)}),o,()=>Ee()),o},unmount:(t,s)=>{f.unmountComponentAtNode(s)}});
