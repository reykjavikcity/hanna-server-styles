import"./initHannaNamespace.js";import{b as Y,q as D,C as f,h as k,p as Z,_ as tt,F as et}from"../_chunks/compat.module-edfc5ce4.js";import{k as R,u as nt,e as ot,v as rt,w as st,x as A,q as at,a as _}from"../_chunks/qj-f5658347.js";import{b as it,c as lt}from"../_chunks/utils-ed8ff0d8.js";import{A as ct}from"../_chunks/_AbstractCarousel-5c76a633.js";import{B as pt}from"../_chunks/_Button-b5040285.js";import{I as S}from"../_chunks/_Image-2ef154d2.js";import{o as d}from"../_chunks/jsxRuntime.module-53ce29b9.js";import{r as O}from"../_chunks/useFormatMonitor-6ee15356.js";import{autoSeenEffectWrapperProps as ut,autoSeenEffectsRefresh as dt}from"./utils/addSeenEffect.js";import"./utils/focus-visible.js";import"../_chunks/_Link-389e75bd.js";const I=Y({}),mt=e=>{const{caption:r,description:o,largeImageSrc:t,...n}=e,{setCurrentImage:s}=D(I);return d("figure",{className:"GalleryItem",children:[d("figcaption",{className:"GalleryItem__caption",children:r}),t?d(pt,{bem:"GalleryItem__button",href:t,onClick:a=>{a.preventDefault(),s({...n,caption:r,description:o,largeImageSrc:t})},children:[" ",d(S,{bem:"GalleryItem__image",...n})," "]}):d(S,{bem:"GalleryItem__image",...n}),o&&d("div",{className:"GalleryItem__description",children:o})]})};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},P.apply(this,arguments)}function B(e,r){if(e==null)return{};var o={},t=Object.keys(e),n,s;for(s=0;s<t.length;s++)n=t[s],!(r.indexOf(n)>=0)&&(o[n]=e[n]);return o}function L(e,r){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},L(e,r)}function $(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,L(e,r)}function ft(e,r){return e.classList?!!r&&e.classList.contains(r):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+r+" ")!==-1}function ht(e,r){e.classList?e.classList.add(r):ft(e,r)||(typeof e.className=="string"?e.className=e.className+" "+r:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+r))}function U(e,r){return e.replace(new RegExp("(^|\\s)"+r+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function vt(e,r){e.classList?e.classList.remove(r):typeof e.className=="string"?e.className=U(e.className,r):e.setAttribute("class",U(e.className&&e.className.baseVal||"",r))}const W={disabled:!1},F=f.createContext(null);var z=function(e){return e.scrollTop},y="unmounted",v="exited",E="entering",g="entered",M="exiting",h=function(e){$(r,e);function r(t,n){var s;s=e.call(this,t,n)||this;var a=n,i=a&&!a.isMounting?t.enter:t.appear,l;return s.appearStatus=null,t.in?i?(l=v,s.appearStatus=E):l=g:t.unmountOnExit||t.mountOnEnter?l=y:l=v,s.state={status:l},s.nextCallback=null,s}r.getDerivedStateFromProps=function(t,n){var s=t.in;return s&&n.status===y?{status:v}:null};var o=r.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(t){var n=null;if(t!==this.props){var s=this.state.status;this.props.in?s!==E&&s!==g&&(n=E):(s===E||s===g)&&(n=M)}this.updateStatus(!1,n)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var t=this.props.timeout,n,s,a;return n=s=a=t,t!=null&&typeof t!="number"&&(n=t.exit,s=t.enter,a=t.appear!==void 0?t.appear:s),{exit:n,enter:s,appear:a}},o.updateStatus=function(t,n){if(t===void 0&&(t=!1),n!==null)if(this.cancelNextCallback(),n===E){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:f.findDOMNode(this);s&&z(s)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===v&&this.setState({status:y})},o.performEnter=function(t){var n=this,s=this.props.enter,a=this.context?this.context.isMounting:t,i=this.props.nodeRef?[a]:[f.findDOMNode(this),a],l=i[0],c=i[1],u=this.getTimeouts(),p=a?u.appear:u.enter;if(!t&&!s||W.disabled){this.safeSetState({status:g},function(){n.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:E},function(){n.props.onEntering(l,c),n.onTransitionEnd(p,function(){n.safeSetState({status:g},function(){n.props.onEntered(l,c)})})})},o.performExit=function(){var t=this,n=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:f.findDOMNode(this);if(!n||W.disabled){this.safeSetState({status:v},function(){t.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:M},function(){t.props.onExiting(a),t.onTransitionEnd(s.exit,function(){t.safeSetState({status:v},function(){t.props.onExited(a)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(t,n){n=this.setNextCallback(n),this.setState(t,n)},o.setNextCallback=function(t){var n=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,n.nextCallback=null,t(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},o.onTransitionEnd=function(t,n){this.setNextCallback(n);var s=this.props.nodeRef?this.props.nodeRef.current:f.findDOMNode(this),a=t==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],l=i[0],c=i[1];this.props.addEndListener(l,c)}t!=null&&setTimeout(this.nextCallback,t)},o.render=function(){var t=this.state.status;if(t===y)return null;var n=this.props,s=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var a=B(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return f.createElement(F.Provider,{value:null},typeof s=="function"?s(t,a):f.cloneElement(f.Children.only(s),a))},r}(f.Component);h.contextType=F,h.propTypes={};function x(){}h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:x,onEntering:x,onEntered:x,onExit:x,onExiting:x,onExited:x},h.UNMOUNTED=y,h.EXITED=v,h.ENTERING=E,h.ENTERED=g,h.EXITING=M;const Et=h;var bt=function(e,r){return e&&r&&r.split(" ").forEach(function(o){return ht(e,o)})},w=function(e,r){return e&&r&&r.split(" ").forEach(function(o){return vt(e,o)})},G=function(e){$(r,e);function r(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,t.appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(i,l){var c=t.resolveArguments(i,l),u=c[0],p=c[1];t.removeClasses(u,"exit"),t.addClass(u,p?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(i,l)},t.onEntering=function(i,l){var c=t.resolveArguments(i,l),u=c[0],p=c[1],m=p?"appear":"enter";t.addClass(u,m,"active"),t.props.onEntering&&t.props.onEntering(i,l)},t.onEntered=function(i,l){var c=t.resolveArguments(i,l),u=c[0],p=c[1],m=p?"appear":"enter";t.removeClasses(u,m),t.addClass(u,m,"done"),t.props.onEntered&&t.props.onEntered(i,l)},t.onExit=function(i){var l=t.resolveArguments(i),c=l[0];t.removeClasses(c,"appear"),t.removeClasses(c,"enter"),t.addClass(c,"exit","base"),t.props.onExit&&t.props.onExit(i)},t.onExiting=function(i){var l=t.resolveArguments(i),c=l[0];t.addClass(c,"exit","active"),t.props.onExiting&&t.props.onExiting(i)},t.onExited=function(i){var l=t.resolveArguments(i),c=l[0];t.removeClasses(c,"exit"),t.addClass(c,"exit","done"),t.props.onExited&&t.props.onExited(i)},t.resolveArguments=function(i,l){return t.props.nodeRef?[t.props.nodeRef.current,i]:[i,l]},t.getClassNames=function(i){var l=t.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",p=c?""+u+i:l[i],m=c?p+"-active":l[i+"Active"],N=c?p+"-done":l[i+"Done"];return{baseClassName:p,activeClassName:m,doneClassName:N}},t}var o=r.prototype;return o.addClass=function(t,n,s){var a=this.getClassNames(n)[s+"ClassName"],i=this.getClassNames("enter"),l=i.doneClassName;n==="appear"&&s==="done"&&l&&(a+=" "+l),s==="active"&&t&&z(t),a&&(this.appliedClasses[n][s]=a,bt(t,a))},o.removeClasses=function(t,n){var s=this.appliedClasses[n],a=s.base,i=s.active,l=s.done;this.appliedClasses[n]={},a&&w(t,a),i&&w(t,i),l&&w(t,l)},o.render=function(){var t=this.props;t.classNames;var n=B(t,["classNames"]);return f.createElement(Et,P({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(f.Component);G.defaultProps={classNames:""},G.propTypes={};const gt=G;var xt=function(e,r){var o=function(t){return!t||!t.length?"":typeof t=="string"?" "+e+"--"+t:t.map(o).join("")};return o(r)},yt=xt,Ct=yt,Nt=function(e,r,o){return e+Ct(e,r)+(o?" "+o:"")},V=Nt,T=O,_t=V,Ot={next:"Next",prev:"Previous"},kt=function(e){var r=e.bem,o=r===void 0?"CarouselPaging":r,t=e.modifier,n=e.current,s=e.itemCount,a=e.setCurrent,i=e.texts,l=i===void 0?Ot:i,c=l.next,u=l.prev,p=l.unit,m=p===void 0?"":p;return T.createElement("div",{className:_t(o,t)},T.createElement("button",{className:o+"__button "+o+"__button--next",type:"button",disabled:n>=s-1,onClick:function(){return a(n+1)},"aria-controls":e["aria-controls"],"aria-label":c+" "+m,title:c+" "+m},c)," ",T.createElement("button",{className:o+"__button "+o+"__button--prev",type:"button",disabled:n===0,onClick:function(){return a(n-1)},"aria-controls":e["aria-controls"],"aria-label":u+" "+m,title:u+" "+m},u))},St=kt;const It=R(St);var q={};(function(e){/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var r=function(n,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var l in i)i.hasOwnProperty(l)&&(a[l]=i[l])},r(n,s)};function o(n,s){r(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}e.__assign=function(){return e.__assign=Object.assign||function(n){for(var s=arguments,a,i=1,l=arguments.length;i<l;i++){a=s[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},e.__assign.apply(this,arguments)};function t(n,s){var a={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.indexOf(i)<0&&(a[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(n);l<i.length;l++)s.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(n,i[l])&&(a[i[l]]=n[i[l]]);return a}e.__extends=o,e.__rest=t})(q);var X=O,Pt=O,Lt=nt;function Mt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var wt=Mt(Lt),Gt=function(){var e=document.createElement("div");return document.body.appendChild(e),e},Tt=function(e){var r=e.getRoot,o=e.children,t=X.useState(null),n=t[0],s=t[1];return X.useEffect(function(){return s((r||Gt)()),function(){n&&wt.default(n)}},[]),n?Pt.createPortal(o,n):null},jt=Tt,Dt=q,b=O,H=V,Rt=rt,At=jt,Bt=ot;function $t(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ut=$t(Rt),j=typeof window<"u"?window:void 0,C=j?j.$$modalStack||(j.$$modalStack=[]):[],Wt=function(e){document.documentElement.classList.add(K),C.unshift(e)},J=function(e){var r=C.indexOf(e);r>-1&&C.splice(r,1),C.length<=0&&document.documentElement.classList.remove(K)},K="modal-open",Ft={closeButton:"Close",closeButtonLabel:"Close this window"},zt=function(e){Dt.__extends(r,e);function r(o){var t=e.call(this,o)||this;return t.close=t.close.bind(t),t.closeModalOnCurtainClick=t.closeModalOnCurtainClick.bind(t),t.closeModalOnEsc=t.closeModalOnEsc.bind(t),t.state={open:!!o.startOpen&&o.open!==!1,domid:"Modal"},t}return r.prototype.componentDidMount=function(){this.setState({domid:this.state.domid+Ut.default()}),document.addEventListener("keydown",this.closeModalOnEsc),(this.props.open||this.state.open)&&this.open()},r.prototype.componentDidUpdate=function(o){var t=this.props.open;t!==o.open&&(t?this.open():this.close())},r.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.closeModalOnEsc),J(this)},r.prototype.open=function(){var o=this;Wt(this),this.state.open||setTimeout(function(){o.setState({open:!0}),o.props.onOpen&&o.props.onOpen(),o.modalElm&&Bt.focusElm(o.modalElm)},100)},r.prototype.close=function(){var o=this;this.state.open&&(this.setState({open:!1}),J(this),this.props.onClose&&this.props.onClose(),this.props.onClosed&&setTimeout(function(){o.props.onClosed()},this.props.closeDelay))},r.prototype.closeModalOnCurtainClick=function(o){o.target===o.currentTarget&&this.close()},r.prototype.closeModalOnEsc=function(o){C[0]===this&&this.props.fickle!==!1&&o.key==="Esc"&&this.close()},r.prototype.render=function(){var o=this,t=this.props,n=this.state.open,s=this.state.domid,a=t.bem||"Modal",i=t.fickle!==!1||void 0,l=t.texts||Ft,c=l.closeButton,u=l.closeButtonLabel,p=u===void 0?l.closeButton:u,m=t.portal?At:b.Fragment,N=t.render?t.render({closeModal:function(){return o.close()}}):t.children;return b.createElement(m,null,b.createElement("div",{className:H(a+"wrapper",t.modifier),hidden:!n,role:"dialog",onClick:i&&this.closeModalOnCurtainClick,id:s},b.createElement("div",{className:H(a,t.modifier),ref:function(Q){o.modalElm=Q}},t.bodyWrap?b.createElement("div",{className:a+"__body"},N):N,b.createElement("button",{className:a+"__closebutton",type:"button",onClick:this.close,"aria-label":p,"aria-controls":s,title:p},c))))},r.defaultProps={closeDelay:1e3,open:!0,portal:!0},r}(b.Component),Vt=zt;const qt=R(Vt),Xt=e=>{const{caption:r,description:o,...t}=e;return d("div",{className:"GalleryModalItem",children:[(r||o)&&d("div",{className:"GalleryModalItem__text",children:[d("div",{className:"GalleryModalItem__caption",children:r}),d("div",{className:"GalleryModalItem__description",children:o})]}),d(S,{bem:"GalleryModalItem__image",src:t.largeImageSrc||t.src})]})},Ht=e=>{const{texts:r}=e,{currentImage:o,items:t,setCurrentImage:n}=D(I),[s,a]=k(o),[i,l]=k(!1),c=p=>{l(!i),setTimeout(()=>{n(t[p])},200)};if(Z(()=>{if(s!==o){const p=o?.largeImageSrc||o?.src;if(p){const m=new window.Image;m.src=p,m.onload=()=>{a(o)}}else a(void 0)}},[s,o]),!s)return null;const u=t.findIndex(p=>st(A(s),A(p)));return d(qt,{open:!0,onClosed:()=>{n(void 0)},startOpen:!1,bem:"GalleryModal",texts:{closeButton:r.modalCloseLabel},children:d(tt,{children:[d(gt,{in:i,timeout:200,onEntered:()=>{l(!i)},classNames:"GalleryModalItem--",children:d(Xt,{...s})}),d(It,{bem:"GalleryModalPager",itemCount:t.length,current:u,setCurrent:c,texts:{next:r.modalNextLabel,prev:r.modalPrevLabel}})]})})},Jt={en:{modalNextLabel:"Next image",modalPrevLabel:"Previous image",modalCloseLabel:"Back to article"},is:{modalNextLabel:"N\xE6sta mynd",modalPrevLabel:"Fyrri mynd",modalCloseLabel:"Til baka \xED grein"},pl:{modalNextLabel:"Nast\u0119pne zdj\u0119cie",modalPrevLabel:"Poprzednie zdj\u0119cie",modalCloseLabel:"Powr\xF3t do artyku\u0142u"}},Kt=e=>{const{items:r,ssr:o}=e,t=it(e,Jt),[n,s]=k(void 0),a=et(()=>({items:r,setCurrentImage:s,currentImage:n}),[r,n]);return d(I.Provider,{value:a,children:[d(ct,{bem:"Gallery",items:r,Component:mt,ssr:o,wrapperProps:e.wrapperProps}),d(Ht,{...n,texts:t})]})},Qt=e=>{const r=lt(e);return{items:at(".GalleryItem",e).map(o=>{var t,n,s;const a=_(".GalleryItem__image img",o),i=((t=_(".GalleryItem__caption",o))==null?void 0:t.textContent)||void 0,l=((n=_(".GalleryItem__description",o))==null?void 0:n.textContent)||void 0,c=((s=_("a.GalleryItem__button",o))==null?void 0:s.href)||void 0;return{altText:a?a.alt:void 0,src:a?a.src:void 0,caption:i,largeImageSrc:c,description:l}}),lang:r}};window.Hanna.makeSprinkle({name:"Gallery",init:e=>{const r=Qt(e),o=document.createElement("div");f.render(d(Kt,{...r,ssr:!1,wrapperProps:ut(e)}),o,()=>{e.replaceWith(o),dt()})}});
