System.register(["./initHannaNamespace.js","../_chunks/compat.module-36c495df.js","../_chunks/qj-9ff1fed3.js","../_chunks/useFormatMonitor-8de02688.js","../_chunks/utils-f31475b7.js","../_chunks/_Link-54d20488.js","../_chunks/jsxRuntime.module-014dea07.js","../_chunks/focus-visible-4a3df2ba.js"],function(Y,Z){"use strict";var H,q,D,E,T,F,N,P,L,R,x,O,A,M,n;return{setters:[null,e=>{H=e.h,q=e.b,D=e.F,E=e.p,T=e.C},e=>{F=e.c,N=e.m,P=e.h,L=e.a,R=e.q},e=>{x=e.h},e=>{O=e.a,A=e.n},e=>{M=e.L},e=>{n=e.o},null],execute:function(){const e=t=>t&&t.trim().replace(/(?:\n\s*)+/g,`

`).split(/\n/).map((m,c)=>m||n("br",{},c)),I={is:{lang:"is",openBtn:"Hafa samband",closeBtn:"Loka",closeBtnLong:"Loka valmynd"},en:{lang:"en",openBtn:"Contact us",closeBtn:"Close",closeBtnLong:"Close bubble"}},J={suggestions:1,phone:1,faq:1,livechat:1,other:0},W=t=>t&&J[t]?t:void 0,K=t=>{const{title:m,links:c,onToggle:h,alwaysShow:_,wrapperProps:C={}}=t,a=O(t,I),B=t.open==null,[p,l]=H(!1),r=B?p:t.open,i=x.useIsBrowserSide(t.ssr),v=x.useDomid(),j=q(null),k=C.ref||j,{openBubble:V,closeBubble:u}=D(()=>({openBubble:()=>{B&&l(!0),h&&h(!0)},closeBubble:s=>{B&&l(!1),h&&h(!1),s!==!1&&F.focusElm(k.current)}}),[B,h]);if(E(()=>{const s=k.current;if(!s)return;if(_){s.dataset.show="true";return}let d=0;const o=()=>{d||(d=requestAnimationFrame(()=>{const{scrollTop:b,scrollHeight:f,clientHeight:S}=document.documentElement,w=f-S,g=1,y=b>g*150&&w-b>g*250;s.dataset.show=String(y),!y&&u(!1),d=0}))};return o(),document.addEventListener("scroll",o),document.documentElement.addEventListener("scroll",o),()=>{document.removeEventListener("scroll",o),document.documentElement.removeEventListener("scroll",o)}},[i,_,u]),E(()=>{const s=b=>b.key==="Escape"&&u(),d=b=>{var f;r&&!((f=k.current)!=null&&f.contains(b.target))&&u(!1)};document.addEventListener("keydown",s),document.addEventListener("click",d,!0);const o=document.documentElement.dataset;return r?o.contactBubble="true":delete o.contactBubble,()=>{delete o.contactBubble,document.removeEventListener("keydown",s),document.removeEventListener("click",d,!0)}},[r,u]),c.length===0)return null;const $=n("div",{...t.wrapperProps,className:N("ContactBubble",null,C.className),id:i&&v,hidden:i&&!r,"data-always-show":_||void 0,"data-sprinkled":i,children:[n("h2",{className:"ContactBubble__title",children:m||a.openBtn}),n("ul",{className:"ContactBubble__list",children:c.map((s,d)=>{const{href:o,label:b,extraLabel:f,target:S,onClick:w}=s,g=W(s.icon),y=N("ContactBubble__item",g&&"type--"+g),z=X=>{w&&w()!==!0&&X.preventDefault(),u(!1)},G=[" ",b,`
`,f&&n("small",{children:e(f)},"ðŸ¤¡"),`
`];return n("li",{className:y,children:o&&o!=="#"?n(M,{className:"ContactBubble__link",href:o,onClick:z,target:S,children:G}):n("button",{className:"ContactBubble__link",onClick:z,type:"button",children:G})},d)})}),`

`,i&&n("button",{className:"ContactBubble__closebtn","aria-controls":v,"aria-label":a.closeBtnLong,onClick:()=>u(),type:"button",children:a.closeBtn})]});return i?n("div",{className:"ContactBubble__wrapper",ref:k,children:[n("button",{className:"ContactBubble__openbtn","aria-controls":v,"aria-expanded":r,"aria-label":a.openBtnLong,onClick:r?()=>u():V,type:"button",children:a.openBtn}),`

`,$]}):$},Q=/(?:^| )ContactBubble__item--type--(.+?)(?: |$)/,U=t=>{var C;const m=t.dataset.alwaysShow==="true",c=P(),h=((C=L(".ContactBubble__title",t))==null?void 0:C.textContent)||void 0,_=R(".ContactBubble__item",t).map((a,B)=>{const p=L(".ContactBubble__link",a);if(!p)return;const l=L("small",p);l==null||l.remove();const r=p.textContent||"Link "+(B+1),i=(l==null?void 0:l.textContent)||void 0,v=p.getAttribute("href")||"",j=p.target||void 0,k=(a.className.match(Q)||[])[1];return{icon:W(k),extraLabel:i,href:v,label:r,target:j}}).filter(A);return{title:h,links:_,alwaysShow:m,lang:c}};window.Hanna.makeSprinkle({name:"ContactBubble",init:t=>{const m=U(t),c=document.createElement("div");T.render(n(K,{...m,ssr:!1}),c,()=>{t.replaceWith(c)})}})}}});
