System.register(["./initHannaNamespace.js","../_chunks/compat.module-36c495df.js","../_chunks/qj-34a4e316.js","../_chunks/useFormatMonitor-96162446.js","../_chunks/jsxRuntime.module-f3819b2c.js","../_chunks/utils-029f7e50.js","../_chunks/_Link-54d20488.js","../_chunks/focus-visible-165ac59f.js"],function(V,X){"use strict";var j,S,H,w,q,D,T,g,F,y,n,O,R,A,P;return{setters:[null,e=>{j=e.h,S=e.b,H=e.F,w=e.p,q=e.C},e=>{D=e.c,T=e.h,g=e.a,F=e.q},e=>{y=e.h},e=>{n=e.o,O=e.a},e=>{R=e.a,A=e.n},e=>{P=e.L},null],execute:function(){const e=t=>t&&t.trim().replace(/(?:\n\s*)+/g,`

`).split(/\n/).map((m,a)=>m||n("br",{},a)),G={is:{lang:"is",openBtn:"Hafa samband",closeBtn:"Loka",closeBtnLong:"Loka valmynd"},en:{lang:"en",openBtn:"Contact us",closeBtn:"Close",closeBtnLong:"Close bubble"}},I={suggestions:1,phone:1,faq:1,livechat:1,other:0},M=t=>t&&I[t]?t:void 0,J=t=>{const{title:m,links:a,onToggle:h,alwaysShow:f}=t,r=R(t,G),p=t.open==null,[E,i]=j(!1),o=p?E:t.open,u=y.useIsBrowserSide(t.ssr),C=y.useDomid(),k=S(null),{openBubble:N,closeBubble:l}=H(()=>({openBubble:()=>{p&&i(!0),h&&h(!0)},closeBubble:c=>{p&&i(!1),h&&h(!1),c!==!1&&D.focusElm(k.current)}}),[p,h]);if(w(()=>{const c=k.current;if(!c)return;if(f){c.dataset.show="true";return}let b=0;const s=()=>{b||(b=requestAnimationFrame(()=>{const{scrollTop:d,scrollHeight:B,clientHeight:x}=document.documentElement,v=B-x,_=1,L=d>_*150&&v-d>_*250;c.dataset.show=String(L),!L&&l(!1),b=0}))};return s(),document.addEventListener("scroll",s),document.documentElement.addEventListener("scroll",s),()=>{document.removeEventListener("scroll",s),document.documentElement.removeEventListener("scroll",s)}},[u,f,l]),w(()=>{const c=d=>d.key==="Escape"&&l(),b=d=>{var B;o&&!((B=k.current)!=null&&B.contains(d.target))&&l(!1)};document.addEventListener("keydown",c),document.addEventListener("click",b,!0);const s=document.documentElement.dataset;return o?s.contactBubble="true":delete s.contactBubble,()=>{delete s.contactBubble,document.removeEventListener("keydown",c),document.removeEventListener("click",b,!0)}},[o,l]),a.length===0)return null;const W=n("div",{className:"ContactBubble",id:u&&C,hidden:u&&!o,"data-always-show":f||void 0,"data-sprinkled":u,children:[n("h2",{className:"ContactBubble__title",children:m||r.openBtn}),n("ul",{className:"ContactBubble__list",children:a.map((c,b)=>{const{href:s,label:d,extraLabel:B,target:x,onClick:v}=c,_=M(c.icon),L=O("ContactBubble__item",_&&"type--"+_),$=U=>{v&&v()!==!0&&U.preventDefault(),l(!1)},z=[" ",d,`
`,B&&n("small",{children:e(B)},"ðŸ¤¡"),`
`];return n("li",{className:L,children:s&&s!=="#"?n(P,{className:"ContactBubble__link",href:s,onClick:$,target:x,children:z}):n("button",{className:"ContactBubble__link",onClick:$,type:"button",children:z})},b)})}),`

`,u&&n("button",{className:"ContactBubble__closebtn","aria-controls":C,"aria-label":r.closeBtnLong,onClick:()=>l(),type:"button",children:r.closeBtn})]});return u?n("div",{className:"ContactBubble__wrapper",ref:k,children:[n("button",{className:"ContactBubble__openbtn","aria-controls":C,"aria-expanded":o,"aria-label":r.openBtnLong,onClick:o?()=>l():N,type:"button",children:r.openBtn}),`

`,W]}):W},K=/(?:^| )ContactBubble__item--type--(.+?)(?: |$)/,Q=t=>{var r;const m=t.dataset.alwaysShow==="true",a=T(),h=((r=g(".ContactBubble__title",t))==null?void 0:r.textContent)||void 0,f=F(".ContactBubble__item",t).map((p,E)=>{const i=g(".ContactBubble__link",p);if(!i)return;const o=g("small",i);o==null||o.remove();const u=i.textContent||"Link "+(E+1),C=(o==null?void 0:o.textContent)||void 0,k=i.getAttribute("href")||"",N=i.target||void 0,l=(p.className.match(K)||[])[1];return{icon:M(l),extraLabel:C,href:k,label:u,target:N}}).filter(A);return{title:h,links:f,alwaysShow:m,lang:a}};window.Hanna.makeSprinkle({name:"ContactBubble",init:t=>{const m=Q(t),a=document.createElement("div");q.render(n(J,{...m,ssr:!1}),a,()=>{t.replaceWith(a)})}})}}});
