System.register(["./initHannaNamespace.js","../_chunks/compat.module-a402cbb4.js","../_chunks/qj-7a691f7a.js","../_chunks/utils-912f90e8.js","../_chunks/_Link-2be16f36.js","../_chunks/jsxRuntime.module-9909fe88.js","../_chunks/useFormatMonitor-7bb96c94.js","./utils/focus-visible.js"],function(Y,ee){"use strict";var S,H,q,E,D,T,N,L,F,P,R,O,z,n,A,Z;return{setters:[null,e=>{S=e.h,H=e.a,q=e.F,E=e.p,D=e.C},e=>{T=e.e,N=e.m,L=e.a,F=e.q},e=>{P=e.b,R=e.c,O=e.n},e=>{z=e.L},e=>{n=e.o,A=e.u},e=>{Z=e.u},null],execute:function(){const e=t=>t&&t.trim().replace(/(?:\n\s*)+/g,`

`).split(/\n/).map((m,c)=>m||n("br",{},c)),I={is:{openBtn:"Hafa samband",closeBtn:"Loka",closeBtnLong:"Loka valmynd"},en:{openBtn:"Contact us",closeBtn:"Close",closeBtnLong:"Close bubble"},pl:{openBtn:"Skontaktuj siÄ™ z nami",closeBtn:"ZamknÄ…Ä‡",closeBtnLong:"ZamknÄ…Ä‡ pÄ™cherzyk"}},J={suggestions:1,phone:1,faq:1,livechat:1,other:0},M=t=>t&&J[t]?t:void 0,K=t=>{const{title:m,links:c,onToggle:p,alwaysShow:_,wrapperProps:C={}}=t,a=P(t,I),k=t.open==null,[h,l]=S(!1),r=k?h:t.open,i=A(t.ssr),v=Z(),j=H(null),f=C.ref||j,{openBubble:V,closeBubble:u}=q(()=>({openBubble:()=>{k&&l(!0),p&&p(!0)},closeBubble:s=>{k&&l(!1),p&&p(!1),s!==!1&&T.focusElm(f.current)}}),[k,p]);if(E(()=>{const s=f.current;if(!s)return;if(_){s.dataset.show="true";return}let b=0;const o=()=>{b||(b=requestAnimationFrame(()=>{const{scrollTop:d,scrollHeight:B,clientHeight:x}=document.documentElement,w=B-x,g=1,y=d>g*150&&w-d>g*250;s.dataset.show=String(y),!y&&u(!1),b=0}))};return o(),document.addEventListener("scroll",o),document.documentElement.addEventListener("scroll",o),()=>{document.removeEventListener("scroll",o),document.documentElement.removeEventListener("scroll",o)}},[i,_,u]),E(()=>{const s=d=>d.key==="Escape"&&u(),b=d=>{var B;r&&!((B=f.current)!=null&&B.contains(d.target))&&u(!1)};document.addEventListener("keydown",s),document.addEventListener("click",b,!0);const o=document.documentElement.dataset;return r?o.contactBubble="true":delete o.contactBubble,()=>{delete o.contactBubble,document.removeEventListener("keydown",s),document.removeEventListener("click",b,!0)}},[r,u]),c.length===0)return null;const W=n("div",{...t.wrapperProps,className:N("ContactBubble",null,C.className),id:i&&v,hidden:i&&!r,"data-always-show":_||void 0,"data-sprinkled":i,children:[n("h2",{className:"ContactBubble__title",children:m||a.openBtn}),n("ul",{className:"ContactBubble__list",children:c.map((s,b)=>{const{href:o,label:d,extraLabel:B,target:x,onClick:w}=s,g=M(s.icon),y=N("ContactBubble__item",g&&"type--"+g),$=X=>{w&&w()!==!0&&X.preventDefault(),u(!1)},G=[" ",d,`
`,B&&n("small",{children:e(B)},"ðŸ¤¡"),`
`];return n("li",{className:y,children:o&&o!=="#"?n(z,{className:"ContactBubble__link",href:o,onClick:$,target:x,children:G}):n("button",{className:"ContactBubble__link",onClick:$,type:"button",children:G})},b)})}),`

`,i&&n("button",{className:"ContactBubble__closebtn","aria-controls":v,"aria-label":a.closeBtnLong,onClick:()=>u(),type:"button",children:a.closeBtn})]});return i?n("div",{className:"ContactBubble__wrapper",ref:f,children:[n("button",{className:"ContactBubble__openbtn","aria-controls":v,"aria-expanded":r,"aria-label":a.openBtnLong,onClick:r?()=>u():V,type:"button",children:a.openBtn}),`

`,W]}):W},Q=/(?:^| )ContactBubble__item--type--(.+?)(?: |$)/,U=t=>{var C;const m=t.dataset.alwaysShow==="true",c=R(t),p=((C=L(".ContactBubble__title",t))==null?void 0:C.textContent)||void 0,_=F(".ContactBubble__item",t).map((a,k)=>{const h=L(".ContactBubble__link",a);if(!h)return;const l=L("small",h);l==null||l.remove();const r=h.textContent||"Link "+(k+1),i=(l==null?void 0:l.textContent)||void 0,v=h.getAttribute("href")||"",j=h.target||void 0,f=(a.className.match(Q)||[])[1];return{icon:M(f),extraLabel:i,href:v,label:r,target:j}}).filter(O);return{title:p,links:_,alwaysShow:m,lang:c}};window.Hanna.makeSprinkle({name:"ContactBubble",init:t=>{const m=U(t),c=document.createElement("div");D.render(n(K,{...m,ssr:!1}),c,()=>{t.replaceWith(c)})}})}}});
