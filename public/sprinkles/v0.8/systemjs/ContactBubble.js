System.register(["./initHannaNamespace.js","../_chunks/compat.module-36c495df.js","../_chunks/qj-f461fc7f.js","../_chunks/useFormatMonitor-96ae6dcd.js","../_chunks/jsxRuntime.module-8ec9a4a6.js","../_chunks/utils-1076813e.js","../_chunks/_Link-54d20488.js","../_chunks/focus-visible-464088f4.js"],function(X,Y){"use strict";var S,H,q,y,D,T,F,g,O,N,n,P,R,A,M,W;return{setters:[null,t=>{S=t.h,H=t.b,q=t.F,y=t.p,D=t.C},t=>{T=t.c,F=t.h,g=t.a,O=t.q},t=>{N=t.h},t=>{n=t.o,P=t.a},t=>{R=t.a,A=t.b,M=t.n},t=>{W=t.L},null],execute:function(){const t=e=>e&&e.trim().replace(/(?:\n\s*)+/g,`

`).split(/\n/).map((m,r)=>m||n("br",{},r)),I={is:{lang:"is",openBtn:"Hafa samband",closeBtn:"Loka",closeBtnLong:"Loka valmynd"},en:{lang:"en",openBtn:"Contact us",closeBtn:"Close",closeBtnLong:"Close bubble"}},J={suggestions:1,phone:1,faq:1,livechat:1,other:0},$=e=>e&&J[e]?e:void 0,K=e=>{const{title:m,links:r,onToggle:p,alwaysShow:f}=e,i=R(e,I),B=e.open==null,[E,u]=S(!1),s=B?E:e.open,b=N.useIsBrowserSide(e.ssr),C=N.useDomid(),k=H(null),{openBubble:x,closeBubble:a}=q(()=>({openBubble:()=>{B&&u(!0),p&&p(!0)},closeBubble:o=>{B&&u(!1),p&&p(!1),o!==!1&&T(k.current)}}),[B,p]);if(y(()=>{const o=k.current;if(!o)return;if(f){o.dataset.show="true";return}const d=A();let c=0;const l=()=>{c||(c=requestAnimationFrame(()=>{const{scrollTop:h,scrollHeight:j,clientHeight:v}=d,L=j-v,w=1,_=h>w*150&&L-h>w*250;o.dataset.show=String(_),!_&&a(!1),c=0}))};return l(),document.addEventListener("scroll",l),d.addEventListener("scroll",l),()=>{document.removeEventListener("scroll",l),d.removeEventListener("scroll",l)}},[b,f,a]),y(()=>{const o=l=>l.key==="Escape"&&a(),d=l=>{var h;s&&!((h=k.current)!=null&&h.contains(l.target))&&a(!1)};document.addEventListener("keydown",o),document.addEventListener("click",d,!0);const c=document.documentElement.dataset;return s?c.contactBubble="true":delete c.contactBubble,()=>{delete c.contactBubble,document.removeEventListener("keydown",o),document.removeEventListener("click",d,!0)}},[s,a]),r.length===0)return null;const z=n("div",{className:"ContactBubble",id:b&&C,hidden:b&&!s,"data-always-show":f||void 0,"data-sprinkled":b,children:[n("h2",{className:"ContactBubble__title",children:m||i.openBtn}),n("ul",{className:"ContactBubble__list",children:r.map((o,d)=>{const{href:c,label:l,extraLabel:h,target:j,onClick:v}=o,L=$(o.icon),w=P("ContactBubble__item",L&&"type--"+L),_=V=>{v&&v()!==!0&&V.preventDefault(),a(!1)},G=[" ",l,`
`,h&&n("small",{children:t(h)},"ðŸ¤¡"),`
`];return n("li",{className:w,children:c&&c!=="#"?n(W,{className:"ContactBubble__link",href:c,onClick:_,target:j,children:G}):n("button",{className:"ContactBubble__link",onClick:_,type:"button",children:G})},d)})}),`

`,b&&n("button",{className:"ContactBubble__closebtn","aria-controls":C,"aria-label":i.closeBtnLong,onClick:()=>a(),type:"button",children:i.closeBtn})]});return b?n("div",{className:"ContactBubble__wrapper",ref:k,children:[n("button",{className:"ContactBubble__openbtn","aria-controls":C,"aria-expanded":s,"aria-label":i.openBtnLong,onClick:s?()=>a():x,type:"button",children:i.openBtn}),`

`,z]}):z},Q=/(?:^| )ContactBubble__item--type--(.+?)(?: |$)/,U=e=>{var i;const m=e.dataset.alwaysShow==="true",r=F(),p=((i=g(".ContactBubble__title",e))==null?void 0:i.textContent)||void 0,f=O(".ContactBubble__item",e).map((B,E)=>{const u=g(".ContactBubble__link",B);if(!u)return;const s=g("small",u);s==null||s.remove();const b=u.textContent||"Link "+(E+1),C=(s==null?void 0:s.textContent)||void 0,k=u.getAttribute("href")||"",x=u.target||void 0,a=(B.className.match(Q)||[])[1];return{icon:$(a),extraLabel:C,href:k,label:b,target:x}}).filter(M);return{title:p,links:f,alwaysShow:m,lang:r}};window.Hanna.makeSprinkle({name:"ContactBubble",init:e=>{const m=U(e),r=document.createElement("div");D.render(n(K,{...m,ssr:!1}),r,()=>{e.replaceWith(r)})}})}}});
