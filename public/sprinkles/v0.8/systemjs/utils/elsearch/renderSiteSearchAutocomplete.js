System.register(["../../../_chunks/initHannaNamespace-0a67fc41.js","../../../_chunks/compat.module-f633f329.js","../../../_chunks/qj-f4bfbfcd.js","../../../_chunks/jsxRuntime.module-67585037.js","../../../_chunks/getSVGtext-ef8676a9.js","../../../_chunks/i18n-e4535dde.js","../../../_chunks/_useMobileMenuToggling-3a331832.js","../../../_chunks/SiteSearchInput-2b4cbf38.js","../../../_chunks/env-dcc319ba.js","../../../_chunks/useLaggedState-16268440.js","../../../_chunks/ensureCSS-26c9a098.js","../../../_chunks/getLang-7dcb09b7.js","./reykjavik.is.js","../../../_chunks/hannavars-2d9fdd0f.js","../../../_chunks/ObjectHelpers-b2dcb30a.js","../../../_chunks/assets-cefd5009.js"],function(Xe,Pt){"use strict";var ce,Ie,we,Pe,Re,Ce,Z,ye,Te,re,xe,De,Ee,je,ke,qe,Me;return{setters:[null,q=>{ce=q.h,Ie=q._,we=q.p,Pe=q.C},q=>{Re=q.g,Ce=q.d},q=>{Z=q.o,ye=q.m},null,q=>{Te=q.g},q=>{re=q.r},q=>{xe=q.S},q=>{De=q.i},q=>{Ee=q.u},q=>{je=q.e},q=>{ke=q.g},q=>{qe=q.createElasticQuery,Me=q.postQuery},null,null,null],execute:function(){var q={exports:{}},Ze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",et=Ze,tt=et;function Ae(){}function Fe(){}Fe.resetWarningCache=Ae;var nt=function(){function m(O,C,I,R,x,h){if(h!==tt){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}m.isRequired=m;function g(){return m}var a={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:g,element:m,elementType:m,instanceOf:g,node:m,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:Fe,resetWarningCache:Ae};return a.PropTypes=a,a};q.exports,q.exports=nt();var ae=q.exports;const rt=m=>{const{Tag:g="h1",align:a,small:O,children:C,wrapperProps:I}=m;return Z(g,{...I,className:ye("PageHeading",[O&&"small",a==="right"&&`align--${a}`],(I||{}).className),children:C})};var He={};function it(m,g){if(m===g)return!0;if(!m||!g)return!1;var a=m.length;if(g.length!==a)return!1;for(var O=0;O<a;O++)if(m[O]!==g[O])return!1;return!0}var ot=it,Ue={},Le=function(){function m(g,a){var O=[],C=!0,I=!1,R=void 0;try{for(var x=g[Symbol.iterator](),h;!(C=(h=x.next()).done)&&(O.push(h.value),!(a&&O.length===a));C=!0);}catch(y){I=!0,R=y}finally{try{!C&&x.return&&x.return()}finally{if(I)throw R}}return O}return function(g,a){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return m(g,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ut=function(m){var g=m.data,a=m.multiSection;function O(h){for(h===null?h=0:h++;h<g.length&&g[h]===0;)h++;return h===g.length?null:h}function C(h){for(h===null?h=g.length-1:h--;h>=0&&g[h]===0;)h--;return h===-1?null:h}function I(h){var y=Le(h,2),w=y[0],D=y[1];return a?D===null||D===g[w]-1?(w=O(w),w===null?[null,null]:[w,0]):[w,D+1]:g===0||D===g-1?[null,null]:D===null?[null,0]:[null,D+1]}function R(h){var y=Le(h,2),w=y[0],D=y[1];return a?D===null||D===0?(w=C(w),w===null?[null,null]:[w,g[w]-1]):[w,D-1]:g===0||D===0?[null,null]:D===null?[null,g-1]:[null,D-1]}function x(h){return I(h)[1]===null}return{next:I,prev:R,isLast:x}},fe={exports:{}},st=Object.prototype.propertyIsEnumerable;function at(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function lt(m){var g=Object.getOwnPropertyNames(m);return Object.getOwnPropertySymbols&&(g=g.concat(Object.getOwnPropertySymbols(m))),g.filter(function(a){return st.call(m,a)})}var ct=Object.assign||function(m,g){for(var a,O,C=at(m),I=1;I<arguments.length;I++){a=arguments[I],O=lt(Object(a));for(var R=0;R<O.length;R++)C[O[R]]=a[O[R]]}return C};fe.exports,function(m,g){Object.defineProperty(g,"__esModule",{value:!0});var a=function(){function h(y,w){var D=[],M=!0,U=!1,L=void 0;try{for(var F=y[Symbol.iterator](),H;!(M=(H=F.next()).done)&&(D.push(H.value),!(w&&D.length===w));M=!0);}catch(T){U=!0,L=T}finally{try{!M&&F.return&&F.return()}finally{if(U)throw L}}return D}return function(y,w){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return h(y,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function O(h){return h&&h.__esModule?h:{default:h}}function C(h){if(Array.isArray(h)){for(var y=0,w=Array(h.length);y<h.length;y++)w[y]=h[y];return w}else return Array.from(h)}var I=ct,R=O(I),x=function(y){return y};g.default=function(h){var y=Array.isArray(h)&&h.length===2?h:[h,null],w=a(y,2),D=w[0],M=w[1];return function(U){for(var L=arguments.length,F=Array(L>1?L-1:0),H=1;H<L;H++)F[H-1]=arguments[H];var T=F.map(function(W){return D[W]}).filter(x);return typeof T[0]=="string"||typeof M=="function"?{key:U,className:M?M.apply(void 0,C(T)):T.join(" ")}:{key:U,style:R.default.apply(void 0,[{}].concat(C(T)))}}},m.exports=g.default}(fe,fe.exports);var ft=fe.exports,We={},ge={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=a;function g(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(I){return typeof I}:g=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},g(O)}function a(O,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(O===C)return!1;var R=Object.keys(O),x=Object.keys(C);if(R.length!==x.length)return!0;var h={},y,w;for(y=0,w=I.length;y<w;y++)h[I[y]]=!0;for(y=0,w=R.length;y<w;y++){var D=R[y],M=O[D],U=C[D];if(M!==U){if(!h[D]||M===null||U===null||g(M)!=="object"||g(U)!=="object")return!0;var L=Object.keys(M),F=Object.keys(U);if(L.length!==F.length)return!0;for(var H=0,T=L.length;H<T;H++){var W=L[H];if(M[W]!==U[W])return!0}}}return!1}})(ge),function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=R(re),a=C(ae),O=C(ge);function C(S){return S&&S.__esModule?S:{default:S}}function I(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return I=function(){return S},S}function R(S){if(S&&S.__esModule)return S;if(S===null||x(S)!=="object"&&typeof S!="function")return{default:S};var P=I();if(P&&P.has(S))return P.get(S);var v={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in S)if(Object.prototype.hasOwnProperty.call(S,c)){var n=j?Object.getOwnPropertyDescriptor(S,c):null;n&&(n.get||n.set)?Object.defineProperty(v,c,n):v[c]=S[c]}return v.default=S,P&&P.set(S,v),v}function x(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(v){return typeof v}:x=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},x(S)}function h(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function y(S,P){for(var v=0;v<P.length;v++){var j=P[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(S,j.key,j)}}function w(S,P,v){return P&&y(S.prototype,P),v&&y(S,v),S}function D(S){return function(){var P=F(S),v;if(L()){var j=F(this).constructor;v=Reflect.construct(P,arguments,j)}else v=P.apply(this,arguments);return M(this,v)}}function M(S,P){return P&&(x(P)==="object"||typeof P=="function")?P:U(S)}function U(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function F(S){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},F(S)}function H(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),P&&T(S,P)}function T(S,P){return T=Object.setPrototypeOf||function(j,c){return j.__proto__=c,j},T(S,P)}function W(S,P,v){return P in S?Object.defineProperty(S,P,{value:v,enumerable:!0,configurable:!0,writable:!0}):S[P]=v,S}var G=function(S){H(v,S);var P=D(v);function v(){return h(this,v),P.apply(this,arguments)}return w(v,[{key:"shouldComponentUpdate",value:function(c){return(0,O.default)(c,this.props)}},{key:"render",value:function(){var c=this.props,n=c.section,u=c.renderSectionTitle,f=c.theme,d=c.sectionKeyPrefix,_=u(n);return _?g.default.createElement("div",f("".concat(d,"title"),"sectionTitle"),_):null}}]),v}(g.Component);m.default=G,W(G,"propTypes",{section:a.default.any.isRequired,renderSectionTitle:a.default.func.isRequired,theme:a.default.func.isRequired,sectionKeyPrefix:a.default.string.isRequired})}(We);var Ne={},$e={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=R(re),a=C(ae),O=C(ge);function C(n){return n&&n.__esModule?n:{default:n}}function I(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return I=function(){return n},n}function R(n){if(n&&n.__esModule)return n;if(n===null||x(n)!=="object"&&typeof n!="function")return{default:n};var u=I();if(u&&u.has(n))return u.get(n);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in n)if(Object.prototype.hasOwnProperty.call(n,_)){var k=d?Object.getOwnPropertyDescriptor(n,_):null;k&&(k.get||k.set)?Object.defineProperty(f,_,k):f[_]=n[_]}return f.default=n,u&&u.set(n,f),f}function x(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(f){return typeof f}:x=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},x(n)}function h(){return h=Object.assign||function(n){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(n[d]=f[d])}return n},h.apply(this,arguments)}function y(n,u){var f=Object.keys(n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);u&&(d=d.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),f.push.apply(f,d)}return f}function w(n){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?y(Object(f),!0).forEach(function(d){j(n,d,f[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(f)):y(Object(f)).forEach(function(d){Object.defineProperty(n,d,Object.getOwnPropertyDescriptor(f,d))})}return n}function D(n,u){if(n==null)return{};var f=M(n,u),d,_;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(n);for(_=0;_<k.length;_++)d=k[_],!(u.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(n,d)&&(f[d]=n[d])}return f}function M(n,u){if(n==null)return{};var f={},d=Object.keys(n),_,k;for(k=0;k<d.length;k++)_=d[k],!(u.indexOf(_)>=0)&&(f[_]=n[_]);return f}function U(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}function L(n,u){for(var f=0;f<u.length;f++){var d=u[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}function F(n,u,f){return u&&L(n.prototype,u),f&&L(n,f),n}function H(n){return function(){var u=S(n),f;if(G()){var d=S(this).constructor;f=Reflect.construct(u,arguments,d)}else f=u.apply(this,arguments);return T(this,f)}}function T(n,u){return u&&(x(u)==="object"||typeof u=="function")?u:W(n)}function W(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function S(n){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},S(n)}function P(n,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(u&&u.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),u&&v(n,u)}function v(n,u){return v=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d},v(n,u)}function j(n,u,f){return u in n?Object.defineProperty(n,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):n[u]=f,n}var c=function(n){P(f,n);var u=H(f);function f(){var d;U(this,f);for(var _=arguments.length,k=new Array(_),Q=0;Q<_;Q++)k[Q]=arguments[Q];return d=u.call.apply(u,[this].concat(k)),j(W(d),"storeItemReference",function(B){B!==null&&(d.item=B)}),j(W(d),"onMouseEnter",function(B){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onMouseEnter(B,{sectionIndex:l,itemIndex:t})}),j(W(d),"onMouseLeave",function(B){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onMouseLeave(B,{sectionIndex:l,itemIndex:t})}),j(W(d),"onMouseDown",function(B){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onMouseDown(B,{sectionIndex:l,itemIndex:t})}),j(W(d),"onClick",function(B){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onClick(B,{sectionIndex:l,itemIndex:t})}),d}return F(f,[{key:"shouldComponentUpdate",value:function(_){return(0,O.default)(_,this.props,["renderItemData"])}},{key:"render",value:function(){var _=this.props,k=_.isHighlighted,Q=_.item,B=_.renderItem,N=_.renderItemData,l=D(_,["isHighlighted","item","renderItem","renderItemData"]);return delete l.sectionIndex,delete l.itemIndex,typeof l.onMouseEnter=="function"&&(l.onMouseEnter=this.onMouseEnter),typeof l.onMouseLeave=="function"&&(l.onMouseLeave=this.onMouseLeave),typeof l.onMouseDown=="function"&&(l.onMouseDown=this.onMouseDown),typeof l.onClick=="function"&&(l.onClick=this.onClick),g.default.createElement("li",h({role:"option"},l,{ref:this.storeItemReference}),B(Q,w({isHighlighted:k},N)))}}]),f}(g.Component);m.default=c,j(c,"propTypes",{sectionIndex:a.default.number,isHighlighted:a.default.bool.isRequired,itemIndex:a.default.number.isRequired,item:a.default.any.isRequired,renderItem:a.default.func.isRequired,renderItemData:a.default.object.isRequired,onMouseEnter:a.default.func,onMouseLeave:a.default.func,onMouseDown:a.default.func,onClick:a.default.func})})($e),function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=x(re),a=I(ae),O=I($e),C=I(ge);function I(c){return c&&c.__esModule?c:{default:c}}function R(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return R=function(){return c},c}function x(c){if(c&&c.__esModule)return c;if(c===null||h(c)!=="object"&&typeof c!="function")return{default:c};var n=R();if(n&&n.has(c))return n.get(c);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var _=f?Object.getOwnPropertyDescriptor(c,d):null;_&&(_.get||_.set)?Object.defineProperty(u,d,_):u[d]=c[d]}return u.default=c,n&&n.set(c,u),u}function h(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(u){return typeof u}:h=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},h(c)}function y(){return y=Object.assign||function(c){for(var n=1;n<arguments.length;n++){var u=arguments[n];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(c[f]=u[f])}return c},y.apply(this,arguments)}function w(c,n){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);n&&(f=f.filter(function(d){return Object.getOwnPropertyDescriptor(c,d).enumerable})),u.push.apply(u,f)}return u}function D(c){for(var n=1;n<arguments.length;n++){var u=arguments[n]!=null?arguments[n]:{};n%2?w(Object(u),!0).forEach(function(f){v(c,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):w(Object(u)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(u,f))})}return c}function M(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function U(c,n){for(var u=0;u<n.length;u++){var f=n[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}function L(c,n,u){return n&&U(c.prototype,n),u&&U(c,u),c}function F(c){return function(){var n=G(c),u;if(W()){var f=G(this).constructor;u=Reflect.construct(n,arguments,f)}else u=n.apply(this,arguments);return H(this,u)}}function H(c,n){return n&&(h(n)==="object"||typeof n=="function")?n:T(c)}function T(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(c){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},G(c)}function S(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),n&&P(c,n)}function P(c,n){return P=Object.setPrototypeOf||function(f,d){return f.__proto__=d,f},P(c,n)}function v(c,n,u){return n in c?Object.defineProperty(c,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[n]=u,c}var j=function(c){S(u,c);var n=F(u);function u(){var f;M(this,u);for(var d=arguments.length,_=new Array(d),k=0;k<d;k++)_[k]=arguments[k];return f=n.call.apply(n,[this].concat(_)),v(T(f),"storeHighlightedItemReference",function(Q){f.props.onHighlightedItemChange(Q===null?null:Q.item)}),f}return L(u,[{key:"shouldComponentUpdate",value:function(d){return(0,C.default)(d,this.props,["itemProps"])}},{key:"render",value:function(){var d=this,_=this.props,k=_.items,Q=_.itemProps,B=_.renderItem,N=_.renderItemData,l=_.sectionIndex,t=_.highlightedItemIndex,i=_.getItemId,o=_.theme,e=_.keyPrefix,r=l===null?e:"".concat(e,"section-").concat(l,"-"),s=typeof Q=="function";return g.default.createElement("ul",y({role:"listbox"},o("".concat(r,"items-list"),"itemsList")),k.map(function(p,b){var E=b===0,A=b===t,$="".concat(r,"item-").concat(b),z=s?Q({sectionIndex:l,itemIndex:b}):Q,V=D({id:i(l,b),"aria-selected":A},o($,"item",E&&"itemFirst",A&&"itemHighlighted"),{},z);return A&&(V.ref=d.storeHighlightedItemReference),g.default.createElement(O.default,y({},V,{sectionIndex:l,isHighlighted:A,itemIndex:b,item:p,renderItem:B,renderItemData:N}))}))}}]),u}(g.Component);m.default=j,v(j,"propTypes",{items:a.default.array.isRequired,itemProps:a.default.oneOfType([a.default.object,a.default.func]),renderItem:a.default.func.isRequired,renderItemData:a.default.object.isRequired,sectionIndex:a.default.number,highlightedItemIndex:a.default.number,onHighlightedItemChange:a.default.func.isRequired,getItemId:a.default.func.isRequired,theme:a.default.func.isRequired,keyPrefix:a.default.string.isRequired}),v(j,"defaultProps",{sectionIndex:null})}(Ne),function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=y(re),a=x(ae),O=x(ut),C=x(ft),I=x(We),R=x(Ne);function x(t){return t&&t.__esModule?t:{default:t}}function h(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return h=function(){return t},t}function y(t){if(t&&t.__esModule)return t;if(t===null||W(t)!=="object"&&typeof t!="function")return{default:t};var i=h();if(i&&i.has(t))return i.get(t);var o={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=e?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(o,r,s):o[r]=t[r]}return o.default=t,i&&i.set(t,o),o}function w(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,e)}return o}function D(t){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?w(Object(o),!0).forEach(function(e){_(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function M(t,i){return T(t)||H(t,i)||L(t,i)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(t,i){if(t){if(typeof t=="string")return F(t,i);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(o);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F(t,i)}}function F(t,i){(i==null||i>t.length)&&(i=t.length);for(var o=0,e=new Array(i);o<i;o++)e[o]=t[o];return e}function H(t,i){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var o=[],e=!0,r=!1,s=void 0;try{for(var p=t[Symbol.iterator](),b;!(e=(b=p.next()).done)&&(o.push(b.value),!(i&&o.length===i));e=!0);}catch(E){r=!0,s=E}finally{try{!e&&p.return!=null&&p.return()}finally{if(r)throw s}}return o}}function T(t){if(Array.isArray(t))return t}function W(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W=function(o){return typeof o}:W=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},W(t)}function G(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function S(t,i){for(var o=0;o<i.length;o++){var e=i[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function P(t,i,o){return i&&S(t.prototype,i),o&&S(t,o),t}function v(t){return function(){var i=u(t),o;if(n()){var e=u(this).constructor;o=Reflect.construct(i,arguments,e)}else o=i.apply(this,arguments);return j(this,o)}}function j(t,i){return i&&(W(i)==="object"||typeof i=="function")?i:c(t)}function c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},u(t)}function f(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}function d(t,i){return d=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},d(t,i)}function _(t,i,o){return i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}var k={},Q=function(i){return g.default.createElement("input",i)},B=function(i){var o=i.containerProps,e=i.children;return g.default.createElement("div",o,e)},N={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},l=function(t){f(o,t);var i=v(o);function o(e){var r;return G(this,o),r=i.call(this,e),_(c(r),"storeInputReference",function(s){s!==null&&(r.input=s);var p=r.props.inputProps.ref;p&&(typeof p=="function"?p(s):W(p)==="object"&&Object.prototype.hasOwnProperty.call(p,"current")&&(p.current=s))}),_(c(r),"storeItemsContainerReference",function(s){s!==null&&(r.itemsContainer=s)}),_(c(r),"onHighlightedItemChange",function(s){r.highlightedItem=s}),_(c(r),"getItemId",function(s,p){if(p===null)return null;var b=r.props.id,E=s===null?"":"section-".concat(s);return"react-autowhatever-".concat(b,"-").concat(E,"-item-").concat(p)}),_(c(r),"onFocus",function(s){var p=r.props.inputProps;r.setState({isInputFocused:!0}),p.onFocus&&p.onFocus(s)}),_(c(r),"onBlur",function(s){var p=r.props.inputProps;r.setState({isInputFocused:!1}),p.onBlur&&p.onBlur(s)}),_(c(r),"onKeyDown",function(s){var p=r.props,b=p.inputProps,E=p.highlightedSectionIndex,A=p.highlightedItemIndex,$=s.keyCode;switch($){case 40:case 38:{var z=$===40?"next":"prev",V=r.sectionIterator[z]([E,A]),J=M(V,2),X=J[0],ne=J[1];b.onKeyDown(s,{newHighlightedSectionIndex:X,newHighlightedItemIndex:ne});break}default:b.onKeyDown(s,{highlightedSectionIndex:E,highlightedItemIndex:A})}}),r.highlightedItem=null,r.state={isInputFocused:!1},r.setSectionsItems(e),r.setSectionIterator(e),r.setTheme(e),r}return P(o,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){r.items!==this.props.items&&this.setSectionsItems(r),(r.items!==this.props.items||r.multiSection!==this.props.multiSection)&&this.setSectionIterator(r),r.theme!==this.props.theme&&this.setTheme(r)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(r){r.multiSection&&(this.sectionsItems=r.items.map(function(s){return r.getSectionItems(s)}),this.sectionsLengths=this.sectionsItems.map(function(s){return s.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(s){return s===0}))}},{key:"setSectionIterator",value:function(r){this.sectionIterator=(0,O.default)({multiSection:r.multiSection,data:r.multiSection?this.sectionsLengths:r.items.length})}},{key:"setTheme",value:function(r){this.theme=(0,C.default)(r.theme)}},{key:"renderSections",value:function(){var r=this;if(this.allSectionsAreEmpty)return null;var s=this.theme,p=this.props,b=p.id,E=p.items,A=p.renderItem,$=p.renderItemData,z=p.renderSectionTitle,V=p.highlightedSectionIndex,J=p.highlightedItemIndex,X=p.itemProps;return E.map(function(ne,Y){var oe="react-autowhatever-".concat(b,"-"),ue="".concat(oe,"section-").concat(Y,"-"),ee=Y===0;return g.default.createElement("div",s("".concat(ue,"container"),"sectionContainer",ee&&"sectionContainerFirst"),g.default.createElement(I.default,{section:ne,renderSectionTitle:z,theme:s,sectionKeyPrefix:ue}),g.default.createElement(R.default,{items:r.sectionsItems[Y],itemProps:X,renderItem:A,renderItemData:$,sectionIndex:Y,highlightedItemIndex:V===Y?J:null,onHighlightedItemChange:r.onHighlightedItemChange,getItemId:r.getItemId,theme:s,keyPrefix:oe,ref:r.storeItemsListReference}))})}},{key:"renderItems",value:function(){var r=this.props.items;if(r.length===0)return null;var s=this.theme,p=this.props,b=p.id,E=p.renderItem,A=p.renderItemData,$=p.highlightedSectionIndex,z=p.highlightedItemIndex,V=p.itemProps;return g.default.createElement(R.default,{items:r,itemProps:V,renderItem:E,renderItemData:A,highlightedItemIndex:$===null?z:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:s,keyPrefix:"react-autowhatever-".concat(b,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var r=this.highlightedItem;if(r){var s=this.itemsContainer,p=r.offsetParent===s?r.offsetTop:r.offsetTop-s.offsetTop,b=s.scrollTop;p<b?b=p:p+r.offsetHeight>b+s.offsetHeight&&(b=p+r.offsetHeight-s.offsetHeight),b!==s.scrollTop&&(s.scrollTop=b)}}},{key:"render",value:function(){var r=this.theme,s=this.props,p=s.id,b=s.multiSection,E=s.renderInputComponent,A=s.renderItemsContainer,$=s.highlightedSectionIndex,z=s.highlightedItemIndex,V=this.state.isInputFocused,J=b?this.renderSections():this.renderItems(),X=J!==null,ne=this.getItemId($,z),Y="react-autowhatever-".concat(p),oe=D({role:"combobox","aria-haspopup":"listbox","aria-owns":Y,"aria-expanded":X},r("react-autowhatever-".concat(p,"-container"),"container",X&&"containerOpen"),{},this.props.containerProps),ue=E(D({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":Y,"aria-activedescendant":ne},r("react-autowhatever-".concat(p,"-input"),"input",X&&"inputOpen",V&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),ee=A({containerProps:D({id:Y,role:"listbox"},r("react-autowhatever-".concat(p,"-items-container"),"itemsContainer",X&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:J});return g.default.createElement("div",oe,ue,ee)}}]),o}(g.Component);m.default=l,_(l,"propTypes",{id:a.default.string,multiSection:a.default.bool,renderInputComponent:a.default.func,renderItemsContainer:a.default.func,items:a.default.array.isRequired,renderItem:a.default.func,renderItemData:a.default.object,renderSectionTitle:a.default.func,getSectionItems:a.default.func,containerProps:a.default.object,inputProps:a.default.object,itemProps:a.default.oneOfType([a.default.object,a.default.func]),highlightedSectionIndex:a.default.number,highlightedItemIndex:a.default.number,theme:a.default.oneOfType([a.default.object,a.default.array])}),_(l,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:Q,renderItemsContainer:B,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:k,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:k,inputProps:k,itemProps:k,highlightedSectionIndex:null,highlightedItemIndex:null,theme:N})}(Ue);var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.mapToAutowhateverTheme=ie.defaultTheme=void 0;var gt={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};ie.defaultTheme=gt;var pt=function(g){var a={};for(var O in g)switch(O){case"suggestionsContainer":a.itemsContainer=g[O];break;case"suggestionsContainerOpen":a.itemsContainerOpen=g[O];break;case"suggestion":a.item=g[O];break;case"suggestionFirst":a.itemFirst=g[O];break;case"suggestionHighlighted":a.itemHighlighted=g[O];break;case"suggestionsList":a.itemsList=g[O];break;default:a[O]=g[O]}return a};ie.mapToAutowhateverTheme=pt,function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=h(re),a=R(ae),O=R(ot),C=R(Ue),I=ie;function R(l){return l&&l.__esModule?l:{default:l}}function x(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return x=function(){return l},l}function h(l){if(l&&l.__esModule)return l;if(l===null||y(l)!=="object"&&typeof l!="function")return{default:l};var t=x();if(t&&t.has(l))return t.get(l);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in l)if(Object.prototype.hasOwnProperty.call(l,e)){var r=o?Object.getOwnPropertyDescriptor(l,e):null;r&&(r.get||r.set)?Object.defineProperty(i,e,r):i[e]=l[e]}return i.default=l,t&&t.set(l,i),i}function y(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(i){return typeof i}:y=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},y(l)}function w(l,t){var i=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);t&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),i.push.apply(i,o)}return i}function D(l){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?w(Object(i),!0).forEach(function(o){v(l,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(i,o))})}return l}function M(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}function U(l,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(l,o.key,o)}}function L(l,t,i){return t&&U(l.prototype,t),i&&U(l,i),l}function F(l){return function(){var t=G(l),i;if(W()){var o=G(this).constructor;i=Reflect.construct(t,arguments,o)}else i=t.apply(this,arguments);return H(this,i)}}function H(l,t){return t&&(y(t)==="object"||typeof t=="function")?t:T(l)}function T(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(l){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},G(l)}function S(l,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(t&&t.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),t&&P(l,t)}function P(l,t){return P=Object.setPrototypeOf||function(o,e){return o.__proto__=e,o},P(l,t)}function v(l,t,i){return t in l?Object.defineProperty(l,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):l[t]=i,l}var j=function(){return!0},c=function(t){return t.trim().length>0},n=function(t){var i=t.containerProps,o=t.children;return g.default.createElement("div",i,o)},u="suggestions-revealed",f="suggestions-updated",d="suggestion-selected",_="input-focused",k="input-changed",Q="input-blurred",B="escape-pressed",N=function(l){S(i,l);var t=F(i);function i(o){var e,r=o.alwaysRenderSuggestions;return M(this,i),e=t.call(this),v(T(e),"onDocumentMouseDown",function(s){e.justClickedOnSuggestionsContainer=!1;for(var p=s.detail&&s.detail.target||s.target;p!==null&&p!==document;){if(p.getAttribute&&p.getAttribute("data-suggestion-index")!==null)return;if(p===e.suggestionsContainer){e.justClickedOnSuggestionsContainer=!0;return}p=p.parentNode}}),v(T(e),"storeAutowhateverRef",function(s){s!==null&&(e.autowhatever=s)}),v(T(e),"onSuggestionMouseEnter",function(s,p){var b=p.sectionIndex,E=p.itemIndex;e.updateHighlightedSuggestion(b,E),s.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!0),e.justMouseEntered=!0,setTimeout(function(){e.justMouseEntered=!1})}),v(T(e),"highlightFirstSuggestion",function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)}),v(T(e),"onDocumentMouseUp",function(){e.pressedSuggestion&&!e.justSelectedSuggestion&&e.input.focus(),e.pressedSuggestion=null}),v(T(e),"onSuggestionMouseDown",function(s){e.justSelectedSuggestion||(e.justSelectedSuggestion=!0,e.pressedSuggestion=s.target)}),v(T(e),"onSuggestionsClearRequested",function(){var s=e.props.onSuggestionsClearRequested;s&&s()}),v(T(e),"onSuggestionSelected",function(s,p){var b=e.props,E=b.alwaysRenderSuggestions,A=b.onSuggestionSelected,$=b.onSuggestionsFetchRequested;A&&A(s,p);var z=e.props.shouldKeepSuggestionsOnSelect(p.suggestion);E||z?$({value:p.suggestionValue,reason:d}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()}),v(T(e),"onSuggestionClick",function(s){var p=e.props,b=p.alwaysRenderSuggestions,E=p.focusInputOnSuggestionClick,A=e.getSuggestionIndices(e.findSuggestionElement(s.target)),$=A.sectionIndex,z=A.suggestionIndex,V=e.getSuggestion($,z),J=e.props.getSuggestionValue(V);e.maybeCallOnChange(s,J,"click"),e.onSuggestionSelected(s,{suggestion:V,suggestionValue:J,suggestionIndex:z,sectionIndex:$,method:"click"});var X=e.props.shouldKeepSuggestionsOnSelect(V);b||X||e.closeSuggestions(),E===!0?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})}),v(T(e),"onBlur",function(){var s=e.props,p=s.inputProps,b=s.shouldRenderSuggestions,E=p.value,A=p.onBlur,$=e.getHighlightedSuggestion(),z=b(E,Q);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!z}),A&&A(e.blurEvent,{highlightedSuggestion:$})}),v(T(e),"onSuggestionMouseLeave",function(s){e.resetHighlightedSuggestion(!1),e.justSelectedSuggestion&&s.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!1)}),v(T(e),"onSuggestionTouchStart",function(){e.justSelectedSuggestion=!0}),v(T(e),"onSuggestionTouchMove",function(){e.justSelectedSuggestion=!1,e.pressedSuggestion=null,e.input.focus()}),v(T(e),"itemProps",function(s){var p=s.sectionIndex,b=s.itemIndex;return{"data-section-index":p,"data-suggestion-index":b,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.onSuggestionMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionTouchStart,onTouchMove:e.onSuggestionTouchMove,onClick:e.onSuggestionClick}}),v(T(e),"renderSuggestionsContainer",function(s){var p=s.containerProps,b=s.children,E=e.props.renderSuggestionsContainer;return E({containerProps:p,children:b,query:e.getQuery()})}),e.state={isFocused:!1,isCollapsed:!r,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},e.justPressedUpDown=!1,e.justMouseEntered=!1,e.pressedSuggestion=null,e}return L(i,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var r=this.state.highlightedSuggestionIndex===0&&this.props.highlightFirstSuggestion&&!e.highlightFirstSuggestion;(0,O.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&this.justPressedUpDown===!1&&this.justMouseEntered===!1?this.highlightFirstSuggestion():r&&this.resetHighlightedSuggestion():this.willRenderSuggestions(e,f)?(this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions(),r&&this.resetHighlightedSuggestion()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,r){var s=this.props,p=s.suggestions,b=s.onSuggestionHighlighted,E=s.highlightFirstSuggestion;if(!(0,O.default)(p,e.suggestions)&&p.length>0&&E){this.highlightFirstSuggestion();return}if(b){var A=this.getHighlightedSuggestion(),$=r.highlightedSuggestion;A!=$&&b({suggestion:A})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(e,r,s){var p=this;this.setState(function(b){var E=b.valueBeforeUpDown;return r===null?E=null:E===null&&typeof s<"u"&&(E=s),{highlightedSectionIndex:e,highlightedSuggestionIndex:r,highlightedSuggestion:r===null?null:p.getSuggestion(e,r),valueBeforeUpDown:E}})}},{key:"resetHighlightedSuggestion",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.setState(function(r){var s=r.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:e?null:s}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,r){var s=this.props,p=s.suggestions,b=s.multiSection,E=s.getSectionSuggestions;return b?E(p[e])[r]:p[r]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,r=e.highlightedSectionIndex,s=e.highlightedSuggestionIndex;return s===null?null:this.getSuggestion(r,s)}},{key:"getSuggestionValueByIndex",value:function(e,r){var s=this.props.getSuggestionValue;return s(this.getSuggestion(e,r))}},{key:"getSuggestionIndices",value:function(e){var r=e.getAttribute("data-section-index"),s=e.getAttribute("data-suggestion-index");return{sectionIndex:typeof r=="string"?parseInt(r,10):null,suggestionIndex:parseInt(s,10)}}},{key:"findSuggestionElement",value:function(e){var r=e;do{if(r.getAttribute&&r.getAttribute("data-suggestion-index")!==null)return r;r=r.parentNode}while(r!==null);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,r,s){var p=this.props.inputProps,b=p.value,E=p.onChange;r!==b&&E(e,{newValue:r,method:s})}},{key:"willRenderSuggestions",value:function(e,r){var s=e.suggestions,p=e.inputProps,b=e.shouldRenderSuggestions,E=p.value;return s.length>0&&b(E,r)}},{key:"getQuery",value:function(){var e=this.props.inputProps,r=e.value,s=this.state.valueBeforeUpDown;return(s===null?r:s).trim()}},{key:"render",value:function(){var e=this,r=this.props,s=r.suggestions,p=r.renderInputComponent,b=r.onSuggestionsFetchRequested,E=r.renderSuggestion,A=r.inputProps,$=r.multiSection,z=r.renderSectionTitle,V=r.id,J=r.getSectionSuggestions,X=r.theme,ne=r.getSuggestionValue,Y=r.alwaysRenderSuggestions,oe=r.highlightFirstSuggestion,ue=r.containerProps,ee=this.state,_t=ee.isFocused,Be=ee.isCollapsed,Ke=ee.highlightedSectionIndex,ze=ee.highlightedSuggestionIndex,de=ee.valueBeforeUpDown,he=Y?j:this.props.shouldRenderSuggestions,se=A.value,Ge=A.onFocus,Qe=A.onKeyDown,Ot=this.willRenderSuggestions(this.props,"render"),me=Y||_t&&!Be&&Ot,bt=me?s:[],It=D({},A,{onFocus:function(K){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var te=he(se,_);e.setState({isFocused:!0,isCollapsed:!te}),Ge&&Ge(K),te&&b({value:se,reason:_})}},onBlur:function(K){if(e.justClickedOnSuggestionsContainer){e.input.focus();return}e.blurEvent=K,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested())},onChange:function(K){var te=K.target.value,le=he(te,k);e.maybeCallOnChange(K,te,"type"),e.suggestionsContainer&&(e.suggestionsContainer.scrollTop=0),e.setState(D({},oe?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!le})),le?b({value:te,reason:k}):e.onSuggestionsClearRequested()},onKeyDown:function(K,te){var le=K.keyCode;switch(le){case 40:case 38:if(Be)he(se,u)&&(b({value:se,reason:u}),e.revealSuggestions(),K.preventDefault());else if(s.length>0){var Ve=te.newHighlightedSectionIndex,ve=te.newHighlightedItemIndex,_e;ve===null?_e=de===null?se:de:_e=e.getSuggestionValueByIndex(Ve,ve),e.updateHighlightedSuggestion(Ve,ve,se),e.maybeCallOnChange(K,_e,le===40?"down":"up"),K.preventDefault()}e.justPressedUpDown=!0,setTimeout(function(){e.justPressedUpDown=!1});break;case 13:{if(K.keyCode===229)break;var Oe=e.getHighlightedSuggestion();if(me&&!Y&&e.closeSuggestions(),Oe!=null){K.preventDefault();var Ye=ne(Oe);e.maybeCallOnChange(K,Ye,"enter"),e.onSuggestionSelected(K,{suggestion:Oe,suggestionValue:Ye,suggestionIndex:ze,sectionIndex:Ke,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout(function(){e.justSelectedSuggestion=!1})}break}case 27:{me&&K.preventDefault();var Je=me&&!Y;if(de===null){if(!Je){var be="";e.maybeCallOnChange(K,be,"escape"),he(be,B)?b({value:be,reason:B}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(K,de,"escape");Je?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion();break}}Qe&&Qe(K)}}),wt={query:this.getQuery()};return g.default.createElement(C.default,{multiSection:$,items:bt,renderInputComponent:p,renderItemsContainer:this.renderSuggestionsContainer,renderItem:E,renderItemData:wt,renderSectionTitle:z,getSectionItems:J,highlightedSectionIndex:Ke,highlightedItemIndex:ze,containerProps:ue,inputProps:It,itemProps:this.itemProps,theme:(0,I.mapToAutowhateverTheme)(X),id:V,ref:this.storeAutowhateverRef})}}]),i}(g.Component);m.default=N,v(N,"propTypes",{suggestions:a.default.array.isRequired,onSuggestionsFetchRequested:function(t,i){var o=t[i];if(typeof o!="function")throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(t,i){var o=t[i];if(t.alwaysRenderSuggestions===!1&&typeof o!="function")throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},shouldKeepSuggestionsOnSelect:a.default.func,onSuggestionSelected:a.default.func,onSuggestionHighlighted:a.default.func,renderInputComponent:a.default.func,renderSuggestionsContainer:a.default.func,getSuggestionValue:a.default.func.isRequired,renderSuggestion:a.default.func.isRequired,inputProps:function(t,i){var o=t[i];if(!o)throw new Error("'inputProps' must be passed.");if(!Object.prototype.hasOwnProperty.call(o,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(o,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:a.default.func,alwaysRenderSuggestions:a.default.bool,multiSection:a.default.bool,renderSectionTitle:function(t,i){var o=t[i];if(t.multiSection===!0&&typeof o!="function")throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(t,i){var o=t[i];if(t.multiSection===!0&&typeof o!="function")throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:a.default.bool,highlightFirstSuggestion:a.default.bool,theme:a.default.object,id:a.default.string,containerProps:a.default.object}),v(N,"defaultProps",{renderSuggestionsContainer:n,shouldRenderSuggestions:c,alwaysRenderSuggestions:!1,multiSection:!1,shouldKeepSuggestionsOnSelect:function(){return!1},focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:I.defaultTheme,id:"1",containerProps:{}})}(He);var dt=He.default;const ht=Re(dt),mt={is:{label:"Leit á vefnum",inputLabel:"Leitarorð",buttonText:"Leita",placeholder:"Sláðu inn leitarorð",suggestionsLabel:"Tillögur"},en:{label:"Site search",inputLabel:"Search terms",buttonText:"Search",placeholder:"Enter search terms",suggestionsLabel:"Suggestions"},pl:{label:"Wyszukiwanie na stronie",inputLabel:"Wyszukiwane słowa",buttonText:"Szukaj",placeholder:"Wpisz wyszukiwane słowa",suggestionsLabel:"Sugestie"}},yt=m=>{const{suggestions:g,setSuggestions:a,renderSuggestion:O,getSuggestionValue:C,onSuggestionsFetchRequested:I,onSuggestionSelected:R,onSuggestionHighlighted:x,onSubmit:h,onButtonClick:y,bem:w="SiteSearchAutocomplete",wrapperProps:D}=m,[M,U]=ce(""),L=Ie(null),F=Te(m,mt);return Z(ht,{theme:{container:w,containerOpen:`${w}--open`,suggestionsContainer:`${w}__container`,suggestionsContainerOpen:`${w}__container--open`,suggestionsList:`${w}__list`,suggestion:`${w}__item`,suggestionHighlighted:`${w}__item--highlighted`},focusInputOnSuggestionClick:!0,suggestions:g,onSuggestionsClearRequested:()=>a([]),onSuggestionsFetchRequested:I,getSuggestionValue:C,onSuggestionSelected:R,onSuggestionHighlighted:x,renderSuggestion:O||(H=>String(H)),containerProps:{...D,"aria-label":F.label},renderSuggestionsContainer:({containerProps:H,children:T})=>Z("div",{...H,"aria-label":g.length?F.suggestionsLabel:void 0,children:T}),inputProps:{ref:L,value:M,onChange:(H,{newValue:T})=>{U(T)}},renderInputComponent:H=>{const{className:T,type:W,disabled:G,readOnly:S,required:P,children:v,ref:j,...c}=H;return Z(xe,{...c,inputRef:j,label:m.label||F.inputLabel,placeholder:F.placeholder,buttonText:F.buttonText,onSubmit:h&&(()=>h(M)),onButtonClick:y&&(()=>y(M))})}})},St=m=>{const[g,a]=Ee(!1);we(()=>{const I=R=>{R.key==="Escape"&&a(!1)};return document.addEventListener("keyup",I),()=>document.removeEventListener("keyup",I)},[]);const O=()=>{a(!0)},C=I=>{(!I.relatedTarget||!I.currentTarget.contains(I.relatedTarget))&&a(!1,100)};return Z("div",{className:ye("SiteSearchCurtain",[g&&"focused"]),onFocus:O,onBlur:C,...De&&{onfocusin:O,onfocusout:C},children:m.children})},pe=(...m)=>console.error("renderSiteSearchAutocomplete: ",...m),vt=m=>{const{title:g,lang:a,apiUri:O,searchPagePath:C,exceptBundles:I}=m,[R,x]=ce([]),[h]=ce(()=>Ce.d(200));return Z(St,{children:[g&&Z(rt,{children:g}),Z(yt,{lang:a,suggestions:R,renderSuggestion:({label:y})=>y,setSuggestions:x,onSuggestionSelected:(y,{suggestion:w})=>{window.location.href=w.href},getSuggestionValue:({label:y})=>y,onSubmit:y=>{window.location.href=`${C}?q=${encodeURIComponent(y)}`},onSuggestionsFetchRequested:({value:y})=>{h.cancel(),y.length>=2&&h(()=>{const w=qe({value:y,preference:"searchbox",size:5,_source:["label","url_alias"],exceptBundles:I});Me(O,[w]).then(D=>{const[M]=D;if(!M)throw new Error;x(M.items.map(({label:U,url_alias:L})=>({label:U,href:L})))})})}})]})},Rt=Xe("default",m=>{var h;const{insertAt:g,apiUri:a,searchPagePath:O,exceptBundles:C}=m;if(!a||!O){!a&&pe("`apiUri` missing"),!O&&pe("`searchPagePath` missing");return}const I=document.querySelector(g),R=I==null?void 0:I.closest(".RowBlockColumn");if(!R){pe(I?"RowBlockColumn parent not found":`Insertion point "${g}" not found`);return}const x=((h=R.querySelector(".PageHeading"))==null?void 0:h.textContent)||void 0;je("SiteSearchCurtain").then(()=>{const y=document.createElement("div");Pe.render(Z(vt,{lang:ke(R),title:x,apiUri:a,searchPagePath:O,exceptBundles:C}),y,()=>{R.textContent="",R.append(y)})})})}}});
