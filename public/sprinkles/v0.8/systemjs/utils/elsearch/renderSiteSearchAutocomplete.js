System.register(["../../initHannaNamespace.js","../../../_chunks/compat.module-36c495df.js","../../../_chunks/qj-9ff1fed3.js","../../../_chunks/jsxRuntime.module-014dea07.js","../../../_chunks/useFormatMonitor-8de02688.js","../../../_chunks/utils-f31475b7.js","../../../_chunks/SiteSearchInput-9d2d7b62.js","../../../_chunks/env-37710d01.js","./reykjavik.is.js","../../../_chunks/focus-visible-4a3df2ba.js"],function(Xe,Pt){"use strict";var ce,be,we,Pe,ye,Re,Ce,Te,Z,re,De,xe,Ee,je,ke,qe,Me;return{setters:[null,A=>{ce=A.h,be=A.d,we=A.p,Pe=A.C},A=>{ye=A.m,Re=A.g,Ce=A.h,Te=A.i},A=>{Z=A.o},A=>{re=A.r,De=A.h},A=>{xe=A.a,Ee=A.j},A=>{je=A.S},A=>{ke=A.i},A=>{qe=A.createElasticQuery,Me=A.postQuery},null],execute:function(){var A={exports:{}},Ze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",et=Ze,tt=et;function Ae(){}function Fe(){}Fe.resetWarningCache=Ae;var nt=function(){function m(O,R,w,C,D,h){if(h!==tt){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}m.isRequired=m;function g(){return m}var a={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:g,element:m,elementType:m,instanceOf:g,node:m,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:Fe,resetWarningCache:Ae};return a.PropTypes=a,a};A.exports,A.exports=nt();var ae=A.exports;const rt=m=>{const{Tag:g="h1",align:a,small:O,children:R,wrapperProps:w}=m;return Z(g,{...w,className:ye("PageHeading",[O&&"small",a==="right"&&"align--"+a],(w||{}).className),children:R})};var He={};function it(m,g){if(m===g)return!0;if(!m||!g)return!1;var a=m.length;if(g.length!==a)return!1;for(var O=0;O<a;O++)if(m[O]!==g[O])return!1;return!0}var ot=it,Ue={},Le=function(){function m(g,a){var O=[],R=!0,w=!1,C=void 0;try{for(var D=g[Symbol.iterator](),h;!(R=(h=D.next()).done)&&(O.push(h.value),!(a&&O.length===a));R=!0);}catch(y){w=!0,C=y}finally{try{!R&&D.return&&D.return()}finally{if(w)throw C}}return O}return function(g,a){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return m(g,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ut=function(m){var g=m.data,a=m.multiSection;function O(h){for(h===null?h=0:h++;h<g.length&&g[h]===0;)h++;return h===g.length?null:h}function R(h){for(h===null?h=g.length-1:h--;h>=0&&g[h]===0;)h--;return h===-1?null:h}function w(h){var y=Le(h,2),I=y[0],x=y[1];return a?x===null||x===g[I]-1?(I=O(I),I===null?[null,null]:[I,0]):[I,x+1]:g===0||x===g-1?[null,null]:x===null?[null,0]:[null,x+1]}function C(h){var y=Le(h,2),I=y[0],x=y[1];return a?x===null||x===0?(I=R(I),I===null?[null,null]:[I,g[I]-1]):[I,x-1]:g===0||x===0?[null,null]:x===null?[null,g-1]:[null,x-1]}function D(h){return w(h)[1]===null}return{next:w,prev:C,isLast:D}},fe={exports:{}},st=Object.prototype.propertyIsEnumerable;function at(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}function lt(m){var g=Object.getOwnPropertyNames(m);return Object.getOwnPropertySymbols&&(g=g.concat(Object.getOwnPropertySymbols(m))),g.filter(function(a){return st.call(m,a)})}var ct=Object.assign||function(m,g){for(var a,O,R=at(m),w=1;w<arguments.length;w++){a=arguments[w],O=lt(Object(a));for(var C=0;C<O.length;C++)R[O[C]]=a[O[C]]}return R};fe.exports,function(m,g){Object.defineProperty(g,"__esModule",{value:!0});var a=function(){function h(y,I){var x=[],q=!0,H=!1,L=void 0;try{for(var U=y[Symbol.iterator](),F;!(q=(F=U.next()).done)&&(x.push(F.value),!(I&&x.length===I));q=!0);}catch(T){H=!0,L=T}finally{try{!q&&U.return&&U.return()}finally{if(H)throw L}}return x}return function(y,I){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return h(y,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function O(h){return h&&h.__esModule?h:{default:h}}function R(h){if(Array.isArray(h)){for(var y=0,I=Array(h.length);y<h.length;y++)I[y]=h[y];return I}else return Array.from(h)}var w=ct,C=O(w),D=function(y){return y};g.default=function(h){var y=Array.isArray(h)&&h.length===2?h:[h,null],I=a(y,2),x=I[0],q=I[1];return function(H){for(var L=arguments.length,U=Array(L>1?L-1:0),F=1;F<L;F++)U[F-1]=arguments[F];var T=U.map(function(W){return x[W]}).filter(D);return typeof T[0]=="string"||typeof q=="function"?{key:H,className:q?q.apply(void 0,R(T)):T.join(" ")}:{key:H,style:C.default.apply(void 0,[{}].concat(R(T)))}}},m.exports=g.default}(fe,fe.exports);var ft=fe.exports,We={},ge={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=a;function g(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(w){return typeof w}:g=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},g(O)}function a(O,R){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(O===R)return!1;var C=Object.keys(O),D=Object.keys(R);if(C.length!==D.length)return!0;var h={},y,I;for(y=0,I=w.length;y<I;y++)h[w[y]]=!0;for(y=0,I=C.length;y<I;y++){var x=C[y],q=O[x],H=R[x];if(q!==H){if(!h[x]||q===null||H===null||g(q)!=="object"||g(H)!=="object")return!0;var L=Object.keys(q),U=Object.keys(H);if(L.length!==U.length)return!0;for(var F=0,T=L.length;F<T;F++){var W=L[F];if(q[W]!==H[W])return!0}}}return!1}})(ge),function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=C(re),a=R(ae),O=R(ge);function R(v){return v&&v.__esModule?v:{default:v}}function w(){if(typeof WeakMap!="function")return null;var v=new WeakMap;return w=function(){return v},v}function C(v){if(v&&v.__esModule)return v;if(v===null||D(v)!=="object"&&typeof v!="function")return{default:v};var P=w();if(P&&P.has(v))return P.get(v);var S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var n=j?Object.getOwnPropertyDescriptor(v,f):null;n&&(n.get||n.set)?Object.defineProperty(S,f,n):S[f]=v[f]}return S.default=v,P&&P.set(v,S),S}function D(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(S){return typeof S}:D=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},D(v)}function h(v,P){if(!(v instanceof P))throw new TypeError("Cannot call a class as a function")}function y(v,P){for(var S=0;S<P.length;S++){var j=P[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}function I(v,P,S){return P&&y(v.prototype,P),S&&y(v,S),v}function x(v){return function(){var P=U(v),S;if(L()){var j=U(this).constructor;S=Reflect.construct(P,arguments,j)}else S=P.apply(this,arguments);return q(this,S)}}function q(v,P){return P&&(D(P)==="object"||typeof P=="function")?P:H(v)}function H(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function U(v){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},U(v)}function F(v,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(P&&P.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),P&&T(v,P)}function T(v,P){return T=Object.setPrototypeOf||function(j,f){return j.__proto__=f,j},T(v,P)}function W(v,P,S){return P in v?Object.defineProperty(v,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[P]=S,v}var G=function(v){F(S,v);var P=x(S);function S(){return h(this,S),P.apply(this,arguments)}return I(S,[{key:"shouldComponentUpdate",value:function(f){return(0,O.default)(f,this.props)}},{key:"render",value:function(){var f=this.props,n=f.section,u=f.renderSectionTitle,c=f.theme,d=f.sectionKeyPrefix,_=u(n);return _?g.default.createElement("div",c("".concat(d,"title"),"sectionTitle"),_):null}}]),S}(g.Component);m.default=G,W(G,"propTypes",{section:a.default.any.isRequired,renderSectionTitle:a.default.func.isRequired,theme:a.default.func.isRequired,sectionKeyPrefix:a.default.string.isRequired})}(We);var Ne={},Be={};(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=C(re),a=R(ae),O=R(ge);function R(n){return n&&n.__esModule?n:{default:n}}function w(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return w=function(){return n},n}function C(n){if(n&&n.__esModule)return n;if(n===null||D(n)!=="object"&&typeof n!="function")return{default:n};var u=w();if(u&&u.has(n))return u.get(n);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in n)if(Object.prototype.hasOwnProperty.call(n,_)){var k=d?Object.getOwnPropertyDescriptor(n,_):null;k&&(k.get||k.set)?Object.defineProperty(c,_,k):c[_]=n[_]}return c.default=n,u&&u.set(n,c),c}function D(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(c){return typeof c}:D=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},D(n)}function h(){return h=Object.assign||function(n){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(n[d]=c[d])}return n},h.apply(this,arguments)}function y(n,u){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);u&&(d=d.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),c.push.apply(c,d)}return c}function I(n){for(var u=1;u<arguments.length;u++){var c=arguments[u]!=null?arguments[u]:{};u%2?y(Object(c),!0).forEach(function(d){j(n,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach(function(d){Object.defineProperty(n,d,Object.getOwnPropertyDescriptor(c,d))})}return n}function x(n,u){if(n==null)return{};var c=q(n,u),d,_;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(n);for(_=0;_<k.length;_++)d=k[_],!(u.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(n,d)&&(c[d]=n[d])}return c}function q(n,u){if(n==null)return{};var c={},d=Object.keys(n),_,k;for(k=0;k<d.length;k++)_=d[k],!(u.indexOf(_)>=0)&&(c[_]=n[_]);return c}function H(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}function L(n,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}function U(n,u,c){return u&&L(n.prototype,u),c&&L(n,c),n}function F(n){return function(){var u=v(n),c;if(G()){var d=v(this).constructor;c=Reflect.construct(u,arguments,d)}else c=u.apply(this,arguments);return T(this,c)}}function T(n,u){return u&&(D(u)==="object"||typeof u=="function")?u:W(n)}function W(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function v(n){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},v(n)}function P(n,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(u&&u.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),u&&S(n,u)}function S(n,u){return S=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d},S(n,u)}function j(n,u,c){return u in n?Object.defineProperty(n,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[u]=c,n}var f=function(n){P(c,n);var u=F(c);function c(){var d;H(this,c);for(var _=arguments.length,k=new Array(_),z=0;z<_;z++)k[z]=arguments[z];return d=u.call.apply(u,[this].concat(k)),j(W(d),"storeItemReference",function($){$!==null&&(d.item=$)}),j(W(d),"onMouseEnter",function($){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onMouseEnter($,{sectionIndex:l,itemIndex:t})}),j(W(d),"onMouseLeave",function($){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onMouseLeave($,{sectionIndex:l,itemIndex:t})}),j(W(d),"onMouseDown",function($){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onMouseDown($,{sectionIndex:l,itemIndex:t})}),j(W(d),"onClick",function($){var N=d.props,l=N.sectionIndex,t=N.itemIndex;d.props.onClick($,{sectionIndex:l,itemIndex:t})}),d}return U(c,[{key:"shouldComponentUpdate",value:function(_){return(0,O.default)(_,this.props,["renderItemData"])}},{key:"render",value:function(){var _=this.props,k=_.isHighlighted,z=_.item,$=_.renderItem,N=_.renderItemData,l=x(_,["isHighlighted","item","renderItem","renderItemData"]);return delete l.sectionIndex,delete l.itemIndex,typeof l.onMouseEnter=="function"&&(l.onMouseEnter=this.onMouseEnter),typeof l.onMouseLeave=="function"&&(l.onMouseLeave=this.onMouseLeave),typeof l.onMouseDown=="function"&&(l.onMouseDown=this.onMouseDown),typeof l.onClick=="function"&&(l.onClick=this.onClick),g.default.createElement("li",h({role:"option"},l,{ref:this.storeItemReference}),$(z,I({isHighlighted:k},N)))}}]),c}(g.Component);m.default=f,j(f,"propTypes",{sectionIndex:a.default.number,isHighlighted:a.default.bool.isRequired,itemIndex:a.default.number.isRequired,item:a.default.any.isRequired,renderItem:a.default.func.isRequired,renderItemData:a.default.object.isRequired,onMouseEnter:a.default.func,onMouseLeave:a.default.func,onMouseDown:a.default.func,onClick:a.default.func})})(Be),function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=D(re),a=w(ae),O=w(Be),R=w(ge);function w(f){return f&&f.__esModule?f:{default:f}}function C(){if(typeof WeakMap!="function")return null;var f=new WeakMap;return C=function(){return f},f}function D(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var n=C();if(n&&n.has(f))return n.get(f);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var _=c?Object.getOwnPropertyDescriptor(f,d):null;_&&(_.get||_.set)?Object.defineProperty(u,d,_):u[d]=f[d]}return u.default=f,n&&n.set(f,u),u}function h(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(u){return typeof u}:h=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},h(f)}function y(){return y=Object.assign||function(f){for(var n=1;n<arguments.length;n++){var u=arguments[n];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(f[c]=u[c])}return f},y.apply(this,arguments)}function I(f,n){var u=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);n&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(f,d).enumerable})),u.push.apply(u,c)}return u}function x(f){for(var n=1;n<arguments.length;n++){var u=arguments[n]!=null?arguments[n]:{};n%2?I(Object(u),!0).forEach(function(c){S(f,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(u)):I(Object(u)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(u,c))})}return f}function q(f,n){if(!(f instanceof n))throw new TypeError("Cannot call a class as a function")}function H(f,n){for(var u=0;u<n.length;u++){var c=n[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function L(f,n,u){return n&&H(f.prototype,n),u&&H(f,u),f}function U(f){return function(){var n=G(f),u;if(W()){var c=G(this).constructor;u=Reflect.construct(n,arguments,c)}else u=n.apply(this,arguments);return F(this,u)}}function F(f,n){return n&&(h(n)==="object"||typeof n=="function")?n:T(f)}function T(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(f){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},G(f)}function v(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),n&&P(f,n)}function P(f,n){return P=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c},P(f,n)}function S(f,n,u){return n in f?Object.defineProperty(f,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):f[n]=u,f}var j=function(f){v(u,f);var n=U(u);function u(){var c;q(this,u);for(var d=arguments.length,_=new Array(d),k=0;k<d;k++)_[k]=arguments[k];return c=n.call.apply(n,[this].concat(_)),S(T(c),"storeHighlightedItemReference",function(z){c.props.onHighlightedItemChange(z===null?null:z.item)}),c}return L(u,[{key:"shouldComponentUpdate",value:function(d){return(0,R.default)(d,this.props,["itemProps"])}},{key:"render",value:function(){var d=this,_=this.props,k=_.items,z=_.itemProps,$=_.renderItem,N=_.renderItemData,l=_.sectionIndex,t=_.highlightedItemIndex,i=_.getItemId,o=_.theme,e=_.keyPrefix,r=l===null?e:"".concat(e,"section-").concat(l,"-"),s=typeof z=="function";return g.default.createElement("ul",y({role:"listbox"},o("".concat(r,"items-list"),"itemsList")),k.map(function(p,b){var E=b===0,M=b===t,B="".concat(r,"item-").concat(b),Q=s?z({sectionIndex:l,itemIndex:b}):z,V=x({id:i(l,b),"aria-selected":M},o(B,"item",E&&"itemFirst",M&&"itemHighlighted"),{},Q);return M&&(V.ref=d.storeHighlightedItemReference),g.default.createElement(O.default,y({},V,{sectionIndex:l,isHighlighted:M,itemIndex:b,item:p,renderItem:$,renderItemData:N}))}))}}]),u}(g.Component);m.default=j,S(j,"propTypes",{items:a.default.array.isRequired,itemProps:a.default.oneOfType([a.default.object,a.default.func]),renderItem:a.default.func.isRequired,renderItemData:a.default.object.isRequired,sectionIndex:a.default.number,highlightedItemIndex:a.default.number,onHighlightedItemChange:a.default.func.isRequired,getItemId:a.default.func.isRequired,theme:a.default.func.isRequired,keyPrefix:a.default.string.isRequired}),S(j,"defaultProps",{sectionIndex:null})}(Ne),function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=y(re),a=D(ae),O=D(ut),R=D(ft),w=D(We),C=D(Ne);function D(t){return t&&t.__esModule?t:{default:t}}function h(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return h=function(){return t},t}function y(t){if(t&&t.__esModule)return t;if(t===null||W(t)!=="object"&&typeof t!="function")return{default:t};var i=h();if(i&&i.has(t))return i.get(t);var o={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=e?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(o,r,s):o[r]=t[r]}return o.default=t,i&&i.set(t,o),o}function I(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,e)}return o}function x(t){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?I(Object(o),!0).forEach(function(e){_(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):I(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function q(t,i){return T(t)||F(t,i)||L(t,i)||H()}function H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(t,i){if(t){if(typeof t=="string")return U(t,i);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(o);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return U(t,i)}}function U(t,i){(i==null||i>t.length)&&(i=t.length);for(var o=0,e=new Array(i);o<i;o++)e[o]=t[o];return e}function F(t,i){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var o=[],e=!0,r=!1,s=void 0;try{for(var p=t[Symbol.iterator](),b;!(e=(b=p.next()).done)&&(o.push(b.value),!(i&&o.length===i));e=!0);}catch(E){r=!0,s=E}finally{try{!e&&p.return!=null&&p.return()}finally{if(r)throw s}}return o}}function T(t){if(Array.isArray(t))return t}function W(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W=function(o){return typeof o}:W=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},W(t)}function G(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function v(t,i){for(var o=0;o<i.length;o++){var e=i[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function P(t,i,o){return i&&v(t.prototype,i),o&&v(t,o),t}function S(t){return function(){var i=u(t),o;if(n()){var e=u(this).constructor;o=Reflect.construct(i,arguments,e)}else o=i.apply(this,arguments);return j(this,o)}}function j(t,i){return i&&(W(i)==="object"||typeof i=="function")?i:f(t)}function f(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},u(t)}function c(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}function d(t,i){return d=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},d(t,i)}function _(t,i,o){return i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}var k={},z=function(i){return g.default.createElement("input",i)},$=function(i){var o=i.containerProps,e=i.children;return g.default.createElement("div",o,e)},N={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},l=function(t){c(o,t);var i=S(o);function o(e){var r;return G(this,o),r=i.call(this,e),_(f(r),"storeInputReference",function(s){s!==null&&(r.input=s);var p=r.props.inputProps.ref;p&&(typeof p=="function"?p(s):W(p)==="object"&&Object.prototype.hasOwnProperty.call(p,"current")&&(p.current=s))}),_(f(r),"storeItemsContainerReference",function(s){s!==null&&(r.itemsContainer=s)}),_(f(r),"onHighlightedItemChange",function(s){r.highlightedItem=s}),_(f(r),"getItemId",function(s,p){if(p===null)return null;var b=r.props.id,E=s===null?"":"section-".concat(s);return"react-autowhatever-".concat(b,"-").concat(E,"-item-").concat(p)}),_(f(r),"onFocus",function(s){var p=r.props.inputProps;r.setState({isInputFocused:!0}),p.onFocus&&p.onFocus(s)}),_(f(r),"onBlur",function(s){var p=r.props.inputProps;r.setState({isInputFocused:!1}),p.onBlur&&p.onBlur(s)}),_(f(r),"onKeyDown",function(s){var p=r.props,b=p.inputProps,E=p.highlightedSectionIndex,M=p.highlightedItemIndex,B=s.keyCode;switch(B){case 40:case 38:{var Q=B===40?"next":"prev",V=r.sectionIterator[Q]([E,M]),J=q(V,2),X=J[0],ne=J[1];b.onKeyDown(s,{newHighlightedSectionIndex:X,newHighlightedItemIndex:ne});break}default:b.onKeyDown(s,{highlightedSectionIndex:E,highlightedItemIndex:M})}}),r.highlightedItem=null,r.state={isInputFocused:!1},r.setSectionsItems(e),r.setSectionIterator(e),r.setTheme(e),r}return P(o,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){r.items!==this.props.items&&this.setSectionsItems(r),(r.items!==this.props.items||r.multiSection!==this.props.multiSection)&&this.setSectionIterator(r),r.theme!==this.props.theme&&this.setTheme(r)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(r){r.multiSection&&(this.sectionsItems=r.items.map(function(s){return r.getSectionItems(s)}),this.sectionsLengths=this.sectionsItems.map(function(s){return s.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(s){return s===0}))}},{key:"setSectionIterator",value:function(r){this.sectionIterator=(0,O.default)({multiSection:r.multiSection,data:r.multiSection?this.sectionsLengths:r.items.length})}},{key:"setTheme",value:function(r){this.theme=(0,R.default)(r.theme)}},{key:"renderSections",value:function(){var r=this;if(this.allSectionsAreEmpty)return null;var s=this.theme,p=this.props,b=p.id,E=p.items,M=p.renderItem,B=p.renderItemData,Q=p.renderSectionTitle,V=p.highlightedSectionIndex,J=p.highlightedItemIndex,X=p.itemProps;return E.map(function(ne,Y){var oe="react-autowhatever-".concat(b,"-"),ue="".concat(oe,"section-").concat(Y,"-"),ee=Y===0;return g.default.createElement("div",s("".concat(ue,"container"),"sectionContainer",ee&&"sectionContainerFirst"),g.default.createElement(w.default,{section:ne,renderSectionTitle:Q,theme:s,sectionKeyPrefix:ue}),g.default.createElement(C.default,{items:r.sectionsItems[Y],itemProps:X,renderItem:M,renderItemData:B,sectionIndex:Y,highlightedItemIndex:V===Y?J:null,onHighlightedItemChange:r.onHighlightedItemChange,getItemId:r.getItemId,theme:s,keyPrefix:oe,ref:r.storeItemsListReference}))})}},{key:"renderItems",value:function(){var r=this.props.items;if(r.length===0)return null;var s=this.theme,p=this.props,b=p.id,E=p.renderItem,M=p.renderItemData,B=p.highlightedSectionIndex,Q=p.highlightedItemIndex,V=p.itemProps;return g.default.createElement(C.default,{items:r,itemProps:V,renderItem:E,renderItemData:M,highlightedItemIndex:B===null?Q:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:s,keyPrefix:"react-autowhatever-".concat(b,"-")})}},{key:"ensureHighlightedItemIsVisible",value:function(){var r=this.highlightedItem;if(r){var s=this.itemsContainer,p=r.offsetParent===s?r.offsetTop:r.offsetTop-s.offsetTop,b=s.scrollTop;p<b?b=p:p+r.offsetHeight>b+s.offsetHeight&&(b=p+r.offsetHeight-s.offsetHeight),b!==s.scrollTop&&(s.scrollTop=b)}}},{key:"render",value:function(){var r=this.theme,s=this.props,p=s.id,b=s.multiSection,E=s.renderInputComponent,M=s.renderItemsContainer,B=s.highlightedSectionIndex,Q=s.highlightedItemIndex,V=this.state.isInputFocused,J=b?this.renderSections():this.renderItems(),X=J!==null,ne=this.getItemId(B,Q),Y="react-autowhatever-".concat(p),oe=x({role:"combobox","aria-haspopup":"listbox","aria-owns":Y,"aria-expanded":X},r("react-autowhatever-".concat(p,"-container"),"container",X&&"containerOpen"),{},this.props.containerProps),ue=E(x({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":Y,"aria-activedescendant":ne},r("react-autowhatever-".concat(p,"-input"),"input",X&&"inputOpen",V&&"inputFocused"),{},this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),ee=M({containerProps:x({id:Y,role:"listbox"},r("react-autowhatever-".concat(p,"-items-container"),"itemsContainer",X&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:J});return g.default.createElement("div",oe,ue,ee)}}]),o}(g.Component);m.default=l,_(l,"propTypes",{id:a.default.string,multiSection:a.default.bool,renderInputComponent:a.default.func,renderItemsContainer:a.default.func,items:a.default.array.isRequired,renderItem:a.default.func,renderItemData:a.default.object,renderSectionTitle:a.default.func,getSectionItems:a.default.func,containerProps:a.default.object,inputProps:a.default.object,itemProps:a.default.oneOfType([a.default.object,a.default.func]),highlightedSectionIndex:a.default.number,highlightedItemIndex:a.default.number,theme:a.default.oneOfType([a.default.object,a.default.array])}),_(l,"defaultProps",{id:"1",multiSection:!1,renderInputComponent:z,renderItemsContainer:$,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:k,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:k,inputProps:k,itemProps:k,highlightedSectionIndex:null,highlightedItemIndex:null,theme:N})}(Ue);var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.mapToAutowhateverTheme=ie.defaultTheme=void 0;var gt={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"};ie.defaultTheme=gt;var pt=function(g){var a={};for(var O in g)switch(O){case"suggestionsContainer":a.itemsContainer=g[O];break;case"suggestionsContainerOpen":a.itemsContainerOpen=g[O];break;case"suggestion":a.item=g[O];break;case"suggestionFirst":a.itemFirst=g[O];break;case"suggestionHighlighted":a.itemHighlighted=g[O];break;case"suggestionsList":a.itemsList=g[O];break;default:a[O]=g[O]}return a};ie.mapToAutowhateverTheme=pt,function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=h(re),a=C(ae),O=C(ot),R=C(Ue),w=ie;function C(l){return l&&l.__esModule?l:{default:l}}function D(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return D=function(){return l},l}function h(l){if(l&&l.__esModule)return l;if(l===null||y(l)!=="object"&&typeof l!="function")return{default:l};var t=D();if(t&&t.has(l))return t.get(l);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in l)if(Object.prototype.hasOwnProperty.call(l,e)){var r=o?Object.getOwnPropertyDescriptor(l,e):null;r&&(r.get||r.set)?Object.defineProperty(i,e,r):i[e]=l[e]}return i.default=l,t&&t.set(l,i),i}function y(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(i){return typeof i}:y=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},y(l)}function I(l,t){var i=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);t&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})),i.push.apply(i,o)}return i}function x(l){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?I(Object(i),!0).forEach(function(o){S(l,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(i,o))})}return l}function q(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}function H(l,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(l,o.key,o)}}function L(l,t,i){return t&&H(l.prototype,t),i&&H(l,i),l}function U(l){return function(){var t=G(l),i;if(W()){var o=G(this).constructor;i=Reflect.construct(t,arguments,o)}else i=t.apply(this,arguments);return F(this,i)}}function F(l,t){return t&&(y(t)==="object"||typeof t=="function")?t:T(l)}function T(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(l){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},G(l)}function v(l,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(t&&t.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),t&&P(l,t)}function P(l,t){return P=Object.setPrototypeOf||function(o,e){return o.__proto__=e,o},P(l,t)}function S(l,t,i){return t in l?Object.defineProperty(l,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):l[t]=i,l}var j=function(){return!0},f=function(t){return t.trim().length>0},n=function(t){var i=t.containerProps,o=t.children;return g.default.createElement("div",i,o)},u="suggestions-revealed",c="suggestions-updated",d="suggestion-selected",_="input-focused",k="input-changed",z="input-blurred",$="escape-pressed",N=function(l){v(i,l);var t=U(i);function i(o){var e,r=o.alwaysRenderSuggestions;return q(this,i),e=t.call(this),S(T(e),"onDocumentMouseDown",function(s){e.justClickedOnSuggestionsContainer=!1;for(var p=s.detail&&s.detail.target||s.target;p!==null&&p!==document;){if(p.getAttribute&&p.getAttribute("data-suggestion-index")!==null)return;if(p===e.suggestionsContainer){e.justClickedOnSuggestionsContainer=!0;return}p=p.parentNode}}),S(T(e),"storeAutowhateverRef",function(s){s!==null&&(e.autowhatever=s)}),S(T(e),"onSuggestionMouseEnter",function(s,p){var b=p.sectionIndex,E=p.itemIndex;e.updateHighlightedSuggestion(b,E),s.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!0),e.justMouseEntered=!0,setTimeout(function(){e.justMouseEntered=!1})}),S(T(e),"highlightFirstSuggestion",function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)}),S(T(e),"onDocumentMouseUp",function(){e.pressedSuggestion&&!e.justSelectedSuggestion&&e.input.focus(),e.pressedSuggestion=null}),S(T(e),"onSuggestionMouseDown",function(s){e.justSelectedSuggestion||(e.justSelectedSuggestion=!0,e.pressedSuggestion=s.target)}),S(T(e),"onSuggestionsClearRequested",function(){var s=e.props.onSuggestionsClearRequested;s&&s()}),S(T(e),"onSuggestionSelected",function(s,p){var b=e.props,E=b.alwaysRenderSuggestions,M=b.onSuggestionSelected,B=b.onSuggestionsFetchRequested;M&&M(s,p);var Q=e.props.shouldKeepSuggestionsOnSelect(p.suggestion);E||Q?B({value:p.suggestionValue,reason:d}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()}),S(T(e),"onSuggestionClick",function(s){var p=e.props,b=p.alwaysRenderSuggestions,E=p.focusInputOnSuggestionClick,M=e.getSuggestionIndices(e.findSuggestionElement(s.target)),B=M.sectionIndex,Q=M.suggestionIndex,V=e.getSuggestion(B,Q),J=e.props.getSuggestionValue(V);e.maybeCallOnChange(s,J,"click"),e.onSuggestionSelected(s,{suggestion:V,suggestionValue:J,suggestionIndex:Q,sectionIndex:B,method:"click"});var X=e.props.shouldKeepSuggestionsOnSelect(V);b||X||e.closeSuggestions(),E===!0?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})}),S(T(e),"onBlur",function(){var s=e.props,p=s.inputProps,b=s.shouldRenderSuggestions,E=p.value,M=p.onBlur,B=e.getHighlightedSuggestion(),Q=b(E,z);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!Q}),M&&M(e.blurEvent,{highlightedSuggestion:B})}),S(T(e),"onSuggestionMouseLeave",function(s){e.resetHighlightedSuggestion(!1),e.justSelectedSuggestion&&s.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!1)}),S(T(e),"onSuggestionTouchStart",function(){e.justSelectedSuggestion=!0}),S(T(e),"onSuggestionTouchMove",function(){e.justSelectedSuggestion=!1,e.pressedSuggestion=null,e.input.focus()}),S(T(e),"itemProps",function(s){var p=s.sectionIndex,b=s.itemIndex;return{"data-section-index":p,"data-suggestion-index":b,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.onSuggestionMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionTouchStart,onTouchMove:e.onSuggestionTouchMove,onClick:e.onSuggestionClick}}),S(T(e),"renderSuggestionsContainer",function(s){var p=s.containerProps,b=s.children,E=e.props.renderSuggestionsContainer;return E({containerProps:p,children:b,query:e.getQuery()})}),e.state={isFocused:!1,isCollapsed:!r,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},e.justPressedUpDown=!1,e.justMouseEntered=!1,e.pressedSuggestion=null,e}return L(i,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var r=this.state.highlightedSuggestionIndex===0&&this.props.highlightFirstSuggestion&&!e.highlightFirstSuggestion;(0,O.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&this.justPressedUpDown===!1&&this.justMouseEntered===!1?this.highlightFirstSuggestion():r&&this.resetHighlightedSuggestion():this.willRenderSuggestions(e,c)?(this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions(),r&&this.resetHighlightedSuggestion()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,r){var s=this.props,p=s.suggestions,b=s.onSuggestionHighlighted,E=s.highlightFirstSuggestion;if(!(0,O.default)(p,e.suggestions)&&p.length>0&&E){this.highlightFirstSuggestion();return}if(b){var M=this.getHighlightedSuggestion(),B=r.highlightedSuggestion;M!=B&&b({suggestion:M})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(e,r,s){var p=this;this.setState(function(b){var E=b.valueBeforeUpDown;return r===null?E=null:E===null&&typeof s<"u"&&(E=s),{highlightedSectionIndex:e,highlightedSuggestionIndex:r,highlightedSuggestion:r===null?null:p.getSuggestion(e,r),valueBeforeUpDown:E}})}},{key:"resetHighlightedSuggestion",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.setState(function(r){var s=r.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:e?null:s}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,r){var s=this.props,p=s.suggestions,b=s.multiSection,E=s.getSectionSuggestions;return b?E(p[e])[r]:p[r]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,r=e.highlightedSectionIndex,s=e.highlightedSuggestionIndex;return s===null?null:this.getSuggestion(r,s)}},{key:"getSuggestionValueByIndex",value:function(e,r){var s=this.props.getSuggestionValue;return s(this.getSuggestion(e,r))}},{key:"getSuggestionIndices",value:function(e){var r=e.getAttribute("data-section-index"),s=e.getAttribute("data-suggestion-index");return{sectionIndex:typeof r=="string"?parseInt(r,10):null,suggestionIndex:parseInt(s,10)}}},{key:"findSuggestionElement",value:function(e){var r=e;do{if(r.getAttribute&&r.getAttribute("data-suggestion-index")!==null)return r;r=r.parentNode}while(r!==null);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,r,s){var p=this.props.inputProps,b=p.value,E=p.onChange;r!==b&&E(e,{newValue:r,method:s})}},{key:"willRenderSuggestions",value:function(e,r){var s=e.suggestions,p=e.inputProps,b=e.shouldRenderSuggestions,E=p.value;return s.length>0&&b(E,r)}},{key:"getQuery",value:function(){var e=this.props.inputProps,r=e.value,s=this.state.valueBeforeUpDown;return(s===null?r:s).trim()}},{key:"render",value:function(){var e=this,r=this.props,s=r.suggestions,p=r.renderInputComponent,b=r.onSuggestionsFetchRequested,E=r.renderSuggestion,M=r.inputProps,B=r.multiSection,Q=r.renderSectionTitle,V=r.id,J=r.getSectionSuggestions,X=r.theme,ne=r.getSuggestionValue,Y=r.alwaysRenderSuggestions,oe=r.highlightFirstSuggestion,ue=r.containerProps,ee=this.state,_t=ee.isFocused,$e=ee.isCollapsed,Ke=ee.highlightedSectionIndex,Qe=ee.highlightedSuggestionIndex,de=ee.valueBeforeUpDown,he=Y?j:this.props.shouldRenderSuggestions,se=M.value,Ge=M.onFocus,ze=M.onKeyDown,Ot=this.willRenderSuggestions(this.props,"render"),me=Y||_t&&!$e&&Ot,It=me?s:[],bt=x({},M,{onFocus:function(K){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var te=he(se,_);e.setState({isFocused:!0,isCollapsed:!te}),Ge&&Ge(K),te&&b({value:se,reason:_})}},onBlur:function(K){if(e.justClickedOnSuggestionsContainer){e.input.focus();return}e.blurEvent=K,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested())},onChange:function(K){var te=K.target.value,le=he(te,k);e.maybeCallOnChange(K,te,"type"),e.suggestionsContainer&&(e.suggestionsContainer.scrollTop=0),e.setState(x({},oe?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!le})),le?b({value:te,reason:k}):e.onSuggestionsClearRequested()},onKeyDown:function(K,te){var le=K.keyCode;switch(le){case 40:case 38:if($e)he(se,u)&&(b({value:se,reason:u}),e.revealSuggestions(),K.preventDefault());else if(s.length>0){var Ve=te.newHighlightedSectionIndex,Se=te.newHighlightedItemIndex,_e;Se===null?_e=de===null?se:de:_e=e.getSuggestionValueByIndex(Ve,Se),e.updateHighlightedSuggestion(Ve,Se,se),e.maybeCallOnChange(K,_e,le===40?"down":"up"),K.preventDefault()}e.justPressedUpDown=!0,setTimeout(function(){e.justPressedUpDown=!1});break;case 13:{if(K.keyCode===229)break;var Oe=e.getHighlightedSuggestion();if(me&&!Y&&e.closeSuggestions(),Oe!=null){K.preventDefault();var Ye=ne(Oe);e.maybeCallOnChange(K,Ye,"enter"),e.onSuggestionSelected(K,{suggestion:Oe,suggestionValue:Ye,suggestionIndex:Qe,sectionIndex:Ke,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout(function(){e.justSelectedSuggestion=!1})}break}case 27:{me&&K.preventDefault();var Je=me&&!Y;if(de===null){if(!Je){var Ie="";e.maybeCallOnChange(K,Ie,"escape"),he(Ie,$)?b({value:Ie,reason:$}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(K,de,"escape");Je?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion();break}}ze&&ze(K)}}),wt={query:this.getQuery()};return g.default.createElement(R.default,{multiSection:B,items:It,renderInputComponent:p,renderItemsContainer:this.renderSuggestionsContainer,renderItem:E,renderItemData:wt,renderSectionTitle:Q,getSectionItems:J,highlightedSectionIndex:Ke,highlightedItemIndex:Qe,containerProps:ue,inputProps:bt,itemProps:this.itemProps,theme:(0,w.mapToAutowhateverTheme)(X),id:V,ref:this.storeAutowhateverRef})}}]),i}(g.Component);m.default=N,S(N,"propTypes",{suggestions:a.default.array.isRequired,onSuggestionsFetchRequested:function(t,i){var o=t[i];if(typeof o!="function")throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(t,i){var o=t[i];if(t.alwaysRenderSuggestions===!1&&typeof o!="function")throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},shouldKeepSuggestionsOnSelect:a.default.func,onSuggestionSelected:a.default.func,onSuggestionHighlighted:a.default.func,renderInputComponent:a.default.func,renderSuggestionsContainer:a.default.func,getSuggestionValue:a.default.func.isRequired,renderSuggestion:a.default.func.isRequired,inputProps:function(t,i){var o=t[i];if(!o)throw new Error("'inputProps' must be passed.");if(!Object.prototype.hasOwnProperty.call(o,"value"))throw new Error("'inputProps' must have 'value'.");if(!Object.prototype.hasOwnProperty.call(o,"onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:a.default.func,alwaysRenderSuggestions:a.default.bool,multiSection:a.default.bool,renderSectionTitle:function(t,i){var o=t[i];if(t.multiSection===!0&&typeof o!="function")throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(t,i){var o=t[i];if(t.multiSection===!0&&typeof o!="function")throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:a.default.bool,highlightFirstSuggestion:a.default.bool,theme:a.default.object,id:a.default.string,containerProps:a.default.object}),S(N,"defaultProps",{renderSuggestionsContainer:n,shouldRenderSuggestions:f,alwaysRenderSuggestions:!1,multiSection:!1,shouldKeepSuggestionsOnSelect:function(){return!1},focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:w.defaultTheme,id:"1",containerProps:{}})}(He);var dt=He.default;const ht=Re(dt),mt={is:{lang:"is",label:"Leit á vefnum",inputLabel:"Leitarorð",placeholder:"Sláðu inn leitarorð",suggestionsLabel:"Tillögur"},en:{lang:"en",label:"Site search",inputLabel:"Search terms",placeholder:"Enter search terms",suggestionsLabel:"Suggestions"}},yt=m=>{const{suggestions:g,setSuggestions:a,renderSuggestion:O,getSuggestionValue:R,onSuggestionsFetchRequested:w,onSuggestionSelected:C,onSuggestionHighlighted:D,onSubmit:h,onButtonClick:y=h,bem:I="SiteSearchAutocomplete",wrapperProps:x}=m,[q,H]=ce(""),L=be(),U=xe(m,mt);return Z(ht,{theme:{container:I,containerOpen:I+"--open",suggestionsContainer:I+"__container",suggestionsContainerOpen:I+"__container--open",suggestionsList:I+"__list",suggestion:I+"__item",suggestionHighlighted:I+"__item--highlighted"},focusInputOnSuggestionClick:!0,suggestions:g,onSuggestionsClearRequested:()=>a([]),onSuggestionsFetchRequested:w,getSuggestionValue:R,onSuggestionSelected:C,onSuggestionHighlighted:D,renderSuggestion:O||(F=>String(F)),containerProps:{"aria-label":U.label},renderSuggestionsContainer:({containerProps:F,children:T})=>Z("div",{...F,"aria-label":g.length?U.suggestionsLabel:void 0,children:T}),inputProps:{ref:L,value:q,onChange:(F,{newValue:T})=>{H(T)}},renderInputComponent:F=>{const{className:T,type:W,disabled:G,readOnly:v,required:P,children:S,...j}=F;return Z(je,{...j,wrapperProps:x,label:m.label||U.inputLabel,placeholder:U.placeholder,onSubmit:h&&(()=>h(q)),onButtonClick:y&&(()=>y(q))})}})},vt=m=>{const[g,a]=De.useLaggedState(!1);we(()=>{const w=C=>{C.key==="Escape"&&a(!1)};return document.addEventListener("keyup",w),()=>document.removeEventListener("keyup",w)},[]);const O=()=>{a(!0)},R=w=>{(!w.relatedTarget||!w.currentTarget.contains(w.relatedTarget))&&a(!1,100)};return Z("div",{className:ye("SiteSearchCurtain",[g&&"focused"]),onFocus:O,onBlur:R,...ke&&{onfocusin:O,onfocusout:R},children:m.children})},pe=(...m)=>console.error("renderSiteSearchAutocomplete: ",...m),St=m=>{const{title:g,lang:a,apiUri:O,searchPagePath:R,exceptBundles:w}=m,[C,D]=ce([]),[h]=ce(()=>Te.d(200));return Z(vt,{children:[g&&Z(rt,{children:g}),Z(yt,{lang:a,suggestions:C,renderSuggestion:({label:y})=>y,setSuggestions:D,onSuggestionSelected:(y,{suggestion:I})=>{window.location.href=I.href},getSuggestionValue:({label:y})=>y,onSubmit:y=>{window.location.href=R+"?q="+encodeURIComponent(y)},onSuggestionsFetchRequested:({value:y})=>{h.cancel(),y.length>=2&&h(()=>{const I=qe({value:y,preference:"searchbox",size:5,_source:["label","url_alias"],exceptBundles:w});Me(O,[I]).then(x=>{const[q]=x;if(!q)throw new Error;D(q.items.map(({label:H,url_alias:L})=>({label:H,href:L})))})})}})]})},Rt=Xe("default",m=>{var y;const{insertAt:g,apiUri:a,searchPagePath:O,exceptBundles:R}=m;if(!a||!O){!a&&pe("`apiUri` missing"),!O&&pe("`searchPagePath` missing");return}const w=document.querySelector(g),C=w==null?void 0:w.closest(".RowBlockColumn");if(!C){pe(w?"RowBlockColumn parent not found":'Insertion point "'+g+'" not found');return}const D=Ce(),h=((y=C.querySelector(".PageHeading"))==null?void 0:y.textContent)||void 0;Ee("SiteSearchCurtain").then(()=>{const I=document.createElement("div");Pe.render(Z(St,{lang:D,title:h,apiUri:a,searchPagePath:O,exceptBundles:R}),I,()=>{C.textContent="",C.append(I)})})})}}});
