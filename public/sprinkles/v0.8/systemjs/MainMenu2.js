System.register(["../_chunks/initHannaNamespace-6467c489.js","../_chunks/compat.module-f329784f.js","../_chunks/qj-d717b116.js","../_chunks/assets-cefd5009.js","../_chunks/i18n-6c3e4ded.js","../_chunks/_Link-7fe03f09.js","../_chunks/focusElement-d9331010.js","../_chunks/getSVGtext-1c46d1d7.js","../_chunks/_Button-634d4086.js","../_chunks/jsxRuntime.module-6df2baee.js","../_chunks/FocusTrap-20d39fa9.js","../_chunks/_useMobileMenuToggling-0b192f4e.js","../_chunks/misc-c537bf75.js","../_chunks/getLang-bd714008.js"],function(me,_e){"use strict";var z,D,Z,G,J,H,R,B,C,w,K,Q,W,X,U,r,Y,E,ee,I;return{setters:[null,s=>{z=s.h,D=s._,Z=s.T,G=s.p,J=s.F,H=s.a,R=s.C},s=>{B=s.m,C=s.b,w=s.q},s=>{K=s.g},s=>{Q=s.g},s=>{W=s.L},s=>{X=s.f},null,s=>{U=s.B},s=>{r=s.o,Y=s.u},s=>{E=s.F},s=>{ee=s.u},s=>{I=s.n},null],execute:function(){const s=n=>{n.preventDefault();const e=n.currentTarget.hash.slice(1),t=e&&document.getElementById(e);t&&(t.tabIndex=-1,X(t))},ne=n=>r(U,{bem:"ButtonPrimary",...n}),te=n=>r(U,{bem:"ButtonSecondary",...n}),N=typeof document<"u"&&document.documentElement.classList,A={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},oe={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"},se:{title:"Huvudmeny",homeLink:"Förstasida",openMenu:"Meny",openMenuLong:"Öppna huvudmenyn",closeMenu:"Stäng",closeMenuLong:"Stäng huvudmenyn"}},ie={alert:"info",globe:void 0,search:"search",user:"user"},ue=n=>{const{onItemClick:e,closeMenu:t,isBrowser:m}=n,_=(o,a,i={})=>{const{key:l,Tag:p="li",button:L}=i;if(typeof a=="function"){const k=a;return r("li",{className:`${o}item`,children:r(k,{closeMenu:t})},l)}const g=`${o}link`,{label:h,labelLong:x,href:f,target:F,lang:M,controlsId:P,onClick:v,descr:S,icon:u}=a,$=S&&r(H,{children:[" ",r("small",{className:`${g}__descr`,children:S})]}),j=L?te:"button",V=L?te:W,O=L?{size:"small","data-icon":u&&ie[u]}:void 0;return r(p,{className:B(`${o}item`,a.modifier),"aria-current":a.current||void 0,children:m&&(v||!f)?r(j,{className:g,type:"button",onClick:()=>{const k=v&&v(a)===!1,c=e&&e(a)===!1;!(k||c)&&t()},"aria-controls":P,"aria-label":x,title:x,lang:M,...O,children:[h," ",$]}):f?r(V,{className:g,href:f,target:F,"aria-label":x,title:x,onClick:()=>{!(e&&e(a)===!1)&&t()},lang:M,hrefLang:a.hrefLang,...O,children:[h," ",$]}):null},l)};return{renderList:(o,a,i={})=>!a||!a.length?null:r("ul",{className:`${o}items`,...i.listProps,children:a.map((l,p)=>_(o,l,{key:p,button:i.buttons}))}),renderItem:_}},ce=n=>{const{homeLink:e="/",items:t,onItemClick:m,illustration:_,imageUrl:b,wrapperProps:o={}}=n,a=ee(o.id),i=Y(n.ssr),[l,p]=z(!1),L=D(null),g=o.ref||L,h=Z(c=>c.key==="Escape"&&f(),[]),x=()=>{N.add(A.menuIsOpen),N.remove(A.menuIsClosed),p(!0),document.addEventListener("keydown",h)},f=()=>{N.remove(A.menuIsOpen),N.add(A.menuIsClosed),p(!1),v(M),g.current.scrollTo(0,0),document.removeEventListener("keydown",h)};G(()=>{if(i)return N.add(A.menuIsClosed),()=>{f(),N.remove(A.menuIsClosed)}},[i]);const{mainItems:F,defaultActive:M}=J(()=>{if(!t.main||!t.main.length)return{mainItems:void 0,defaultActive:-1};const c=t.main.map(d=>{var re;if(!("title"in d)||"current"in d)return d;const q=(re=d.subItems.find(ae=>"current"in ae&&!!ae.current))==null?void 0:re.current;return{...d,current:q}}),y=c.findIndex(d=>"current"in d&&d.current);return{mainItems:c,defaultActive:y}},[t.main]),[P,v]=z(M),S=D(M);M!==S.current&&(S.current=M,v(M));const u=Q(n,oe),{renderItem:$,renderList:j}=ue({onItemClick:m,closeMenu:f,isBrowser:i}),V={...typeof e=="string"?{href:e,label:u.homeLink}:e,modifier:"home"},O=b||_&&K(_),k=`${a}-menu`;return r("nav",{...n.wrapperProps,className:B("MainMenu2",i&&(l?"open":"closed"),o.className),style:O?{...o.style,"--menu-image":`url(${O})`}:o.style,ref:g,"aria-label":u.title,"data-sprinkled":i,id:k,children:[l&&r(E,{atTop:!0}),r("div",{className:"MainMenu2__content",children:[r("h2",{className:"MainMenu2__title",children:u.title}),i?r(ne,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":l,"aria-controls":k,...l?{onClick:f,"aria-label":u.closeMenuLong,title:u.closeMenuLong,children:u.closeMenu}:{onClick:x,"aria-label":u.openMenuLong,title:u.openMenuLong,children:u.openMenu}}):r(ne,{className:"MainMenu2__toggler",size:"small",href:`#${k}`,onClick:s,"aria-hidden":"true",children:u.title}),F&&r("div",{className:B("MainMenu2__main",P<0&&"noneActive"),children:[$("MainMenu2__main__",V,{Tag:"div"}),F.map((c,y)=>{if("title"in c){const d=`${a}-submenu-${y}`,q=y===P;return r(H,{children:[r("div",{className:"MainMenu2__main__item","aria-current":c.current||void 0,children:i?r("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>v(y),"aria-controls":d,"aria-pressed":q,children:c.title}):r("strong",{className:"MainMenu2__main__link",children:c.title})}),j("MainMenu2__main__sub__",c.subItems,i&&{listProps:{id:d,hidden:!q}})]},y)}return $("MainMenu2__main__",c,{key:y,Tag:"div"})})]}),j("MainMenu2__hot__",t.hot,{buttons:!0}),j("MainMenu2__extra__",t.extra,{buttons:!0}),t.related&&t.related.length>0&&r("div",{className:"MainMenu2__related",children:[t.relatedTitle&&r("h3",{className:"MainMenu2__related__title",children:t.relatedTitle}),j("MainMenu2__related__",t.related)]})]}),l&&r(E,{})]})},le=n=>{try{const e=JSON.parse(n.dataset.propsTexts||"{}");if(typeof e.title=="string"&&typeof e.openMenu=="string"&&typeof e.closeMenu=="string")return e.openMenuLong=e.openMenuLong||e.openMenu,e.closeMenuLong=e.closeMenuLong||e.closeMenu,e.homeLink=e.homeLink||"",e}catch{}},se=n=>{const e=n.getAttribute("aria-current");return e==="true"||e==="page"},T=n=>{var h;if(!n)return;const e=w("a[href]",n);if(!e)return;const t=w(".MainMenu2__main__sub__link__descr",n);t==null||t.remove();const m=t==null?void 0:t.textContent.trim(),_=e.textContent.trim(),b=e.getAttribute("href"),o=e.getAttribute("target")||void 0,a=e.getAttribute("lang")||void 0,i=e.getAttribute("hreflang")||void 0,l=e.getAttribute("aria-label")||e.title||void 0,p=e.dataset.icon,L=(h=n.className.match(/[a-zA-Z0-9]__item--(.+)(?: |$)/))==null?void 0:h[1],g=se(n);return{label:_,labelLong:l,href:b,target:o,lang:a,hrefLang:i,modifier:L,current:g,descr:m,icon:p}},de=n=>{var b;const e={main:C(".MainMenu2__main__item:not(.MainMenu2__main__item--home)",n).map(o=>{const a=o.nextElementSibling;return a!=null&&a.classList.contains("MainMenu2__main__sub__items")?{title:o.textContent.trim(),current:se(o),subItems:C(".MainMenu2__main__sub__item",a).map(T).filter(I)}:T(o)}).filter(I),hot:C(".MainMenu2__hot__item",n).map(T).filter(I),extra:C(".MainMenu2__extra__item",n).map(T).filter(I),relatedTitle:(b=w(".MainMenu2__related__title",n))==null?void 0:b.textContent.trim(),related:C(".MainMenu2__related__item",n).map(T).filter(I)},t=T(w(".MainMenu2__main__item--home",n));t&&(delete t.modifier,delete t.controlsId,delete t.descr);const m=n.style.getPropertyValue("--menu-image").trim().replace(/^url\((.+)\)$/,"$1"),_=le(n);return{items:e,homeLink:t,imageUrl:m,texts:_}};window.Hanna.makeSprinkle({name:"MainMenu2",init:n=>{const e=de(n),t=n;return n.getAttributeNames().forEach(m=>{n.removeAttribute(m)}),R.render(r(ce,{...e,ssr:!1}),t),t},unmount:(n,e)=>{R.unmountComponentAtNode(e)}})}}});
