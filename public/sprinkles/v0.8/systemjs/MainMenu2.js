System.register(["../_chunks/initHannaNamespace-87f099a9.js","../_chunks/compat.module-f329784f.js","../_chunks/qj-d717b116.js","../_chunks/assets-cefd5009.js","../_chunks/i18n-6c3e4ded.js","../_chunks/_Link-7fe03f09.js","../_chunks/focusElement-d9331010.js","../_chunks/getSVGtext-1c46d1d7.js","../_chunks/_Button-634d4086.js","../_chunks/jsxRuntime.module-6df2baee.js","../_chunks/FocusTrap-64ee7a2d.js","../_chunks/_useMobileMenuToggling-0b192f4e.js","../_chunks/misc-c537bf75.js","../_chunks/getLang-b0f6fe19.js"],function(ge,pe){"use strict";var z,H,J,D,K,E,U,F,C,w,Q,W,X,Y,V,s,ee,Z,ne,I;return{setters:[null,r=>{z=r.h,H=r._,J=r.T,D=r.p,K=r.F,E=r.a,U=r.C},r=>{F=r.m,C=r.b,w=r.q},r=>{Q=r.g},r=>{W=r.g},r=>{X=r.L},r=>{Y=r.f},null,r=>{V=r.B},r=>{s=r.o,ee=r.u},r=>{Z=r.F},r=>{ne=r.u},r=>{I=r.n},null],execute:function(){const r=n=>{n.preventDefault();const e=n.currentTarget.hash.slice(1),t=e&&document.getElementById(e);t&&(t.tabIndex=-1,Y(t))},te=n=>s(V,{bem:"ButtonPrimary",...n}),re=n=>s(V,{bem:"ButtonSecondary",...n}),N=typeof document<"u"&&document.documentElement.classList,T={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},ue={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"}},se={alert:"info",globe:void 0,search:"search",user:"user"},ce=n=>{const{onItemClick:e,closeMenu:t,openMenu:_,isBrowser:b}=n,g=(u,a,i={})=>{const{key:l,Tag:h="li",button:L}=i;if(typeof a=="function"){const o=a;return s("li",{className:`${u}item`,children:s(o,{closeMenu:t,openMenu:_})},l)}const v=`${u}link`,{label:M,labelLong:O,href:f,target:P,lang:k,controlsId:R,onClick:y,descr:S,icon:c}=a,$=S&&s(E,{children:[" ",s("small",{className:`${v}__descr`,children:S})]}),j=L?re:"button",G=L?re:X,B={className:v,"data-icon":c?se[c]:void 0,"arial-label":O,title:O,lang:k},x=L?{size:"small"}:void 0;return M==="Græna planið"&&console.log("FOOBAR",c,c&&se[c]),s(h,{className:F(`${u}item`,a.modifier),"aria-current":a.current||void 0,children:b&&(y||f==null)?s(j,{...B,type:"button","aria-controls":R,onClick:()=>{const o=y&&y(a)===!1,d=e&&e(a)===!1;!(o||d)&&t()},...x,children:[M," ",$]}):f!=null?s(G,{...B,href:f,hrefLang:a.hrefLang,target:P,onClick:()=>{!(e&&e(a)===!1)&&t()},...x,children:[M," ",$]}):null},l)};return{renderList:(u,a,i={})=>!a||!a.length?null:s("ul",{className:`${u}items`,...i.listProps,children:a.map((l,h)=>g(u,l,{key:h,button:i.buttons}))}),renderItem:g}},le=n=>{const{homeLink:e="/",items:t,onItemClick:_,illustration:b,imageUrl:g,variant:p,wrapperProps:u={}}=n,a=ne(u.id),i=ee(n.ssr),[l,h]=z(!1),L=H(null),v=u.ref||L,M=J(o=>o.key==="Escape"&&f(),[]),O=()=>{N.add(T.menuIsOpen),N.remove(T.menuIsClosed),h(!0),document.addEventListener("keydown",M)},f=()=>{var o;N.remove(T.menuIsOpen),N.add(T.menuIsClosed),h(!1),y(k),(o=v.current)==null||o.scrollTo(0,0),document.removeEventListener("keydown",M)};D(()=>{if(i)return N.add(T.menuIsClosed),()=>{N.remove(T.menuIsClosed),f()}},[i]);const{mainItems:P,defaultActive:k}=K(()=>{if(!t.main||!t.main.length)return{mainItems:void 0,defaultActive:-1};const o=t.main.map(m=>{var ie;if(!("title"in m)||"current"in m)return m;const q=(ie=m.subItems.find(oe=>"current"in oe&&!!oe.current))==null?void 0:ie.current;return{...m,current:q}});let d=o.findIndex(m=>"current"in m&&m.current);return d<0&&"subItems"in(o[0]||{})&&(d=0),{mainItems:o,defaultActive:d}},[t.main]),[R,y]=z(k),S=H(k);k!==S.current&&(S.current=k,y(k));const c=W(n,ue),{renderItem:$,renderList:j}=ce({onItemClick:_,closeMenu:f,openMenu:O,isBrowser:i}),G={...typeof e=="string"?{href:e,label:c.homeLink}:e,modifier:"home"},B=g||b&&Q(b),x=`${a}-menu`;return s("nav",{...n.wrapperProps,className:F("MainMenu2",[i&&(l?"open":"closed"),p&&p!=="default"?`variant--${p}`:void 0],u.className),style:B?{...u.style,"--menu-image":`url(${B})`}:u.style,ref:v,"aria-label":c.title,"data-sprinkled":i,id:x,children:[l&&s(Z,{atTop:!0}),s("div",{className:"MainMenu2__content",children:[s("h2",{className:"MainMenu2__title",children:c.title}),i?s(te,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":l,"aria-controls":x,...l?{onClick:f,"aria-label":c.closeMenuLong,title:c.closeMenuLong,children:c.closeMenu}:{onClick:O,"aria-label":c.openMenuLong,title:c.openMenuLong,children:c.openMenu}}):s(te,{className:"MainMenu2__toggler",size:"small",href:`#${x}`,onClick:r,"aria-hidden":"true",children:c.title}),P&&s("div",{className:F("MainMenu2__main",R<0&&"noneActive"),children:[$("MainMenu2__main__",G,{Tag:"div"}),P.map((o,d)=>{if("title"in o){const m=`${a}-submenu-${d}`,q=d===R;return s(E,{children:[s("div",{className:"MainMenu2__main__item","aria-current":o.current||void 0,children:i?s("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>y(d),"aria-controls":m,"aria-pressed":q,children:o.title}):s("strong",{className:"MainMenu2__main__link",children:o.title})}),j("MainMenu2__main__sub__",o.subItems,i&&{listProps:{id:m,hidden:!q}})]},d)}return $("MainMenu2__main__",o,{key:d,Tag:"div"})})]}),j("MainMenu2__hot__",t.hot,{buttons:!0}),j("MainMenu2__extra__",t.extra,{buttons:!0}),t.related&&t.related.length>0&&s("div",{className:"MainMenu2__related",children:[t.relatedTitle&&s("h3",{className:"MainMenu2__related__title",children:t.relatedTitle}),j("MainMenu2__related__",t.related)]})]}),l&&s(Z,{})]})},de={default:void 0,light:"light"},me=n=>{try{const e=JSON.parse(n.dataset.propsTexts||"{}");if(typeof e.title=="string"&&typeof e.openMenu=="string"&&typeof e.closeMenu=="string")return e.openMenuLong=e.openMenuLong||e.openMenu,e.closeMenuLong=e.closeMenuLong||e.closeMenu,e.homeLink=e.homeLink||"",e}catch{}},_e=({html:n})=>{const e=H(null);return D(()=>{e.current&&(e.current.outerHTML=e.current.innerHTML)},[]),s("span",{ref:e,dangerouslySetInnerHTML:{__html:n}})},ae=n=>{const e=n.getAttribute("aria-current");return e==="true"||e==="page"},A=n=>{var M;if(!n)return;const e=w("a[href]",n);if(!e)return;const t=w(".MainMenu2__main__sub__link__descr",n);t==null||t.remove();const _=t==null?void 0:t.textContent.trim(),g=e.getElementsByTagName("*").length===0?e.textContent.trim():s(_e,{html:e.innerHTML}),p=e.getAttribute("href"),u=e.getAttribute("target")||void 0,a=e.getAttribute("lang")||void 0,i=e.getAttribute("hreflang")||void 0,l=e.getAttribute("aria-label")||e.title||void 0,h=e.dataset.icon,L=(M=n.className.match(/[a-zA-Z0-9]__item--(.+)(?: |$)/))==null?void 0:M[1],v=ae(n);return{label:g,labelLong:l,href:p,target:u,lang:a,hrefLang:i,modifier:L,current:v,descr:_,icon:h}},Me=n=>{var u;const e={main:C(".MainMenu2__main__item:not(.MainMenu2__main__item--home)",n).map(a=>{const i=a.nextElementSibling;return i!=null&&i.classList.contains("MainMenu2__main__sub__items")?{title:a.textContent.trim(),current:ae(a),subItems:C(".MainMenu2__main__sub__item",i).map(A).filter(I)}:A(a)}).filter(I),hot:C(".MainMenu2__hot__item",n).map(A).filter(I),extra:C(".MainMenu2__extra__item",n).map(A).filter(I),relatedTitle:(u=w(".MainMenu2__related__title",n))==null?void 0:u.textContent.trim(),related:C(".MainMenu2__related__item",n).map(A).filter(I)},t=A(w(".MainMenu2__main__item--home",n));t&&(delete t.modifier,delete t.controlsId,delete t.descr);const _=n.style.getPropertyValue("--menu-image").trim().replace(/^url\((.+)\)$/,"$1"),b=n.className.match(/(?:^|\s)MainMenu2--variant--([^\s]+)/)||[],g=de[b[1]||""],p=me(n);return{items:e,homeLink:t,imageUrl:_,texts:p,variant:g}};window.Hanna.makeSprinkle({name:"MainMenu2",init:n=>{const e=Me(n),t=n;return n.getAttributeNames().forEach(_=>{n.removeAttribute(_)}),U.render(s(le,{...e,ssr:!1}),t),t},unmount:(n,e)=>{U.unmountComponentAtNode(e)}})}}});
