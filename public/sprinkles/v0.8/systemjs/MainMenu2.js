System.register(["../_chunks/initHannaNamespace-6467c489.js","../_chunks/compat.module-f329784f.js","../_chunks/qj-d717b116.js","../_chunks/assets-cefd5009.js","../_chunks/i18n-6c3e4ded.js","../_chunks/_Link-7fe03f09.js","../_chunks/focusElement-d9331010.js","../_chunks/getSVGtext-1c46d1d7.js","../_chunks/_Button-634d4086.js","../_chunks/jsxRuntime.module-6df2baee.js","../_chunks/FocusTrap-20d39fa9.js","../_chunks/_useMobileMenuToggling-0b192f4e.js","../_chunks/misc-c537bf75.js","../_chunks/getLang-bd714008.js"],function(me,_e){"use strict";var z,D,Z,G,J,R,H,S,C,w,K,Q,W,X,U,r,Y,E,ee,I;return{setters:[null,s=>{z=s.h,D=s._,Z=s.T,G=s.p,J=s.F,R=s.a,H=s.C},s=>{S=s.m,C=s.b,w=s.q},s=>{K=s.g},s=>{Q=s.g},s=>{W=s.L},s=>{X=s.f},null,s=>{U=s.B},s=>{r=s.o,Y=s.u},s=>{E=s.F},s=>{ee=s.u},s=>{I=s.n},null],execute:function(){const s=n=>{n.preventDefault();const e=n.currentTarget.hash.slice(1),t=e&&document.getElementById(e);t&&(t.tabIndex=-1,X(t))},ne=n=>r(U,{bem:"ButtonPrimary",...n}),te=n=>r(U,{bem:"ButtonSecondary",...n}),N=typeof document<"u"&&document.documentElement.classList,A={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},ie={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"}},oe={alert:"info",globe:void 0,search:"search",user:"user"},ue=n=>{const{onItemClick:e,closeMenu:t,isBrowser:m}=n,_=(i,a,o={})=>{const{key:l,Tag:g="li",button:v}=o;if(typeof a=="function"){const b=a;return r("li",{className:`${i}item`,children:r(b,{closeMenu:t})},l)}const h=`${i}link`,{label:f,labelLong:x,href:k,target:F,lang:M,controlsId:P,onClick:y,descr:$,icon:c}=a,O=$&&r(R,{children:[" ",r("small",{className:`${h}__descr`,children:$})]}),j=v?te:"button",V=v?te:W,B=v?{size:"small","data-icon":c&&oe[c]}:void 0;return r(g,{className:S(`${i}item`,a.modifier),"aria-current":a.current||void 0,children:m&&(y||!k)?r(j,{className:h,type:"button",onClick:()=>{const b=y&&y(a)===!1,u=e&&e(a)===!1;!(b||u)&&t()},"aria-controls":P,"aria-label":x,title:x,lang:M,...B,children:[f," ",O]}):k?r(V,{className:h,href:k,target:F,"aria-label":x,title:x,onClick:()=>{!(e&&e(a)===!1)&&t()},lang:M,hrefLang:a.hrefLang,...B,children:[f," ",O]}):null},l)};return{renderList:(i,a,o={})=>!a||!a.length?null:r("ul",{className:`${i}items`,...o.listProps,children:a.map((l,g)=>_(i,l,{key:g,button:o.buttons}))}),renderItem:_}},ce=n=>{const{homeLink:e="/",items:t,onItemClick:m,illustration:_,imageUrl:L,wrapperProps:i={}}=n,a=ee(i.id),o=Y(n.ssr),[l,g]=z(!1),v=D(null),h=i.ref||v,f=Z(u=>u.key==="Escape"&&k(),[]),x=()=>{N.add(A.menuIsOpen),N.remove(A.menuIsClosed),g(!0),document.addEventListener("keydown",f)},k=()=>{N.remove(A.menuIsOpen),N.add(A.menuIsClosed),g(!1),y(M),h.current.scrollTo(0,0),document.removeEventListener("keydown",f)};G(()=>{if(o)return N.add(A.menuIsClosed),()=>{k(),N.remove(A.menuIsClosed)}},[o]);const{mainItems:F,defaultActive:M}=J(()=>{if(!t.main||!t.main.length)return{mainItems:void 0,defaultActive:-1};const u=t.main.map(d=>{var re;if(!("title"in d)||"current"in d)return d;const q=(re=d.subItems.find(ae=>"current"in ae&&!!ae.current))==null?void 0:re.current;return{...d,current:q}});let p=u.findIndex(d=>"current"in d&&d.current);return p<0&&"subItems"in(u[0]||{})&&(p=0),{mainItems:u,defaultActive:p}},[t.main]),[P,y]=z(M),$=D(M);M!==$.current&&($.current=M,y(M));const c=Q(n,ie),{renderItem:O,renderList:j}=ue({onItemClick:m,closeMenu:k,isBrowser:o}),V={...typeof e=="string"?{href:e,label:c.homeLink}:e,modifier:"home"},B=L||_&&K(_),b=`${a}-menu`;return r("nav",{...n.wrapperProps,className:S("MainMenu2",o&&(l?"open":"closed"),i.className),style:B?{...i.style,"--menu-image":`url(${B})`}:i.style,ref:h,"aria-label":c.title,"data-sprinkled":o,id:b,children:[l&&r(E,{atTop:!0}),r("div",{className:"MainMenu2__content",children:[r("h2",{className:"MainMenu2__title",children:c.title}),o?r(ne,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":l,"aria-controls":b,...l?{onClick:k,"aria-label":c.closeMenuLong,title:c.closeMenuLong,children:c.closeMenu}:{onClick:x,"aria-label":c.openMenuLong,title:c.openMenuLong,children:c.openMenu}}):r(ne,{className:"MainMenu2__toggler",size:"small",href:`#${b}`,onClick:s,"aria-hidden":"true",children:c.title}),F&&r("div",{className:S("MainMenu2__main",P<0&&"noneActive"),children:[O("MainMenu2__main__",V,{Tag:"div"}),F.map((u,p)=>{if("title"in u){const d=`${a}-submenu-${p}`,q=p===P;return r(R,{children:[r("div",{className:"MainMenu2__main__item","aria-current":u.current||void 0,children:o?r("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>y(p),"aria-controls":d,"aria-pressed":q,children:u.title}):r("strong",{className:"MainMenu2__main__link",children:u.title})}),j("MainMenu2__main__sub__",u.subItems,o&&{listProps:{id:d,hidden:!q}})]},p)}return O("MainMenu2__main__",u,{key:p,Tag:"div"})})]}),j("MainMenu2__hot__",t.hot,{buttons:!0}),j("MainMenu2__extra__",t.extra,{buttons:!0}),t.related&&t.related.length>0&&r("div",{className:"MainMenu2__related",children:[t.relatedTitle&&r("h3",{className:"MainMenu2__related__title",children:t.relatedTitle}),j("MainMenu2__related__",t.related)]})]}),l&&r(E,{})]})},le=n=>{try{const e=JSON.parse(n.dataset.propsTexts||"{}");if(typeof e.title=="string"&&typeof e.openMenu=="string"&&typeof e.closeMenu=="string")return e.openMenuLong=e.openMenuLong||e.openMenu,e.closeMenuLong=e.closeMenuLong||e.closeMenu,e.homeLink=e.homeLink||"",e}catch{}},se=n=>{const e=n.getAttribute("aria-current");return e==="true"||e==="page"},T=n=>{var f;if(!n)return;const e=w("a[href]",n);if(!e)return;const t=w(".MainMenu2__main__sub__link__descr",n);t==null||t.remove();const m=t==null?void 0:t.textContent.trim(),_=e.textContent.trim(),L=e.getAttribute("href"),i=e.getAttribute("target")||void 0,a=e.getAttribute("lang")||void 0,o=e.getAttribute("hreflang")||void 0,l=e.getAttribute("aria-label")||e.title||void 0,g=e.dataset.icon,v=(f=n.className.match(/[a-zA-Z0-9]__item--(.+)(?: |$)/))==null?void 0:f[1],h=se(n);return{label:_,labelLong:l,href:L,target:i,lang:a,hrefLang:o,modifier:v,current:h,descr:m,icon:g}},de=n=>{var L;const e={main:C(".MainMenu2__main__item:not(.MainMenu2__main__item--home)",n).map(i=>{const a=i.nextElementSibling;return a!=null&&a.classList.contains("MainMenu2__main__sub__items")?{title:i.textContent.trim(),current:se(i),subItems:C(".MainMenu2__main__sub__item",a).map(T).filter(I)}:T(i)}).filter(I),hot:C(".MainMenu2__hot__item",n).map(T).filter(I),extra:C(".MainMenu2__extra__item",n).map(T).filter(I),relatedTitle:(L=w(".MainMenu2__related__title",n))==null?void 0:L.textContent.trim(),related:C(".MainMenu2__related__item",n).map(T).filter(I)},t=T(w(".MainMenu2__main__item--home",n));t&&(delete t.modifier,delete t.controlsId,delete t.descr);const m=n.style.getPropertyValue("--menu-image").trim().replace(/^url\((.+)\)$/,"$1"),_=le(n);return{items:e,homeLink:t,imageUrl:m,texts:_}};window.Hanna.makeSprinkle({name:"MainMenu2",init:n=>{const e=de(n),t=n;return n.getAttributeNames().forEach(m=>{n.removeAttribute(m)}),H.render(r(ce,{...e,ssr:!1}),t),t},unmount:(n,e)=>{H.unmountComponentAtNode(e)}})}}});
