System.register(["../_chunks/initHannaNamespace-0a67fc41.js","../_chunks/compat.module-f633f329.js","../_chunks/qj-f4bfbfcd.js","../_chunks/jsxRuntime.module-67585037.js","../_chunks/getSVGtext-ef8676a9.js","../_chunks/i18n-e4535dde.js","../_chunks/assets-cefd5009.js","../_chunks/_Link-a8e7a977.js","../_chunks/_Button-34cde408.js","../_chunks/FocusTrap-f463c706.js","../_chunks/_useMobileMenuToggling-3a331832.js","../_chunks/misc-c537bf75.js","../_chunks/InjectHTML-e2f21b15.js","../_chunks/getLang-7dcb09b7.js"],function(Me,ge){"use strict";var U,H,Q,V,W,Z,E,N,O,s,X,S,Y,ee,ne,te,G,J,re,I,se;return{setters:[null,n=>{U=n.h,H=n._,Q=n.T,V=n.p,W=n.F,Z=n.a,E=n.C},n=>{N=n.a,O=n.q},n=>{s=n.o,X=n.u,S=n.m},n=>{Y=n.f},n=>{ee=n.g},n=>{ne=n.g},n=>{te=n.L},n=>{G=n.B},n=>{J=n.F},n=>{re=n.u},n=>{I=n.n},n=>{se=n.I},null],execute:function(){const n=(e,t)=>{e.preventDefault();const r=e.currentTarget.hash.slice(1),i=r&&document.getElementById(r);i&&Y(i,t)},oe=e=>s(G,{bem:"ButtonPrimary",...e}),ae=e=>s(G,{bem:"ButtonSecondary",...e}),A=typeof document<"u"&&document.documentElement.classList,T={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},ue={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"}},ce=e=>{const{onItemClick:t,closeMenu:r,openMenu:i,isBrowser:d}=e,k=(c,o,u={})=>{if(!o)return;const{key:m,Tag:f="li",button:b}=u;typeof o=="function"&&(o={Content:o});const x={key:m,className:S(`${c}item`,o.modifier),"aria-current":o.current||void 0};if("Content"in o&&o.Content)return s(f,{"data-customitem":"",...x,children:s(o.Content,{closeMenu:r,openMenu:i})});const v=`${c}link`,{label:g,labelLong:M,href:h,target:L,lang:R,controlsId:P,onClick:w,descr:_,icon:q}=o,C=o,z=_&&s(Z,{children:[" ",s("small",{className:`${v}__descr`,children:_})]}),D=b?ae:"button",F=b?ae:te,$={className:v,"data-icon":q,"arial-label":M,title:M,lang:R};b&&console.log("Rendering button for menu item:",$);const a=b?{size:"small"}:void 0,p=d&&(w||t&&h==null);return s(f,{className:S(`${c}item`,o.modifier),"aria-current":o.current||void 0,children:p?s(D,{...$,type:"button","aria-controls":P,onClick:()=>{const l=w&&w(C)===!1,B=t&&t(C)===!1;!(l||B)&&r()},...a,children:[g," ",z]}):h!=null?s(F,{...$,href:h,hrefLang:o.hrefLang,target:L,onClick:()=>{!(t&&t(C)===!1)&&r()},...a,children:[g," ",z]}):null},m)};return{renderList:(c,o,u={})=>!o||!o.length?null:s("ul",{className:`${c}items`,...u.listProps,children:o.map((m,f)=>m&&k(c,m,{key:f,button:u.buttons}))}),renderItem:k}},le=e=>{var $;const{homeLink:t="/",items:r,onItemClick:i,illustration:d,imageUrl:k,variant:y,wrapperProps:c={}}=e,o=re(c.id),u=X(e.ssr),[m,f]=U(!1),b=H(null),x=c.ref||b,v=Q(a=>a.key==="Escape"&&M(),[]),g=()=>{A.add(T.menuIsOpen),A.remove(T.menuIsClosed),f(!0),document.addEventListener("keydown",v)},M=()=>{var a;A.remove(T.menuIsOpen),A.add(T.menuIsClosed),f(!1),P(L),(a=x.current)==null||a.scrollTo(0,0),document.removeEventListener("keydown",v)};V(()=>{if(u)return A.add(T.menuIsClosed),()=>{A.remove(T.menuIsClosed),M()}},[u]);const{mainItems:h,defaultActive:L}=W(()=>{if(!r.main||!r.main.length)return{mainItems:void 0,defaultActive:-1};const a=r.main.map(l=>{var ie;if(!("title"in l)||"current"in l)return l;const B=(ie=l.subItems.find(K=>!!(K&&"current"in K&&K.current)))==null?void 0:ie.current;return{...l,current:B}});let p=a.findIndex(l=>"current"in l&&l.current);return p<0&&"subItems"in(a[0]||{})&&(p=0),{mainItems:a,defaultActive:p}},[r.main]),[R,P]=U(L),w=H(L);L!==w.current&&(w.current=L,P(L));const _=ee(e,ue),{renderItem:q,renderList:C}=ce({onItemClick:i,closeMenu:M,openMenu:g,isBrowser:u}),z={...typeof t=="string"?{href:t,label:_.homeLink}:t,modifier:"home"},D=k||d&&ne(d),F=`${o}-menu`;return s("nav",{...e.wrapperProps,className:S("MainMenu2",[u&&(m?"open":"closed"),y&&y!=="default"?`variant--${y}`:void 0],c.className),style:D?{...c.style,"--menu-image":`url(${D})`}:c.style,ref:x,"aria-label":_.title,"data-sprinkled":u,id:F,children:[m&&s(J,{atTop:!0}),s("div",{className:"MainMenu2__content",children:[s("h2",{className:"MainMenu2__title",children:_.title}),u?s(oe,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":m,"aria-controls":F,...m?{onClick:M,"aria-label":_.closeMenuLong,title:_.closeMenuLong,children:_.closeMenu}:{onClick:g,"aria-label":_.openMenuLong,title:_.openMenuLong,children:_.openMenu}}):s(oe,{className:"MainMenu2__toggler",size:"small",href:`#${F}`,onClick:n,"aria-hidden":"true",children:_.title}),h&&s("div",{className:S("MainMenu2__main",R<0&&"noneActive"),children:[q("MainMenu2__main__",z,{Tag:"div"}),h.map((a,p)=>{if("title"in a){const l=`${o}-submenu-${p}`,B=p===R;return s(Z,{children:[s("div",{className:"MainMenu2__main__item","aria-current":a.current||void 0,children:u?s("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>P(p),"aria-controls":l,"aria-pressed":B,children:a.title}):s("strong",{className:"MainMenu2__main__link",children:a.title})}),C("MainMenu2__main__sub__",a.subItems,u&&{listProps:{id:l,hidden:!B}})]},p)}return q("MainMenu2__main__",a,{key:p,Tag:"div"})})]}),C("MainMenu2__hot__",($=r.hot)==null?void 0:$.map(a=>a&&"redhot"in a?{...a,modifier:a.modifier?[a.modifier,"redhot"]:"redhot"}:a),{buttons:!0}),C("MainMenu2__extra__",r.extra,{buttons:!0}),r.related&&r.related.length>0&&s("div",{className:"MainMenu2__related",children:[r.relatedTitle&&s("h3",{className:"MainMenu2__related__title",children:r.relatedTitle}),C("MainMenu2__related__",r.related)]})]}),m&&s(J,{})]})},de={default:void 0,light:"light"},me=e=>{try{const t=JSON.parse(e.dataset.propsTexts||"{}");if(typeof t.title=="string"&&typeof t.openMenu=="string"&&typeof t.closeMenu=="string")return t.openMenuLong=t.openMenuLong||t.openMenu,t.closeMenuLong=t.closeMenuLong||t.closeMenu,t.homeLink=t.homeLink||"",t}catch{}},j=e=>{var v;if(!e)return;const t=(v=e.className.match(/[a-zA-Z0-9]__item--(.+?)(?: |$)/g))==null?void 0:v.map(g=>g.slice(g.indexOf("--")+2)),r=e.getAttribute("aria-current")==="true";if(e.hasAttribute("data-customitem")){const g=e.childNodes;return g.forEach(M=>M.remove()),{modifier:t,current:e.getAttribute("aria-current")==="true",Content:()=>{const M=H(null);return V(()=>{const h=M.current;h&&(h.parentNode.append(...g),h.remove())},[]),s("span",{ref:M})}}}const i=O("a[href]",e);if(!i)return;const d=O(".MainMenu2__main__sub__link__descr",e);d==null||d.remove();const k=d==null?void 0:d.textContent.trim(),c=i.getElementsByTagName("*").length===0?i.textContent.trim():s(se,{html:i.innerHTML}),o=i.getAttribute("href"),u=i.getAttribute("target")||void 0,m=i.getAttribute("lang")||void 0,f=i.getAttribute("hreflang")||void 0,b=i.getAttribute("aria-label")||i.title||void 0,x=i.dataset.icon;return{label:c,labelLong:b,href:o,target:u,lang:m,hrefLang:f,modifier:t,current:r,descr:k,icon:x}},_e=e=>{var c;const t={main:N(".MainMenu2__main__item:not(.MainMenu2__main__item--home)",e).map(o=>{const u=o.nextElementSibling;return u!=null&&u.classList.contains("MainMenu2__main__sub__items")?{title:o.textContent.trim(),current:o.getAttribute("aria-current")==="true",subItems:N(".MainMenu2__main__sub__item",u).map(j).filter(I)}:j(o)}).filter(I),hot:N(".MainMenu2__hot__item",e).map(j).filter(I),extra:N(".MainMenu2__extra__item",e).map(j).filter(I),relatedTitle:(c=O(".MainMenu2__related__title",e))==null?void 0:c.textContent.trim(),related:N(".MainMenu2__related__item",e).map(j).filter(I)};let r=j(O(".MainMenu2__main__item--home",e));(typeof r=="function"||r&&"Content"in r)&&(r=void 0),r&&(delete r.modifier,delete r.controlsId,delete r.descr);const i=e.style.getPropertyValue("--menu-image").trim().replace(/^url\((.+)\)$/,"$1"),d=e.className.match(/(?:^|\s)MainMenu2--variant--([^\s]+)/)||[],k=de[d[1]||""],y=me(e);return{items:t,homeLink:r,imageUrl:i,texts:y,variant:k}};window.Hanna.makeSprinkle({name:"MainMenu2",init:e=>{const t=_e(e),r=e;return e.getAttributeNames().forEach(i=>{e.removeAttribute(i)}),E.render(s(le,{...t,ssr:!1}),r),r},unmount:(e,t)=>{E.unmountComponentAtNode(t)}})}}});
