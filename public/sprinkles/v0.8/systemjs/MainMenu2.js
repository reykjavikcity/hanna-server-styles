System.register(["../_chunks/initHannaNamespace-503f58b6.js","../_chunks/compat.module-f329784f.js","../_chunks/qj-d717b116.js","../_chunks/assets-89e5bd72.js","../_chunks/i18n-6c3e4ded.js","../_chunks/_Link-7fe03f09.js","../_chunks/focusElement-d9331010.js","../_chunks/getSVGtext-1c46d1d7.js","../_chunks/_Button-634d4086.js","../_chunks/jsxRuntime.module-6df2baee.js","../_chunks/FocusTrap-20d39fa9.js","../_chunks/_useMobileMenuToggling-0b192f4e.js","../_chunks/misc-c537bf75.js","../_chunks/getLang-bd714008.js"],function(me,_e){"use strict";var q,z,Z,G,J,D,H,$,C,w,K,Q,W,X,R,r,Y,U,ee,I;return{setters:[null,t=>{q=t.h,z=t._,Z=t.T,G=t.p,J=t.F,D=t.a,H=t.C},t=>{$=t.m,C=t.b,w=t.q},t=>{K=t.g},t=>{Q=t.g},t=>{W=t.L},t=>{X=t.f},null,t=>{R=t.B},t=>{r=t.o,Y=t.u},t=>{U=t.F},t=>{ee=t.u},t=>{I=t.n},null],execute:function(){const t=n=>{n.preventDefault();const e=n.currentTarget.hash.slice(1),s=e&&document.getElementById(e);s&&(s.tabIndex=-1,X(s))},ne=n=>r(R,{bem:"ButtonPrimary",...n}),te=n=>r(R,{bem:"ButtonSecondary",...n}),N=typeof document<"u"&&document.documentElement.classList,A={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},oe={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"},se:{title:"Huvudmeny",homeLink:"Förstasida",openMenu:"Meny",openMenuLong:"Öppna huvudmenyn",closeMenu:"Stäng",closeMenuLong:"Stäng huvudmenyn"}},ie={alert:"info",globe:void 0,search:"search",user:"user"},ue=n=>{const{onItemClick:e,closeMenu:s,isBrowser:m}=n,_=(o,a,i={})=>{const{key:l,Tag:p="li",button:L}=i;if(typeof a=="function"){const k=a;return r("li",{className:`${o}item`,children:r(k,{closeMenu:s})},l)}const M=`${o}link`,{label:h,labelLong:T,href:f,target:F,lang:g,controlsId:P,onClick:v,descr:S,icon:u}=a,O=S&&r(D,{children:[" ",r("small",{className:`${M}__descr`,children:S})]}),j=L?te:"button",V=L?te:W,B=L?{size:"small","data-icon":u&&ie[u]}:void 0;return r(p,{className:$(`${o}item`,a.modifier),"aria-current":a.current||void 0,children:m&&(v||!f)?r(j,{className:M,type:"button",onClick:()=>{const k=v&&v(a)===!1,c=e&&e(a)===!1;!(k||c)&&s()},"aria-controls":P,"aria-label":T,title:T,lang:g,...B,children:[h," ",O]}):f?r(V,{className:M,href:f,target:F,"aria-label":T,title:T,onClick:()=>{!(e&&e(a)===!1)&&s()},lang:g,hrefLang:a.hrefLang,...B,children:[h," ",O]}):null},l)};return{renderList:(o,a,i={})=>!a||!a.length?null:r("ul",{className:`${o}items`,...i.listProps,children:a.map((l,p)=>_(o,l,{key:p,button:i.buttons}))}),renderItem:_}},ce=n=>{const{homeLink:e="/",items:s,onItemClick:m,illustration:_,imageUrl:b,wrapperProps:o={}}=n,a=ee(o.id),i=Y(n.ssr),[l,p]=q(!1),L=z(null),M=o.ref||L,h=Z(c=>c.key==="Escape"&&f(),[]),T=()=>{N.add(A.menuIsOpen),N.remove(A.menuIsClosed),p(!0),document.addEventListener("keydown",h)},f=()=>{N.remove(A.menuIsOpen),N.add(A.menuIsClosed),p(!1),v(g),M.current.scrollTo(0,0),document.removeEventListener("keydown",h)};G(()=>{if(i)return N.add(A.menuIsClosed),()=>{f(),N.remove(A.menuIsClosed)}},[i]);const{mainItems:F,defaultActive:g}=J(()=>{if(!s.main||!s.main.length)return{mainItems:void 0,defaultActive:-1};const c=s.main.map(d=>{var re;if(!("title"in d)||"current"in d)return d;const E=(re=d.subItems.find(ae=>"current"in ae&&!!ae.current))==null?void 0:re.current;return{...d,current:E}}),y=c.findIndex(d=>"current"in d&&d.current);return{mainItems:c,defaultActive:y}},[s.main]),[P,v]=q(g),S=z(g);g!==S.current&&(S.current=g,v(g));const u=Q(n,oe),{renderItem:O,renderList:j}=ue({onItemClick:m,closeMenu:f,isBrowser:i}),V={...typeof e=="string"?{href:e,label:u.homeLink}:e,modifier:"home"},B=b||_&&K(_),k=`${a}-menu`;return r("nav",{...n.wrapperProps,className:$("MainMenu2",i&&(l?"open":"closed"),o.className),style:B?{...o.style,"--menu-image":`url(${B})`}:o.style,ref:M,"aria-label":u.title,"data-sprinkled":i,id:k,children:[l&&r(U,{atTop:!0}),r("div",{className:"MainMenu2__content",children:[r("h2",{className:"MainMenu2__title",children:u.title}),i?r(ne,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":l,"aria-controls":k,"data-icon":"text",...l?{onClick:f,"aria-label":u.closeMenuLong,title:u.closeMenuLong,children:u.closeMenu}:{onClick:T,"aria-label":u.openMenuLong,title:u.openMenuLong,children:u.openMenu}}):r(ne,{className:"MainMenu2__toggler",size:"small",href:`#${k}`,onClick:t,"aria-hidden":"true","data-icon":"text",children:u.title}),F&&r("div",{className:$("MainMenu2__main",P<0&&"noneActive"),children:[O("MainMenu2__main__",V,{Tag:"div"}),F.map((c,y)=>{if("title"in c){const d=`${a}-submenu-${y}`,E=y===P;return r(D,{children:[r("div",{className:"MainMenu2__main__item","aria-current":c.current||void 0,children:i?r("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>v(y),"aria-controls":d,"aria-pressed":E,children:c.title}):r("strong",{className:"MainMenu2__main__link",children:c.title})}),j("MainMenu2__main__sub__",c.subItems,i&&{listProps:{id:d,hidden:!E}})]},y)}return O("MainMenu2__main__",c,{key:y,Tag:"div"})})]}),j("MainMenu2__hot__",s.hot,{buttons:!0}),j("MainMenu2__extra__",s.extra,{buttons:!0}),s.related&&s.related.length>0&&r("div",{className:"MainMenu2__related",children:[s.relatedTitle&&r("h3",{className:"MainMenu2__related__title",children:s.relatedTitle}),j("MainMenu2__related__",s.related)]})]}),l&&r(U,{})]})},le=n=>{try{const e=JSON.parse(n.dataset.propsTexts||"{}");if(typeof e.title=="string"&&typeof e.openMenu=="string"&&typeof e.closeMenu=="string")return e.openMenuLong=e.openMenuLong||e.openMenu,e.closeMenuLong=e.closeMenuLong||e.closeMenu,e.homeLink=e.homeLink||"",e}catch{}},se=n=>{const e=n.getAttribute("aria-current");return e==="true"||e==="page"},x=n=>{var M,h;if(!n)return;const e=w("a[href]",n);if(!e)return;const s=e.textContent.trim(),m=e.getAttribute("href"),_=e.getAttribute("target")||void 0,b=e.getAttribute("lang")||void 0,o=e.getAttribute("hreflang")||void 0,a=e.getAttribute("aria-label")||e.title||void 0,i=(M=w(".MainMenu2__main__sub__link__descr",n))==null?void 0:M.textContent.trim(),l=e.dataset.icon,p=(h=n.className.match(/[a-zA-Z0-9]__item--(.+)(?: |$)/))==null?void 0:h[1],L=se(n);return{label:s,labelLong:a,href:m,target:_,lang:b,hrefLang:o,modifier:p,current:L,descr:i,icon:l}},de=n=>{var b;const e={main:C(".MainMenu2__main__item",n).map(o=>{const a=o.nextElementSibling;return a!=null&&a.classList.contains("MainMenu2__main__sub")?{title:o.textContent.trim(),current:se(o),subItems:C(".MainMenu2__main__sub__item",a).map(x).filter(I)}:x(o)}).filter(I),hot:C(".MainMenu2__hot__item",n).map(x).filter(I),extra:C(".MainMenu2__extra__item",n).map(x).filter(I),relatedTitle:(b=w(".MainMenu2__related__title",n))==null?void 0:b.textContent.trim(),related:C(".MainMenu2__related__item",n).map(x).filter(I)},s=x(w(".MainMenu2__main__item--home",n));s&&(delete s.modifier,delete s.controlsId,delete s.descr);const m=n.style.getPropertyValue("--menu-image").trim(),_=le(n);return{items:e,homeLink:s,imageUrl:m,texts:_}};window.Hanna.makeSprinkle({name:"MainMenu2",init:n=>{const e=de(n),s=n;return n.getAttributeNames().forEach(m=>{n.removeAttribute(m)}),H.render(r(ce,{...e,ssr:!1}),s),s},unmount:(n,e)=>{H.unmountComponentAtNode(e)}})}}});
