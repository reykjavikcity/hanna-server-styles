System.register(["../_chunks/initHannaNamespace-ae0195f6.js","../_chunks/compat.module-f329784f.js","../_chunks/qj-0feb5801.js","../_chunks/jsxRuntime.module-2cafdad3.js","../_chunks/getSVGtext-ef8676a9.js","../_chunks/i18n-6c3e4ded.js","../_chunks/assets-cefd5009.js","../_chunks/_Link-7fe03f09.js","../_chunks/_Button-4ce1d666.js","../_chunks/FocusTrap-d1a8224a.js","../_chunks/_useMobileMenuToggling-2178898f.js","../_chunks/misc-c537bf75.js","../_chunks/getLang-45de5ff2.js"],function(ge,pe){"use strict";var D,H,J,R,K,U,E,C,w,s,Q,P,W,X,Y,ee,V,Z,ne,I;return{setters:[null,r=>{D=r.h,H=r._,J=r.T,R=r.p,K=r.F,U=r.a,E=r.C},r=>{C=r.a,w=r.q},r=>{s=r.o,Q=r.u,P=r.m},r=>{W=r.f},r=>{X=r.g},r=>{Y=r.g},r=>{ee=r.L},r=>{V=r.B},r=>{Z=r.F},r=>{ne=r.u},r=>{I=r.n},null],execute:function(){const r=(n,e)=>{n.preventDefault();const t=n.currentTarget.hash.slice(1),l=t&&document.getElementById(t);l&&W(l,e)},te=n=>s(V,{bem:"ButtonPrimary",...n}),re=n=>s(V,{bem:"ButtonSecondary",...n}),N=typeof document<"u"&&document.documentElement.classList,T={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},oe={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"}},ue={alert:"info",globe:void 0,search:"search",user:"user"},ce=n=>{const{onItemClick:e,closeMenu:t,openMenu:l,isBrowser:L}=n,M=(u,a,i={})=>{const{key:d,Tag:p="li",button:b}=i;if(typeof a=="function"){const o=a;return s("li",{className:`${u}item`,children:s(o,{closeMenu:t,openMenu:l})},d)}const v=`${u}link`,{label:h,labelLong:S,href:f,target:F,lang:k,controlsId:q,onClick:y,descr:$,icon:c}=a,B=$&&s(U,{children:[" ",s("small",{className:`${v}__descr`,children:$})]}),j=b?re:"button",G=b?re:ee,O={className:v,"data-icon":c?ue[c]:void 0,"arial-label":S,title:S,lang:k},x=b?{size:"small"}:void 0;return s(p,{className:P(`${u}item`,a.modifier),"aria-current":a.current||void 0,children:L&&(y||f==null&&e)?s(j,{...O,type:"button","aria-controls":q,onClick:()=>{const o=y&&y(a)===!1,m=e&&e(a)===!1;!(o||m)&&t()},...x,children:[h," ",B]}):f!=null?s(G,{...O,href:f,hrefLang:a.hrefLang,target:F,onClick:()=>{!(e&&e(a)===!1)&&t()},...x,children:[h," ",B]}):null},d)};return{renderList:(u,a,i={})=>!a||!a.length?null:s("ul",{className:`${u}items`,...i.listProps,children:a.map((d,p)=>M(u,d,{key:p,button:i.buttons}))}),renderItem:M}},le=n=>{const{homeLink:e="/",items:t,onItemClick:l,illustration:L,imageUrl:M,variant:g,wrapperProps:u={}}=n,a=ne(u.id),i=Q(n.ssr),[d,p]=D(!1),b=H(null),v=u.ref||b,h=J(o=>o.key==="Escape"&&f(),[]),S=()=>{N.add(T.menuIsOpen),N.remove(T.menuIsClosed),p(!0),document.addEventListener("keydown",h)},f=()=>{var o;N.remove(T.menuIsOpen),N.add(T.menuIsClosed),p(!1),y(k),(o=v.current)==null||o.scrollTo(0,0),document.removeEventListener("keydown",h)};R(()=>{if(i)return N.add(T.menuIsClosed),()=>{N.remove(T.menuIsClosed),f()}},[i]);const{mainItems:F,defaultActive:k}=K(()=>{if(!t.main||!t.main.length)return{mainItems:void 0,defaultActive:-1};const o=t.main.map(_=>{var ae;if(!("title"in _)||"current"in _)return _;const z=(ae=_.subItems.find(ie=>"current"in ie&&!!ie.current))==null?void 0:ae.current;return{..._,current:z}});let m=o.findIndex(_=>"current"in _&&_.current);return m<0&&"subItems"in(o[0]||{})&&(m=0),{mainItems:o,defaultActive:m}},[t.main]),[q,y]=D(k),$=H(k);k!==$.current&&($.current=k,y(k));const c=X(n,oe),{renderItem:B,renderList:j}=ce({onItemClick:l,closeMenu:f,openMenu:S,isBrowser:i}),G={...typeof e=="string"?{href:e,label:c.homeLink}:e,modifier:"home"},O=M||L&&Y(L),x=`${a}-menu`;return s("nav",{...n.wrapperProps,className:P("MainMenu2",[i&&(d?"open":"closed"),g&&g!=="default"?`variant--${g}`:void 0],u.className),style:O?{...u.style,"--menu-image":`url(${O})`}:u.style,ref:v,"aria-label":c.title,"data-sprinkled":i,id:x,children:[d&&s(Z,{atTop:!0}),s("div",{className:"MainMenu2__content",children:[s("h2",{className:"MainMenu2__title",children:c.title}),i?s(te,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":d,"aria-controls":x,...d?{onClick:f,"aria-label":c.closeMenuLong,title:c.closeMenuLong,children:c.closeMenu}:{onClick:S,"aria-label":c.openMenuLong,title:c.openMenuLong,children:c.openMenu}}):s(te,{className:"MainMenu2__toggler",size:"small",href:`#${x}`,onClick:r,"aria-hidden":"true",children:c.title}),F&&s("div",{className:P("MainMenu2__main",q<0&&"noneActive"),children:[B("MainMenu2__main__",G,{Tag:"div"}),F.map((o,m)=>{if("title"in o){const _=`${a}-submenu-${m}`,z=m===q;return s(U,{children:[s("div",{className:"MainMenu2__main__item","aria-current":o.current||void 0,children:i?s("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>y(m),"aria-controls":_,"aria-pressed":z,children:o.title}):s("strong",{className:"MainMenu2__main__link",children:o.title})}),j("MainMenu2__main__sub__",o.subItems,i&&{listProps:{id:_,hidden:!z}})]},m)}return B("MainMenu2__main__",o,{key:m,Tag:"div"})})]}),j("MainMenu2__hot__",t.hot,{buttons:!0}),j("MainMenu2__extra__",t.extra,{buttons:!0}),t.related&&t.related.length>0&&s("div",{className:"MainMenu2__related",children:[t.relatedTitle&&s("h3",{className:"MainMenu2__related__title",children:t.relatedTitle}),j("MainMenu2__related__",t.related)]})]}),d&&s(Z,{})]})},de={default:void 0,light:"light"},me=n=>{try{const e=JSON.parse(n.dataset.propsTexts||"{}");if(typeof e.title=="string"&&typeof e.openMenu=="string"&&typeof e.closeMenu=="string")return e.openMenuLong=e.openMenuLong||e.openMenu,e.closeMenuLong=e.closeMenuLong||e.closeMenu,e.homeLink=e.homeLink||"",e}catch{}},_e=({html:n})=>{const e=H(null);return R(()=>{e.current&&(e.current.outerHTML=e.current.innerHTML)},[]),s("span",{ref:e,dangerouslySetInnerHTML:{__html:n}})},se=n=>{const e=n.getAttribute("aria-current");return e==="true"||e==="page"},A=n=>{var h;if(!n)return;const e=w("a[href]",n);if(!e)return;const t=w(".MainMenu2__main__sub__link__descr",n);t==null||t.remove();const l=t==null?void 0:t.textContent.trim(),M=e.getElementsByTagName("*").length===0?e.textContent.trim():s(_e,{html:e.innerHTML}),g=e.getAttribute("href"),u=e.getAttribute("target")||void 0,a=e.getAttribute("lang")||void 0,i=e.getAttribute("hreflang")||void 0,d=e.getAttribute("aria-label")||e.title||void 0,p=e.dataset.icon,b=(h=n.className.match(/[a-zA-Z0-9]__item--(.+)(?: |$)/))==null?void 0:h[1],v=se(n);return{label:M,labelLong:d,href:g,target:u,lang:a,hrefLang:i,modifier:b,current:v,descr:l,icon:p}},Me=n=>{var u;const e={main:C(".MainMenu2__main__item:not(.MainMenu2__main__item--home)",n).map(a=>{const i=a.nextElementSibling;return i!=null&&i.classList.contains("MainMenu2__main__sub__items")?{title:a.textContent.trim(),current:se(a),subItems:C(".MainMenu2__main__sub__item",i).map(A).filter(I)}:A(a)}).filter(I),hot:C(".MainMenu2__hot__item",n).map(A).filter(I),extra:C(".MainMenu2__extra__item",n).map(A).filter(I),relatedTitle:(u=w(".MainMenu2__related__title",n))==null?void 0:u.textContent.trim(),related:C(".MainMenu2__related__item",n).map(A).filter(I)},t=A(w(".MainMenu2__main__item--home",n));t&&(delete t.modifier,delete t.controlsId,delete t.descr);const l=n.style.getPropertyValue("--menu-image").trim().replace(/^url\((.+)\)$/,"$1"),L=n.className.match(/(?:^|\s)MainMenu2--variant--([^\s]+)/)||[],M=de[L[1]||""],g=me(n);return{items:e,homeLink:t,imageUrl:l,texts:g,variant:M}};window.Hanna.makeSprinkle({name:"MainMenu2",init:n=>{const e=Me(n),t=n;return n.getAttributeNames().forEach(l=>{n.removeAttribute(l)}),E.render(s(le,{...e,ssr:!1}),t),t},unmount:(n,e)=>{E.unmountComponentAtNode(e)}})}}});
