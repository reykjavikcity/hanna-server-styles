System.register(["./initHannaNamespace.js","../_chunks/compat.module-a402cbb4.js","../_chunks/qj-7a691f7a.js","../_chunks/utils-912f90e8.js","../_chunks/_AbstractCarousel-5a6c02e1.js","../_chunks/_Button-aa240991.js","../_chunks/_Image-2d51ed4a.js","../_chunks/jsxRuntime.module-9909fe88.js","../_chunks/useFormatMonitor-7bb96c94.js","./utils/addSeenEffect.js","./utils/focus-visible.js","../_chunks/_Link-2be16f36.js"],function(Ae,De){"use strict";var U,G,h,I,_,x,z,W,X,O,H,V,P,Z,N,j,K,J,Q,L,d,Y,ee,te,ne;return{setters:[null,u=>{U=u.b,G=u.q,h=u.C,I=u.a,_=u.p,x=u.h,z=u.z,W=u._,X=u.F},u=>{O=u.m,H=u.e,V=u.u,P=u.v,Z=u.q,N=u.a},u=>{j=u.b,K=u.c},u=>{J=u.A},u=>{Q=u.B},u=>{L=u.I},u=>{d=u.o,Y=u.u},u=>{ee=u.u},u=>{te=u.autoSeenEffectWrapperProps,ne=u.autoSeenEffectsRefresh},null,null],execute:function(){const u=U({}),ve=t=>{const{caption:a,description:r,largeImageSrc:e,...s}=t,{setCurrentImage:n}=G(u);return d("figure",{className:"GalleryItem",children:[d("figcaption",{className:"GalleryItem__caption",children:a}),e?d(Q,{bem:"GalleryItem__button",href:e,onClick:i=>{i.preventDefault(),n({...s,caption:a,description:r,largeImageSrc:e})},children:[" ",d(L,{bem:"GalleryItem__image",...s})," "]}):d(L,{bem:"GalleryItem__image",...s}),r&&d("div",{className:"GalleryItem__description",children:r})]})};function M(){return M=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},M.apply(this,arguments)}function se(t,a){if(t==null)return{};var r={},e=Object.keys(t),s,n;for(n=0;n<e.length;n++)s=e[n],!(a.indexOf(s)>=0)&&(r[s]=t[s]);return r}function w(t,a){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},w(t,a)}function ae(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,w(t,a)}function Ee(t,a){return t.classList?!!a&&t.classList.contains(a):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+a+" ")!==-1}function ge(t,a){t.classList?t.classList.add(a):Ee(t,a)||(typeof t.className=="string"?t.className=t.className+" "+a:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+a))}function oe(t,a){return t.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xe(t,a){t.classList?t.classList.remove(a):typeof t.className=="string"?t.className=oe(t.className,a):t.setAttribute("class",oe(t.className&&t.className.baseVal||"",a))}const re={disabled:!1},ie=h.createContext(null);var le=function(a){return a.scrollTop},S="unmounted",E="exited",g="entering",C="entered",A="exiting",v=function(t){ae(a,t);function a(e,s){var n;n=t.call(this,e,s)||this;var i=s,o=i&&!i.isMounting?e.enter:e.appear,l;return n.appearStatus=null,e.in?o?(l=E,n.appearStatus=g):l=C:e.unmountOnExit||e.mountOnEnter?l=S:l=E,n.state={status:l},n.nextCallback=null,n}a.getDerivedStateFromProps=function(s,n){var i=s.in;return i&&n.status===S?{status:E}:null};var r=a.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var n=null;if(s!==this.props){var i=this.state.status;this.props.in?i!==g&&i!==C&&(n=g):(i===g||i===C)&&(n=A)}this.updateStatus(!1,n)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,n,i,o;return n=i=o=s,s!=null&&typeof s!="number"&&(n=s.exit,i=s.enter,o=s.appear!==void 0?s.appear:i),{exit:n,enter:i,appear:o}},r.updateStatus=function(s,n){if(s===void 0&&(s=!1),n!==null)if(this.cancelNextCallback(),n===g){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:h.findDOMNode(this);i&&le(i)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===E&&this.setState({status:S})},r.performEnter=function(s){var n=this,i=this.props.enter,o=this.context?this.context.isMounting:s,l=this.props.nodeRef?[o]:[h.findDOMNode(this),o],c=l[0],p=l[1],f=this.getTimeouts(),m=o?f.appear:f.enter;if(!s&&!i||re.disabled){this.safeSetState({status:C},function(){n.props.onEntered(c)});return}this.props.onEnter(c,p),this.safeSetState({status:g},function(){n.props.onEntering(c,p),n.onTransitionEnd(m,function(){n.safeSetState({status:C},function(){n.props.onEntered(c,p)})})})},r.performExit=function(){var s=this,n=this.props.exit,i=this.getTimeouts(),o=this.props.nodeRef?void 0:h.findDOMNode(this);if(!n||re.disabled){this.safeSetState({status:E},function(){s.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:A},function(){s.props.onExiting(o),s.onTransitionEnd(i.exit,function(){s.safeSetState({status:E},function(){s.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,n){n=this.setNextCallback(n),this.setState(s,n)},r.setNextCallback=function(s){var n=this,i=!0;return this.nextCallback=function(o){i&&(i=!1,n.nextCallback=null,s(o))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},r.onTransitionEnd=function(s,n){this.setNextCallback(n);var i=this.props.nodeRef?this.props.nodeRef.current:h.findDOMNode(this),o=s==null&&!this.props.addEndListener;if(!i||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=l[0],p=l[1];this.props.addEndListener(c,p)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===S)return null;var n=this.props,i=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var o=se(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return h.createElement(ie.Provider,{value:null},typeof i=="function"?i(s,o):h.cloneElement(h.Children.only(i),o))},a}(h.Component);v.contextType=ie,v.propTypes={};function b(){}v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},v.UNMOUNTED=S,v.EXITED=E,v.ENTERING=g,v.ENTERED=C,v.EXITING=A;const Ce=v;var be=function(a,r){return a&&r&&r.split(" ").forEach(function(e){return ge(a,e)})},D=function(a,r){return a&&r&&r.split(" ").forEach(function(e){return xe(a,e)})},R=function(t){ae(a,t);function a(){for(var e,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,e.appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(o,l){var c=e.resolveArguments(o,l),p=c[0],f=c[1];e.removeClasses(p,"exit"),e.addClass(p,f?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(o,l)},e.onEntering=function(o,l){var c=e.resolveArguments(o,l),p=c[0],f=c[1],m=f?"appear":"enter";e.addClass(p,m,"active"),e.props.onEntering&&e.props.onEntering(o,l)},e.onEntered=function(o,l){var c=e.resolveArguments(o,l),p=c[0],f=c[1],m=f?"appear":"enter";e.removeClasses(p,m),e.addClass(p,m,"done"),e.props.onEntered&&e.props.onEntered(o,l)},e.onExit=function(o){var l=e.resolveArguments(o),c=l[0];e.removeClasses(c,"appear"),e.removeClasses(c,"enter"),e.addClass(c,"exit","base"),e.props.onExit&&e.props.onExit(o)},e.onExiting=function(o){var l=e.resolveArguments(o),c=l[0];e.addClass(c,"exit","active"),e.props.onExiting&&e.props.onExiting(o)},e.onExited=function(o){var l=e.resolveArguments(o),c=l[0];e.removeClasses(c,"exit"),e.addClass(c,"exit","done"),e.props.onExited&&e.props.onExited(o)},e.resolveArguments=function(o,l){return e.props.nodeRef?[e.props.nodeRef.current,o]:[o,l]},e.getClassNames=function(o){var l=e.props.classNames,c=typeof l=="string",p=c&&l?l+"-":"",f=c?""+p+o:l[o],m=c?f+"-active":l[o+"Active"],$=c?f+"-done":l[o+"Done"];return{baseClassName:f,activeClassName:m,doneClassName:$}},e}var r=a.prototype;return r.addClass=function(s,n,i){var o=this.getClassNames(n)[i+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;n==="appear"&&i==="done"&&c&&(o+=" "+c),i==="active"&&s&&le(s),o&&(this.appliedClasses[n][i]=o,be(s,o))},r.removeClasses=function(s,n){var i=this.appliedClasses[n],o=i.base,l=i.active,c=i.done;this.appliedClasses[n]={},o&&D(s,o),l&&D(s,l),c&&D(s,c)},r.render=function(){var s=this.props;s.classNames;var n=se(s,["classNames"]);return h.createElement(Ce,M({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(h.Component);R.defaultProps={classNames:""},R.propTypes={};const _e=R,Ne=t=>{const a=I(t),r=!!t;a.current=t,_(()=>{if(!r)return;const e=s=>{s.key==="Escape"&&a.current&&a.current()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r])},ce=t=>{const a=t.Tag||"span";return d(a,{tabIndex:0,onFocus:r=>{var o;let e=r.currentTarget,s=Math.max(t.depth||1,1);for(;s--&&e;)e=e.parentElement;if(!e)return;const n=e.querySelectorAll("a,input, select, textarea,button, [tabindex]"),i=t.atTop?n.length-1:0;(o=n[i])==null||o.focus()}})},Se=()=>{const t=document.createElement("div");return document.body.appendChild(t),t},ye=({getRoot:t,children:a})=>{const[r,e]=x(null);return _(()=>{const s=(t||Se)();return e(s),()=>s.remove()},[]),r&&z(a,r)},ue="modal-open",B=typeof window<"u"?window:void 0,y=B?B.$$modalStack||(B.$$modalStack=[]):[],de=t=>{document.documentElement.classList.add(ue),y.unshift(t)},pe=t=>{const a=y.indexOf(t);a>-1&&y.splice(a,1),y.length<=0&&document.documentElement.classList.remove(ue)},ke={is:{closeButton:"Loka",closeButtonLabel:"Loka þessum glugga"},en:{closeButton:"Close",closeButtonLabel:"Close this window"},pl:{closeButton:"Zamknij",closeButtonLabel:"Zamknij to okno"}},Te=t=>{const{bem:a,modifier:r,closeDelay:e=500,wrapperProps:s={},ssr:n}=t,i=!(t.stable??t.fickle===!1)||void 0,o=j(t,ke),l=Y(n),c=ee(),p=s.id||c,f=I(null),[m,$]=x(()=>!!t.startOpen&&t.open!==!1),fe=()=>{m||(de(c),setTimeout(()=>{$(!0),t.onOpen&&t.onOpen(),H.focusElm(f.current)},100))},k=()=>{m&&($(!1),pe(c),t.onClose&&t.onClose(),setTimeout(t.onClosed,e))},me=I(t.open);t.open!==me.current&&t.open!==m&&(me.current=t.open,t.open?fe():k());const F=i&&(T=>{T.target===T.currentTarget&&k()});Ne(i&&(()=>{y[0]===p&&k()})),_(()=>(m?de(c):t.open&&fe(),()=>pe(c)),[]);const je=t.portal!==!1?ye:W,Me=t.render?t.render({closeModal:k}):t.children,he=o.closeButtonLabel||o.closeButton,{onClick:q,className:we}=s;return d(je,{children:d("div",{...s,className:O(`${a}wrapper`,[r,we]),hidden:!m,role:"dialog",onClick:F&&q?T=>{F(T),q(T)}:F||q,id:p,children:[l&&d(ce,{atTop:!0}),d("div",{className:O(a,r),ref:f,children:[Me,l&&!t.noCloseButton&&d("button",{className:`${a}__closebutton`,type:"button",onClick:k,"aria-label":he,"aria-controls":p,title:he,children:o.closeButton})]}),l&&d(ce,{atTop:!0})]})})},Ie=t=>{const{bem:a="CarouselPaging",modifier:r,current:e,itemCount:s,setCurrent:n}=t,{next:i,prev:o,unit:l=""}=t.texts;return d("div",{className:O(a,r),children:[d("button",{className:`${a}__button ${a}__button--next`,type:"button",disabled:e>=s-1,onClick:()=>n(e+1),"aria-controls":t["aria-controls"],"aria-label":`${i} ${l}`,title:`${i} ${l}`,children:i})," ",d("button",{className:`${a}__button ${a}__button--prev`,type:"button",disabled:e===0,onClick:()=>n(e-1),"aria-controls":t["aria-controls"],"aria-label":`${o} ${l}`,title:`${o} ${l}`,children:o})]})},Oe=t=>{const{caption:a,description:r,...e}=t;return d("div",{className:"GalleryModalItem",children:[(a||r)&&d("div",{className:"GalleryModalItem__text",children:[d("div",{className:"GalleryModalItem__caption",children:a}),d("div",{className:"GalleryModalItem__description",children:r})]}),d(L,{bem:"GalleryModalItem__image",src:e.largeImageSrc||e.src})]})},Le=t=>{const{texts:a}=t,{currentImage:r,items:e,setCurrentImage:s}=G(u),[n,i]=x(r),[o,l]=x(!1),c=f=>{l(!o),setTimeout(()=>{s(e[f])},200)};if(_(()=>{if(n!==r){const f=(r==null?void 0:r.largeImageSrc)||(r==null?void 0:r.src);if(f){const m=new window.Image;m.src=f,m.onload=()=>{i(r)}}else i(void 0)}},[n,r]),!n)return null;const p=e.findIndex(f=>V(P(n),P(f)));return d(Te,{open:!0,onClosed:()=>{s(void 0)},startOpen:!1,bem:"GalleryModal",texts:{closeButton:a.modalCloseLabel},children:[d(_e,{in:o,timeout:200,onEntered:()=>{l(!o)},classNames:"GalleryModalItem--",children:d(Oe,{...n})}),d(Ie,{bem:"GalleryModalPager",itemCount:e.length,current:p,setCurrent:c,texts:{next:a.modalNextLabel,prev:a.modalPrevLabel}})]})},$e={is:{modalNextLabel:"Næsta mynd",modalPrevLabel:"Fyrri mynd",modalCloseLabel:"Loka mynd"},en:{modalNextLabel:"Next image",modalPrevLabel:"Previous image",modalCloseLabel:"Close image"},pl:{modalNextLabel:"Następne zdjęcie",modalPrevLabel:"Poprzednie zdjęcie",modalCloseLabel:"Zamknij zdjęcie"}},Ge=t=>{const{items:a,ssr:r}=t,e=j(t,$e),[s,n]=x(void 0),i=X(()=>({items:a,setCurrentImage:n,currentImage:s}),[a,s]);return d(u.Provider,{value:i,children:[d(J,{bem:"Gallery",items:a,Component:ve,ssr:r,wrapperProps:t.wrapperProps}),d(Le,{...s,texts:e})]})},Pe=t=>{const a=K(t);return{items:Z(".GalleryItem",t).map(e=>{var l,c,p;const s=N(".GalleryItem__image img",e),n=((l=N(".GalleryItem__caption",e))==null?void 0:l.textContent)||void 0,i=((c=N(".GalleryItem__description",e))==null?void 0:c.textContent)||void 0,o=((p=N("a.GalleryItem__button",e))==null?void 0:p.href)||void 0;return{altText:s?s.alt:void 0,src:s?s.src:void 0,caption:n,largeImageSrc:o,description:i}}),lang:a}};window.Hanna.makeSprinkle({name:"Gallery",init:t=>{const a=Pe(t),r=document.createElement("div");h.render(d(Ge,{...a,ssr:!1,wrapperProps:te(t)}),r,()=>{t.replaceWith(r),ne()})}})}}});
