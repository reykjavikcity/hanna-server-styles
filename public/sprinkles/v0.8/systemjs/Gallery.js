System.register(["../_chunks/initHannaNamespace-3df190ef.js","../_chunks/compat.module-f329784f.js","../_chunks/qj-d717b116.js","../_chunks/i18n-6c3e4ded.js","../_chunks/_AbstractCarousel-caeef106.js","../_chunks/_Button-634d4086.js","../_chunks/_Image-67b886b3.js","../_chunks/jsxRuntime.module-6df2baee.js","../_chunks/FocusTrap-20d39fa9.js","../_chunks/_useMobileMenuToggling-0b192f4e.js","../_chunks/getSVGtext-1c46d1d7.js","../_chunks/addSeenEffect-00c08965.js","../_chunks/getLang-b0f6fe19.js","../_chunks/misc-c537bf75.js","../_chunks/_Link-7fe03f09.js"],function(Ae,De){"use strict";var V,G,h,O,_,x,W,X,H,I,Z,K,j,J,N,P,Q,Y,L,d,ee,M,te,ne,se,ae;return{setters:[null,u=>{V=u.b,G=u.q,h=u.C,O=u._,_=u.p,x=u.h,W=u.z,X=u.a,H=u.F},u=>{I=u.m,Z=u.c,K=u.o,j=u.e,J=u.b,N=u.q},u=>{P=u.g},u=>{Q=u.A},u=>{Y=u.B},u=>{L=u.I},u=>{d=u.o,ee=u.u},u=>{M=u.F},u=>{te=u.u},null,u=>{ne=u.a,se=u.b},u=>{ae=u.g},null,null],execute:function(){const u=V({}),ve=t=>{const{caption:a,description:r,largeImageSrc:e,...s}=t,{setCurrentImage:n}=G(u);return d("figure",{className:"GalleryItem",children:[d("figcaption",{className:"GalleryItem__caption",children:a}),e?d(Y,{bem:"GalleryItem__button",href:e,onClick:i=>{i.preventDefault(),n({...s,caption:a,description:r,largeImageSrc:e})},children:[" ",d(L,{bem:"GalleryItem__image",...s})," "]}):d(L,{bem:"GalleryItem__image",...s}),r&&d("div",{className:"GalleryItem__description",children:r})]})};function w(){return w=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},w.apply(this,arguments)}function oe(t,a){if(t==null)return{};var r={},e=Object.keys(t),s,n;for(n=0;n<e.length;n++)s=e[n],!(a.indexOf(s)>=0)&&(r[s]=t[s]);return r}function A(t,a){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},A(t,a)}function re(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,A(t,a)}function ge(t,a){return t.classList?!!a&&t.classList.contains(a):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+a+" ")!==-1}function Ee(t,a){t.classList?t.classList.add(a):ge(t,a)||(typeof t.className=="string"?t.className=t.className+" "+a:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+a))}function ie(t,a){return t.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xe(t,a){t.classList?t.classList.remove(a):typeof t.className=="string"?t.className=ie(t.className,a):t.setAttribute("class",ie(t.className&&t.className.baseVal||"",a))}const le={disabled:!1},ce=h.createContext(null);var ue=function(a){return a.scrollTop},k="unmounted",g="exited",E="entering",C="entered",D="exiting",v=function(t){re(a,t);function a(e,s){var n;n=t.call(this,e,s)||this;var i=s,o=i&&!i.isMounting?e.enter:e.appear,l;return n.appearStatus=null,e.in?o?(l=g,n.appearStatus=E):l=C:e.unmountOnExit||e.mountOnEnter?l=k:l=g,n.state={status:l},n.nextCallback=null,n}a.getDerivedStateFromProps=function(s,n){var i=s.in;return i&&n.status===k?{status:g}:null};var r=a.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var n=null;if(s!==this.props){var i=this.state.status;this.props.in?i!==E&&i!==C&&(n=E):(i===E||i===C)&&(n=D)}this.updateStatus(!1,n)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,n,i,o;return n=i=o=s,s!=null&&typeof s!="number"&&(n=s.exit,i=s.enter,o=s.appear!==void 0?s.appear:i),{exit:n,enter:i,appear:o}},r.updateStatus=function(s,n){if(s===void 0&&(s=!1),n!==null)if(this.cancelNextCallback(),n===E){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:h.findDOMNode(this);i&&ue(i)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===g&&this.setState({status:k})},r.performEnter=function(s){var n=this,i=this.props.enter,o=this.context?this.context.isMounting:s,l=this.props.nodeRef?[o]:[h.findDOMNode(this),o],c=l[0],p=l[1],f=this.getTimeouts(),m=o?f.appear:f.enter;if(!s&&!i||le.disabled){this.safeSetState({status:C},function(){n.props.onEntered(c)});return}this.props.onEnter(c,p),this.safeSetState({status:E},function(){n.props.onEntering(c,p),n.onTransitionEnd(m,function(){n.safeSetState({status:C},function(){n.props.onEntered(c,p)})})})},r.performExit=function(){var s=this,n=this.props.exit,i=this.getTimeouts(),o=this.props.nodeRef?void 0:h.findDOMNode(this);if(!n||le.disabled){this.safeSetState({status:g},function(){s.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:D},function(){s.props.onExiting(o),s.onTransitionEnd(i.exit,function(){s.safeSetState({status:g},function(){s.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,n){n=this.setNextCallback(n),this.setState(s,n)},r.setNextCallback=function(s){var n=this,i=!0;return this.nextCallback=function(o){i&&(i=!1,n.nextCallback=null,s(o))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},r.onTransitionEnd=function(s,n){this.setNextCallback(n);var i=this.props.nodeRef?this.props.nodeRef.current:h.findDOMNode(this),o=s==null&&!this.props.addEndListener;if(!i||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=l[0],p=l[1];this.props.addEndListener(c,p)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===k)return null;var n=this.props,i=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var o=oe(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return h.createElement(ce.Provider,{value:null},typeof i=="function"?i(s,o):h.cloneElement(h.Children.only(i),o))},a}(h.Component);v.contextType=ce,v.propTypes={};function b(){}v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},v.UNMOUNTED=k,v.EXITED=g,v.ENTERING=E,v.ENTERED=C,v.EXITING=D;const Ce=v;var be=function(a,r){return a&&r&&r.split(" ").forEach(function(e){return Ee(a,e)})},R=function(a,r){return a&&r&&r.split(" ").forEach(function(e){return xe(a,e)})},B=function(t){re(a,t);function a(){for(var e,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,e.appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(o,l){var c=e.resolveArguments(o,l),p=c[0],f=c[1];e.removeClasses(p,"exit"),e.addClass(p,f?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(o,l)},e.onEntering=function(o,l){var c=e.resolveArguments(o,l),p=c[0],f=c[1],m=f?"appear":"enter";e.addClass(p,m,"active"),e.props.onEntering&&e.props.onEntering(o,l)},e.onEntered=function(o,l){var c=e.resolveArguments(o,l),p=c[0],f=c[1],m=f?"appear":"enter";e.removeClasses(p,m),e.addClass(p,m,"done"),e.props.onEntered&&e.props.onEntered(o,l)},e.onExit=function(o){var l=e.resolveArguments(o),c=l[0];e.removeClasses(c,"appear"),e.removeClasses(c,"enter"),e.addClass(c,"exit","base"),e.props.onExit&&e.props.onExit(o)},e.onExiting=function(o){var l=e.resolveArguments(o),c=l[0];e.addClass(c,"exit","active"),e.props.onExiting&&e.props.onExiting(o)},e.onExited=function(o){var l=e.resolveArguments(o),c=l[0];e.removeClasses(c,"exit"),e.addClass(c,"exit","done"),e.props.onExited&&e.props.onExited(o)},e.resolveArguments=function(o,l){return e.props.nodeRef?[e.props.nodeRef.current,o]:[o,l]},e.getClassNames=function(o){var l=e.props.classNames,c=typeof l=="string",p=c&&l?l+"-":"",f=c?""+p+o:l[o],m=c?f+"-active":l[o+"Active"],$=c?f+"-done":l[o+"Done"];return{baseClassName:f,activeClassName:m,doneClassName:$}},e}var r=a.prototype;return r.addClass=function(s,n,i){var o=this.getClassNames(n)[i+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;n==="appear"&&i==="done"&&c&&(o+=" "+c),i==="active"&&s&&ue(s),o&&(this.appliedClasses[n][i]=o,be(s,o))},r.removeClasses=function(s,n){var i=this.appliedClasses[n],o=i.base,l=i.active,c=i.done;this.appliedClasses[n]={},o&&R(s,o),l&&R(s,l),c&&R(s,c)},r.render=function(){var s=this.props;s.classNames;var n=oe(s,["classNames"]);return h.createElement(Ce,w({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(h.Component);B.defaultProps={classNames:""},B.propTypes={};const _e=B,Ne=t=>{const a=O(t),r=!!t;a.current=t,_(()=>{if(!r)return;const e=s=>{s.key==="Escape"&&a.current&&a.current()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r])},ke=()=>{const t=document.createElement("div");return document.body.appendChild(t),t},Se=({getRoot:t,children:a})=>{const[r,e]=x(null);return _(()=>{const s=(t||ke)();return e(s),()=>s.remove()},[]),r&&W(a,r)},de="modal-open",F=typeof window<"u"?window:void 0,S=F?F.$$modalStack||(F.$$modalStack=[]):[],pe=t=>{document.documentElement.classList.add(de),S.unshift(t)},fe=t=>{const a=S.indexOf(t);a>-1&&S.splice(a,1),S.length<=0&&document.documentElement.classList.remove(de)},ye={is:{closeButton:"Loka",closeButtonLabel:"Loka þessum glugga"},en:{closeButton:"Close",closeButtonLabel:"Close this window"},pl:{closeButton:"Zamknij",closeButtonLabel:"Zamknij to okno"}},Te=t=>{const{bem:a,modifier:r,closeDelay:e=500,wrapperProps:s={},ssr:n}=t,i=!(t.stable??t.fickle===!1)||void 0,o=P(t,ye),l=ee(n),c=te(),p=s.id||c,f=O(null),[m,$]=x(()=>!!t.startOpen&&t.open!==!1),me=()=>{m||(pe(c),setTimeout(()=>{$(!0),t.onOpen&&t.onOpen(),Z.focusElm(f.current)},100))},y=()=>{m&&($(!1),fe(c),t.onClose&&t.onClose(),setTimeout(t.onClosed,e))},U=O(t.open);t.open!==U.current&&t.open!==m&&(U.current=t.open,t.open?me():y()),U.current=t.open;const q=i&&(T=>{T.target===T.currentTarget&&y()});Ne(i&&(()=>{S[0]===p&&y()})),_(()=>(m?pe(c):t.open&&me(),()=>fe(c)),[]);const Pe=t.portal!==!1?Se:X,Me=t.render?t.render({closeModal:y}):t.children,he=o.closeButtonLabel||o.closeButton,{onClick:z,className:we}=s;return d(Pe,{children:d("div",{...s,className:I(`${a}wrapper`,[r,we]),hidden:!m,role:"dialog",onClick:q&&z?T=>{q(T),z(T)}:q||z,id:p,children:[l&&d(M,{atTop:!0}),d("div",{className:I(a,r),ref:f,children:[Me,l&&!t.noCloseButton&&d("button",{className:`${a}__closebutton`,type:"button",onClick:y,"aria-label":he,"aria-controls":p,title:he,children:o.closeButton})]}),l&&d(M,{atTop:!0})]})})},Oe=t=>{const{bem:a="CarouselPaging",modifier:r,current:e,itemCount:s,setCurrent:n}=t,{next:i,prev:o,unit:l=""}=t.texts;return d("div",{className:I(a,r),children:[d("button",{className:`${a}__button ${a}__button--next`,type:"button",disabled:e>=s-1,onClick:()=>n(e+1),"aria-controls":t["aria-controls"],"aria-label":`${i} ${l}`,title:`${i} ${l}`,children:i})," ",d("button",{className:`${a}__button ${a}__button--prev`,type:"button",disabled:e===0,onClick:()=>n(e-1),"aria-controls":t["aria-controls"],"aria-label":`${o} ${l}`,title:`${o} ${l}`,children:o})]})},Ie=t=>{const{caption:a,description:r,...e}=t;return d("div",{className:"GalleryModalItem",children:[(a||r)&&d("div",{className:"GalleryModalItem__text",children:[d("div",{className:"GalleryModalItem__caption",children:a}),d("div",{className:"GalleryModalItem__description",children:r})]}),d(L,{bem:"GalleryModalItem__image",src:e.largeImageSrc||e.src})]})},Le=t=>{const{texts:a}=t,{currentImage:r,items:e,setCurrentImage:s}=G(u),[n,i]=x(r),[o,l]=x(!1),c=f=>{l(!o),setTimeout(()=>{s(e[f])},200)};if(_(()=>{if(n!==r){const f=(r==null?void 0:r.largeImageSrc)||(r==null?void 0:r.src);if(f){const m=new window.Image;m.src=f,m.onload=()=>{i(r)}}else i(void 0)}},[n,r]),!n)return null;const p=e.findIndex(f=>K(j(n),j(f)));return d(Te,{open:!0,onClosed:()=>{s(void 0)},startOpen:!1,bem:"GalleryModal",texts:{closeButton:a.modalCloseLabel},children:[d(_e,{in:o,timeout:200,onEntered:()=>{l(!o)},classNames:"GalleryModalItem--",children:d(Ie,{...n})}),d(Oe,{bem:"GalleryModalPager",itemCount:e.length,current:p,setCurrent:c,texts:{next:a.modalNextLabel,prev:a.modalPrevLabel}})]})},$e={is:{modalNextLabel:"Næsta mynd",modalPrevLabel:"Fyrri mynd",modalCloseLabel:"Loka mynd"},en:{modalNextLabel:"Next image",modalPrevLabel:"Previous image",modalCloseLabel:"Close image"},pl:{modalNextLabel:"Następne zdjęcie",modalPrevLabel:"Poprzednie zdjęcie",modalCloseLabel:"Zamknij zdjęcie"}},Ge=t=>{const{items:a,ssr:r}=t,e=P(t,$e),[s,n]=x(void 0),i=H(()=>({items:a,setCurrentImage:n,currentImage:s}),[a,s]);return d(u.Provider,{value:i,children:[d(Q,{bem:"Gallery",items:a,Component:ve,ssr:r,wrapperProps:t.wrapperProps}),d(Le,{...s,texts:e})]})},je=t=>{const a=ae(t);return{items:J(".GalleryItem",t).map(e=>{var l,c,p;const s=N(".GalleryItem__image img",e),n=((l=N(".GalleryItem__caption",e))==null?void 0:l.textContent)||void 0,i=((c=N(".GalleryItem__description",e))==null?void 0:c.textContent)||void 0,o=((p=N("a.GalleryItem__button",e))==null?void 0:p.href)||void 0;return{altText:s?s.alt:void 0,src:s?s.src:void 0,caption:n,largeImageSrc:o,description:i}}),lang:a}};window.Hanna.makeSprinkle({name:"Gallery",init:t=>{const a=je(t),r=t;return t.getAttributeNames().forEach(e=>{t.removeAttribute(e)}),h.render(d(Ge,{...a,ssr:!1,wrapperProps:ne(t)}),r,()=>se()),r},unmount:(t,a)=>{h.unmountComponentAtNode(a)}})}}});
