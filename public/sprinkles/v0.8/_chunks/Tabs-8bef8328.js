import{h as k}from"./compat.module-8a0f8b99.js";import{m as B,f as C}from"./qj-a13fcd70.js";import{h as O}from"./useFormatMonitor-a717dd05.js";import"./utils-9450e812.js";import{o as I}from"./jsxRuntime.module-ece33ea3.js";const K={ArrowUp:-1,ArrowLeft:-1,ArrowDown:1,ArrowRight:1},L=(c,e,n)=>{const{label:x,badge:p,href:d,type:o,longLabel:m}=c,{activeIdx:b,activateTab:f,focusedIdx:T,setFocusedIdx:g,tabRole:s,listAriaControls:t,isBrowser:l}=n,w=l&&(h=>{h.preventDefault(),f(e),h.currentTarget.focus()}),y=l&&(()=>g(e)),u=b===e||void 0,v=d&&!s?"a":"button",_=v==="button"?{role:s,type:o||"button",tabIndex:s?T===e?0:-1:void 0,"aria-controls":c["aria-controls"]||s&&C.getFrag(d)||t}:{href:d};return[I(v,{className:"Tabs__tab","data-active":u,..._,onClick:w,onFocus:y,"aria-label":m,title:m,children:[x," ",p!=null&&I("small",{className:"Tabs__tab__badge",children:["(",p,")"]})]},e)," "]},N=c=>{const{tabs:e,role:n,"aria-label":x,"aria-labelledby":p,"aria-controls":d,wrapperProps:o={},id:m=o.id,activeIdx:b,onSetActive:f,activateOnFocus:T,ssr:g,vertical:s,subTabs:t}=c,l=O.useIsBrowserSide(g),[w,y]=k(b||0),u=l&&n==="tablist"?"tab":void 0,v=a=>{const r=e[a];if(a===b||!r)return;const A=r.onActivated&&r.onActivated.call(null);f&&A!==!1&&f(a,r)},_=u&&(a=>{var r,A;const F=K[a.key];if(F){a.stopPropagation();let i=(w||0)+F;const D=e.length-1;i=i<0?D:i>D?0:i,(r=a.currentTarget.querySelectorAll(".Tabs__tab")[i])==null||r.focus(),T&&v(i),(A=o.onKeyDown)==null||A.call(o,a)}}),h={activeIdx:b,activateTab:v,focusedIdx:w,setFocusedIdx:y,tabRole:u,listAriaControls:d,isBrowser:l};return I("div",{...c.wrapperProps,className:B("Tabs",s&&"vertical",o.className),role:u&&n,id:m,"aria-label":x,"aria-labelledby":p,onKeyDown:_,"data-sprinkled":l,children:[e.map((a,r)=>L(a,r,h)),t&&I(N,{...t,role:"role"in t?t.role:n,activateOnFocus:t.activateOnFocus??T,ssr:g,vertical:void 0,subTabs:void 0})]})};export{N as T};
