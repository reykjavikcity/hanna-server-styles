import{n as w,m as y}from"./qj-a13fcd70.js";import{h as b,b as _,p as x,_ as I}from"./compat.module-8a0f8b99.js";import{b as M}from"./utils-9450e812.js";import{o as a}from"./jsxRuntime.module-ece33ea3.js";const T=(r,n)=>{const[t,e]=b(),o=_(r);return x(()=>{r&&M(r,n).then(i=>{r===o.current&&e({imageSrc:r,code:i})}),o.current=r,e(void 0)},[r]),t},z=r=>{const{src:n,altText:t="",sources:e=[],preloadSrc:o,modifier:i,bem:d,inline:u,placeholder:l,focalPoint:f,className:P,wrapperProps:g={}}=r,s=e.length&&o||n||(e[0]!=null?e[0].srcset.split(" ")[0]:void 0),S=o?"eager":"lazy",p=T(u?s:void 0,t),h=w(P,g.className)||void 0,m=d?y(d,[i,!s&&"missing"],h):h;if(!s)return l?a("span",{...r.wrapperProps,className:m,children:l!==!0&&l()}):null;if(u&&p){const c=p.imageSrc===s?p.code:"";return a("span",{...r.wrapperProps,className:m,dangerouslySetInnerHTML:{__html:c}})}const N=g.style;return a("picture",{...r.wrapperProps,className:m,style:f?{...N,"--focalPoint":f}:N,children:[" ",e.map((c,v)=>a(I,{children:[a("source",{srcSet:c.srcset,media:c.media},v)," "]}))," ",a("img",{src:s,alt:t,loading:S}),"  "]})};export{z as I};
