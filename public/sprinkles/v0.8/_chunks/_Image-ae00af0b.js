import{j as w,m as y}from"./qj-c3d9a20d.js";import{h as _,a as x,p as I,_ as H}from"./compat.module-504d8e29.js";import{g as L}from"./utils-a3d70c94.js";import{o as a}from"./jsxRuntime.module-c44f51ea.js";const T=(r,i)=>{const[t,e]=_(),s=x(r);return I(()=>{r&&L(r,i).then(n=>{r===s.current&&e({imageSrc:r,code:n})}),s.current=r,e(void 0)},[r]),t},b=r=>{const{src:i,altText:t="",sources:e=[],preloadSrc:s,modifier:n,bem:d,inline:u,placeholder:l,focalPoint:f,className:P,wrapperProps:g={}}=r,o=e.length&&s||i||(e[0]!=null?e[0].srcset.split(" ")[0]:void 0),S=s?"eager":"lazy",p=T(u?o:void 0,t),h=w(P,g.className)||void 0,m=d?y(d,[n,!o&&"missing"],h):h;if(!o)return l?a("span",{...r.wrapperProps,className:m,children:l!==!0&&l()}):null;if(u&&p){const c=p.imageSrc===o?p.code:"";return a("span",{...r.wrapperProps,className:m,dangerouslySetInnerHTML:{__html:c}})}const N=g.style;return a("picture",{...r.wrapperProps,className:m,style:f?{...N,"--focalPoint":f}:N,children:[" ",e.map((c,v)=>a(H,{children:[a("source",{srcSet:c.srcset,media:c.media},v)," "]}))," ",a("img",{src:o,alt:t,loading:S}),"  "]})};export{b as I};
