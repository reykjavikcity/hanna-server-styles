import{_ as B,h as v,p as M,T as F}from"./compat.module-8108cd22.js";import{u as H,o as d,m as P}from"./jsxRuntime.module-c4fc14d9.js";import"./getSVGtext-03122a1f.js";import{g as k}from"./i18n-c1727f88.js";import{B as x}from"./_Button-bb1b19a5.js";import{i as E}from"./env-e51fafad.js";import"./_useMobileMenuToggling-acf37f77.js";import"./qj-0db0624e.js";const N=400,S=(l,a)=>{const[u,c]=v(0);if(!l)return{autoClosing:!1};const r=o=>{c(i=>i+1);const e=a[o.type.startsWith("blur")?"onBlur":"onMouseLeave"];e&&e(o)},t=o=>{c(i=>i-1);const e=a[o.type.startsWith("focus")?"onFocus":"onMouseEnter"];e&&e(o)};return{autoClosing:u===0,autoClosingProps:{onMouseEnter:t,onMouseLeave:r,onFocus:t,onBlur:r,...E&&{onfocusin:o=>o.currentTarget!==o.target&&t(o),onfocusout:o=>o.currentTarget!==o.target&&r(o)}}}},y={en:{closeLabel:"Hide"},is:{closeLabel:"Fela"},pl:{closeLabel:"Ukryj"}},I={info:1,success:1,warning:1,error:1,critical:1},U=l=>{const{type:a,childrenHTML:u,children:c,onClose:r,closeUrl:t,ssr:o,onClosed:e,instantShow:i,wrapperProps:g}=l,m=Math.max(l.autoClose||0,0),f=l.closable??!!(r||e&&!m||t!=null),n=B(),h=H(o),[_,b]=v(i||!h),w=f&&(h||t!=null),{closeLabel:L,closeLabelLong:T}=k(l,y);M(()=>{b(!0)},[]);const p=F(s=>{(r&&r(s))!==!1&&(b(!1),n.current&&(clearTimeout(n.current),n.current=void 0),n.current=setTimeout(()=>{e&&e()},N))},[r,e]),{autoClosing:C,autoClosingProps:A}=S(m,l);return M(()=>{if(C){let s;return s=setTimeout(()=>{p()},m*1e3),()=>{s&&(clearTimeout(s),s=void 0),n.current&&(clearTimeout(n.current),n.current=void 0)}}},[p,C,m]),d("div",{...g,className:P("Alert",[!!I[a]&&a,f&&"closable"],(g||{}).className),role:"alert",hidden:!_||void 0,...A,children:[u?d("div",{dangerouslySetInnerHTML:{__html:u}}):c," ",w&&d(x,{bem:"Alert__close",...t!=null?{href:t}:{type:"button"},onClick:s=>{p(s)},"aria-label":T,title:T||L,children:L})]})};export{U as A,y as d};
