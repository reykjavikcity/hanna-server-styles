import{h as S,F as $,_ as P,p as z}from"./compat.module-6d0944a1.js";import{t as j,d as A,b as B}from"./qj-0db0624e.js";import{o as n,m as O,u as F}from"./jsxRuntime.module-9d76abce.js";import"./getSVGtext-03122a1f.js";import{n as I}from"./misc-29f84158.js";import"./i18n-45294c51.js";import"./_useMobileMenuToggling-404bacd2.js";const W={prefix:""},q=new Array(50).join(" ").split(""),D=e=>{const{current:c,itemCount:d,setCurrent:C,texts:v=W,wrapperProps:s}=e,o=v.prefix?`${v.prefix} `:"";return n("div",{...s,className:O("CarouselStepper",null,(s||{}).className),children:q.slice(0,d).map((b,m)=>{const h=c===m||void 0,u=o+(m+1);return n("button",{className:"CarouselStepper__button",type:"button",disabled:h,"aria-pressed":h,"aria-controls":e["aria-controls"],onClick:()=>C(m),"aria-label":u,title:u,children:u},m)})})},X=(e,c)=>{const d=e.scrollLeft+c;e.scrollTo(d,e.scrollTop)},Z=e=>{const{title:c,items:d=[],Component:C,ComponentProps:v,childrenHTML:s,bem:o="Carousel",modifier:b,ssr:m,className:h,wrapperProps:u}=e,p=F(m),w=e.children?Array.isArray(e.children)?e.children.filter(I):[e.children]:void 0,[L,x]=S(),R=$(()=>{if(!(s!=null&&s.trim()))return;if(!p)return 1;const t=document.createElement("div");return t.innerHTML=s,t.children.length},[s,p]),_=e.itemCount!=null?e.itemCount:s?R:(w||d).length,g=P(null),[i,T]=S(0),a=p&&g.current;z(()=>{if(!a)return;const t=()=>{var r;x((r=a.parentElement)==null?void 0:r.getBoundingClientRect().left),X(a,0)},l=j(()=>{const{scrollLeft:r,children:k}=a;Array.from(k).find((M,H)=>{if(r<=M.offsetLeft+M.offsetWidth/2)return T(H),!0})},300,!0);return t(),a.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",t,{passive:!0}),()=>{a.removeEventListener("scroll",l),window.removeEventListener("resize",t)}},[a]);const f=t=>{const l=g.current,r=l.children[t];r&&(T(t),l.scrollLeft=r.offsetLeft||1,setTimeout(()=>B.focusElm(r),500))},{delayedScrollLeft:y,delayedScrollRight:N}=$(()=>{const t=A(r=>{f(r-1),setTimeout(()=>t(r-1),0)},1e3),l=A(r=>{f(r+1),setTimeout(()=>l(r+1),0)},1e3);return{delayedScrollLeft:t,delayedScrollRight:l}},[]);if(!_)return null;const E=n("div",{className:`${o}__itemlist`,style:L?{"--Carousel--leftOffset":`${L}px`}:void 0,"data-scroll-snapping":L?"true":void 0,ref:g,dangerouslySetInnerHTML:s?{__html:s}:void 0,children:s?void 0:w||d.map((t,l)=>n(C,{...v,...t},l))});return n("div",{...u,className:O(o,b,h||(u||{}).className),"data-sprinkled":p,children:[c&&n("h2",{className:`${o}__title`,children:c}),p?n("div",{className:`${o}__itemlist-wrapper`,children:[E,i>0&&n("div",{className:`${o}__itemlist-goLeft`,onClick:()=>{y.cancel(),f(i-1)},onMouseOver:()=>y(i),onMouseOut:()=>y.cancel()}),i<_-1&&n("div",{className:`${o}__itemlist-goRight`,onClick:()=>{N.cancel(),f(i+1)},onMouseOver:()=>N(i),onMouseOut:()=>N.cancel()})]}):E,p&&n(D,{itemCount:_,setCurrent:f,current:i})]})};export{Z as A};
