import{h as B,T as j}from"./compat.module-6d0944a1.js";import{u as z,o as i,m as A}from"./jsxRuntime.module-9d76abce.js";import"./getSVGtext-03122a1f.js";import{D as G}from"./i18n-45294c51.js";import{i as H}from"./env-dad6c8ea.js";import{u as J}from"./_useMobileMenuToggling-404bacd2.js";import"./qj-0db0624e.js";const Q={bem:"FormField",input:"FormField__input",options:"FormField__options",control:"FormField__control"},U={is:"\xDEarf a\xF0 fylla \xFAt",en:"Required",pl:"Wymagane"},X=e=>{const{extraClassName:t,className:F,small:u,group:n,LabelTag:s=n?"h4":void 0,label:m,assistText:r,hideLabel:c,empty:h,filled:b,readOnly:d,disabled:f,invalid:g,errorMessage:o,required:p,reqText:v,renderInput:N,id:S,ssr:_,wrapperProps:x}=e,y=z(_),l=g||!!o||void 0,q=J(S),[W,P]=B(!1),K=j(I=>{const{onFocus:O,onBlur:$}=I||{},k=a=>{(!a.relatedTarget||!a.currentTarget.contains(a.relatedTarget))&&P(!0),O&&O(a)},M=a=>{(!a.relatedTarget||!a.currentTarget.contains(a.relatedTarget))&&P(!1),$&&$(a)},C={...I,onFocus:k,onBlur:M};if(H){const a=T=>{T.currentTarget!==T.target&&k(T)},V=T=>{T.currentTarget!==T.target&&M(T)};C.onfocusin=a,C.onfocusout=V}return C},[]),w=o?`error:${q}`:void 0,L=r?`assist:${q}`:void 0,R=s?`label:${q}`:void 0,D=p&&v!==!1&&i("abbr",{className:"FormField__label__reqstar",title:`${v||U[G]}: `,children:"*"}),E={id:q,disabled:f,required:p,readOnly:d,"aria-invalid":l,"aria-describedby":L&&w?`${L} ${w}`:L||w,"aria-labelledby":R};return i("div",{ref:e.wrapperRef,...x,className:A("FormField",[u&&"small",c&&"nolabel",l&&"invalid",f&&"disabled",d&&"readonly",y&&h&&"empty",y&&b&&"filled",y&&W&&"focused"],(F||(x||{}).className||"")+(t?` ${t}`:"")),children:[s?i(s,{className:"FormField__label","data-inputlabel":n==="inputlike"||void 0,id:R,children:[" ",D," ",m," "]}):i("label",{className:"FormField__label",htmlFor:q,children:[" ",D," ",m," "]})," ",N(Q,E,K,y),r&&i("div",{id:L,className:"FormField__assist",children:r}),o&&i("div",{id:w,className:"FormField__error",children:o})]})},Y=e=>{const{wrapperProps:t,label:F,hideLabel:u,LabelTag:n,required:s,reqText:m,disabled:r,readOnly:c,assistText:h,invalid:b,errorMessage:d,id:f,small:g,ssr:o,className:p,wrapperRef:v}=e;return{wrapperProps:t,label:F,LabelTag:n,hideLabel:u,required:s,reqText:m,disabled:r===!0,readOnly:c,assistText:h,invalid:b,errorMessage:d,id:f,small:g,ssr:o,className:p,wrapperRef:v}},Z=e=>{const{wrapperProps:t,label:F,hideLabel:u,LabelTag:n,required:s,reqText:m,disabled:r,readOnly:c,assistText:h,invalid:b,errorMessage:d,id:f,small:g,ssr:o,className:p,wrapperRef:v,...N}=e;return{fieldWrapperProps:Y(e),...N}},ee=e=>{const{onChange:t,inputRef:F,buttonText:u="Leita",onSubmit:n,onButtonClick:s=e.onSubmit,button:m,onKeyDown:r,placeholder:c=typeof e.label=="string"?e.label:void 0,fieldWrapperProps:h,...b}=Z(e),{value:d,defaultValue:f}=b,[g,o]=B(void 0),p=!!(d??g??!!f),v=!p&&!c,N=d!=null?t:_=>{o(!!_.target.value),t&&t(_)},S=m!==!1;return i(X,{extraClassName:"SiteSearchInput",empty:v,filled:p,...h,renderInput:(_,x,y)=>i("div",{className:_.input,...y(),children:[i("input",{className:"SiteSearchInput__input",onChange:N,...x,placeholder:c,onKeyDown:n?l=>{l.key==="Enter"&&n(l.currentTarget.value)!==!0&&l.preventDefault(),r&&r(l)}:r,...b,ref:F})," ",S&&i("button",{className:"SiteSearchInput__button",type:"submit",onClick:s&&(l=>s(l.currentTarget.value)!==!0&&l.preventDefault()),title:u,children:u})]})})};export{ee as S};
