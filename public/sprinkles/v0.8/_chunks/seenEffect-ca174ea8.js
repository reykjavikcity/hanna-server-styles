import{h as f,b as l,p}from"./compat.module-8a0f8b99.js";const A="is-seen",m=400,r="data-"+A,v=(t,s)=>t.target.compareDocumentPosition(s.target)&Node.DOCUMENT_POSITION_PRECEDING?1:-1,T={rootMargin:"-100px 0px 0px 0px",threshold:0};let i;const b=(t,s)=>{if(!t.hasAttribute(r)){if(i||(i=new IntersectionObserver((o,u)=>o.filter(e=>e.isIntersecting).sort(v).forEach(({target:e},a)=>{setTimeout(()=>{e.setAttribute(r,"true"),s&&s(e),u.unobserve(e)},m*a)}),T)),t.matches("["+r+"] *")){t.setAttribute(r,"");return}return t.setAttribute(r,"false"),i.observe(t),()=>i.unobserve(t)}};b.DATA_ATTR_NAME=A;const g=(t,s)=>{const o=t||void 0,[u,e]=f(o),a=l(null),c=s||a;return p(()=>{e(o);const n=c.current;if(n)if(o)n.setAttribute(r,"");else return n.removeAttribute(r),b(n,()=>e(!0))},[o,c]),[c,u]};export{b as g,g as u};
