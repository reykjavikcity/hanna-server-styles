import{_ as y,h as d,F as x,p as F}from"./compat.module-8108cd22.js";const g=(c,T=0,u)=>{const n=y(),[[s,i],a]=d(()=>{const r=typeof c=="function"?c():c;return[r,r]}),f=x(()=>{const r=(o,m)=>{n.current&&clearTimeout(n.current);const p=m!==void 0?m:T;a(l=>{const[e,v]=l,t=typeof o=="function"?o(e,v):o;return!p||t===e?t===e&&t===v?l:[t,t]:(n.current=setTimeout(()=>a([t,t]),p),[e,t])})};return r.cancel=()=>{r(o=>o,null)},r},[]);return F(()=>(u!==void 0&&f(u),()=>{n.current&&clearTimeout(n.current)}),[]),[s,f,i,s!==i||void 0]};export{g as u};
