import{h as K,T as j}from"./compat.module-6d0944a1.js";import{m as z}from"./qj-b9335549.js";import{i as A}from"./env-dad6c8ea.js";import{u as G}from"./_useMobileMenuToggling-5fde4833.js";import{u as H,o as i}from"./jsxRuntime.module-98db1a52.js";import"./getSVGtext-bab5132d.js";import"./i18n-45294c51.js";const J={bem:"FormField",input:"FormField__input",options:"FormField__options",control:"FormField__control"},Q=e=>{const{extraClassName:t,className:h,small:u,group:n,LabelTag:s=n?"h4":void 0,label:c,assistText:a,hideLabel:m,empty:_,filled:b,readOnly:d,disabled:f,invalid:T,errorMessage:o,required:p,reqText:v,renderInput:N,id:S,ssr:g,wrapperProps:w}=e,y=H(g),l=T||!!o||void 0,x=G(S),[W,C]=K(!1),B=j(O=>{const{onFocus:R,onBlur:k}=O||{},D=r=>{(!r.relatedTarget||!r.currentTarget.contains(r.relatedTarget))&&C(!0),R&&R(r)},M=r=>{(!r.relatedTarget||!r.currentTarget.contains(r.relatedTarget))&&C(!1),k&&k(r)},$={...O,onFocus:D,onBlur:M};if(A){const r=F=>{F.currentTarget!==F.target&&D(F)},V=F=>{F.currentTarget!==F.target&&M(F)};$.onfocusin=r,$.onfocusout=V}return $},[]),q=o?`error:${x}`:void 0,L=a?`assist:${x}`:void 0,P=s?`label:${x}`:void 0,I=p&&v!==!1&&i("abbr",{className:"FormField__label__reqstar",title:`${v||"\xDEarf a\xF0 fylla \xFAt"}: `,children:"*"}),E={id:x,disabled:f,required:p,readOnly:d,"aria-invalid":l,"aria-describedby":L&&q?`${L} ${q}`:L||q,"aria-labelledby":P};return i("div",{ref:e.wrapperRef,...w,className:z("FormField",[u&&"small",m&&"nolabel",l&&"invalid",f&&"disabled",d&&"readonly",y&&_&&"empty",y&&b&&"filled",y&&W&&"focused"],(h||(w||{}).className||"")+(t?` ${t}`:"")),children:[s?i(s,{className:"FormField__label","data-inputlabel":n==="inputlike"||void 0,id:P,children:[" ",I," ",c," "]}):i("label",{className:"FormField__label",htmlFor:x,children:[" ",I," ",c," "]})," ",N(J,E,B,y),a&&i("div",{id:L,className:"FormField__assist",children:a}),o&&i("div",{id:q,className:"FormField__error",children:o})]})},U=e=>{const{wrapperProps:t,label:h,hideLabel:u,LabelTag:n,required:s,reqText:c,disabled:a,readOnly:m,assistText:_,invalid:b,errorMessage:d,id:f,small:T,ssr:o,className:p,wrapperRef:v}=e;return{wrapperProps:t,label:h,LabelTag:n,hideLabel:u,required:s,reqText:c,disabled:a===!0,readOnly:m,assistText:_,invalid:b,errorMessage:d,id:f,small:T,ssr:o,className:p,wrapperRef:v}},X=e=>{const{wrapperProps:t,label:h,hideLabel:u,LabelTag:n,required:s,reqText:c,disabled:a,readOnly:m,assistText:_,invalid:b,errorMessage:d,id:f,small:T,ssr:o,className:p,wrapperRef:v,...N}=e;return{fieldWrapperProps:U(e),...N}},Y=e=>{const{onChange:t,inputRef:h,buttonText:u="Leita",onSubmit:n,onButtonClick:s=e.onSubmit,button:c,onKeyDown:a,placeholder:m=typeof e.label=="string"?e.label:void 0,fieldWrapperProps:_,...b}=X(e),{value:d,defaultValue:f}=b,[T,o]=K(void 0),p=!!(d??T??!!f),v=!p&&!m,N=d!=null?t:g=>{o(!!g.target.value),t&&t(g)},S=c!==!1;return i(Q,{extraClassName:"SiteSearchInput",empty:v,filled:p,..._,renderInput:(g,w,y)=>i("div",{className:g.input,...y(),children:[i("input",{className:"SiteSearchInput__input",onChange:N,...w,placeholder:m,onKeyDown:n?l=>{l.key==="Enter"&&n(l.currentTarget.value)!==!0&&l.preventDefault(),a&&a(l)}:a,...b,ref:h})," ",S&&i("button",{className:"SiteSearchInput__button",type:"submit",onClick:s&&(l=>s(l.currentTarget.value)!==!0&&l.preventDefault()),title:u,children:u})]})})};export{Y as S};
