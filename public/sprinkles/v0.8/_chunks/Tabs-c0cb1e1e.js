import{h as B}from"./compat.module-8a0f8b99.js";import{f as C}from"./qj-afc7b5d6.js";import{o as A,a as D}from"./jsxRuntime.module-6c429607.js";import{u as N}from"./seenEffect-ca174ea8.js";import{h as O}from"./useFormatMonitor-9c639f1c.js";import"./utils-96e946f5.js";const L={ArrowUp:-1,ArrowLeft:-1,ArrowDown:1,ArrowRight:1},R=(u,a,c)=>{const{label:I,badge:v,href:n,type:T,longLabel:o}=u,{activeIdx:f,activateTab:m,focusedIdx:p,setFocusedIdx:x,tabRole:s,listAriaControls:r,isBrowser:l}=c,g=l&&(h=>{h.preventDefault(),m(a),h.currentTarget.focus()}),_=l&&(()=>x(a)),b=f===a||void 0,d=n&&!s?"a":"button",y=d==="button"?{role:s,type:T||"button",tabIndex:s?p===a?0:-1:void 0,"aria-controls":u["aria-controls"]||s&&C.getFrag(n)||r}:{href:n};return[A(d,{className:"Tabs__tab","data-active":b,...y,onClick:g,onFocus:_,"aria-label":o,title:o,children:[I," ",v!=null&&A("small",{className:"Tabs__tab__badge",children:["(",v,")"]})]},a)," "]},S=u=>{const{tabs:a,role:c,"aria-label":I,"aria-labelledby":v,"aria-controls":n,id:T,activeIdx:o,onSetActive:f,activateOnFocus:m,ssr:p,startSeen:x,vertical:s,subTabs:r}=u,l=O.useIsBrowserSide(p),[g,_]=B(o||0),b=l&&c==="tablist"?"tab":void 0,d=e=>{const t=a[e];if(e===o||!t)return;const w=t.onActivated&&t.onActivated.call(null);f&&w!==!1&&f(e,t)},y=b&&(e=>{var t;const w=L[e.key];if(w){e.stopPropagation();let i=(g||0)+w;const F=a.length-1;i=i<0?F:i>F?0:i,(t=e.currentTarget.querySelectorAll(".Tabs__tab")[i])==null||t.focus(),m&&d(i)}}),[h]=N(x),k={activeIdx:o,activateTab:d,focusedIdx:g,setFocusedIdx:_,tabRole:b,listAriaControls:n,isBrowser:l};return A("div",{className:D("Tabs",s&&"vertical"),role:b&&c,id:T,"aria-label":I,"aria-labelledby":v,onKeyDown:y,"data-sprinkled":l,ref:h,children:[a.map((e,t)=>R(e,t,k)),r&&A(S,{...r,role:"role"in r?r.role:c,activateOnFocus:r.activateOnFocus??m,ssr:r.ssr??p,startSeen:!0,vertical:void 0,subTabs:void 0})]})};export{S as T};
