import{o as s,a as h}from"./jsxRuntime.module-a0756803.js";import{h as f,b as S,p as v,_ as N}from"./compat.module-8a0f8b99.js";import{b as _}from"./utils-39003f7d.js";const x=e=>{const[i,a]=f(),r=S(e);return v(()=>{e&&_(e).then(n=>{e===r.current&&a({imageSrc:e,code:n})}),r.current=e,a(void 0)},[e]),i},y=e=>{const{src:i,altText:a="",sources:r=[],preloadSrc:n,className:c,inline:d,placeholder:t,focalPoint:p}=e,o=r.length&&n||i||(r[0]!=null?r[0].srcset.split(" ")[0]:void 0),u=n?"eager":"lazy",m=x(d?o:void 0);if(!o)return t?s("span",{className:c&&h(c,"missing"),children:t!==!0&&t()}):null;if(d&&m){const l=m.imageSrc===o?m.code:"";return s("span",{className:c,dangerouslySetInnerHTML:{__html:l}})}return s("picture",{className:c,style:p?{"--focalPoint":p}:void 0,children:[" ",r.map((l,g)=>s(N,{children:[s("source",{srcSet:l.srcset,media:l.media},g)," "]}))," ",s("img",{src:o,alt:a,loading:u}),"  "]})};export{y as I};
