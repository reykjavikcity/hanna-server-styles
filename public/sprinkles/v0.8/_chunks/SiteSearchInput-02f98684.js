import{h as D,T as j}from"./compat.module-504d8e29.js";import{m as z}from"./qj-c3d9a20d.js";import{i as A}from"./env-9f067441.js";import{u as G}from"./useFormatMonitor-69620455.js";import{u as H,o as i}from"./jsxRuntime.module-c44f51ea.js";import"./utils-a3d70c94.js";const J={bem:"FormField",input:"FormField__input",options:"FormField__options",control:"FormField__control"},Q=e=>{const{extraClassName:t,className:h,small:u,group:n,LabelTag:s=n?"h4":void 0,label:c,assistText:r,hideLabel:m,empty:_,filled:b,readOnly:d,disabled:f,invalid:T,errorMessage:o,required:p,reqText:v,renderInput:N,id:S,ssr:g,wrapperProps:w}=e,y=H(g),l=T||!!o||void 0,x=G(S),[K,P]=D(!1),W=j(R=>{const{onFocus:$,onBlur:k}=R||{},M=a=>{(!a.relatedTarget||!a.currentTarget.contains(a.relatedTarget))&&P(!0),$&&$(a)},B=a=>{(!a.relatedTarget||!a.currentTarget.contains(a.relatedTarget))&&P(!1),k&&k(a)},C={...R,onFocus:M,onBlur:B};if(A){const a=F=>{F.currentTarget!==F.target&&M(F)},V=F=>{F.currentTarget!==F.target&&B(F)};C.onfocusin=a,C.onfocusout=V}return C},[]),q=o?`error:${x}`:void 0,L=r?`assist:${x}`:void 0,I=s?`label:${x}`:void 0,O=p&&v!==!1&&i("abbr",{className:"FormField__label__reqstar",title:`${v||"\xDEarf a\xF0 fylla \xFAt"}: `,children:"*"}),E={id:x,disabled:f,required:p,readOnly:d,"aria-invalid":l,"aria-describedby":L&&q?L+" "+q:L||q,"aria-labelledby":I};return i("div",{ref:e.wrapperRef,...w,className:z("FormField",[u&&"small",m&&"nolabel",l&&"invalid",f&&"disabled",d&&"readonly",y&&_&&"empty",y&&b&&"filled",y&&K&&"focused"],(h||(w||{}).className||"")+(t?` ${t}`:"")),children:[s?i(s,{className:"FormField__label","data-inputlabel":n==="inputlike"||void 0,id:I,children:[" ",O," ",c," "]}):i("label",{className:"FormField__label",htmlFor:x,children:[" ",O," ",c," "]})," ",N(J,E,W,y),r&&i("div",{id:L,className:"FormField__assist",children:r}),o&&i("div",{id:q,className:"FormField__error",children:o})]})},U=e=>{const{wrapperProps:t,label:h,hideLabel:u,LabelTag:n,required:s,reqText:c,disabled:r,readOnly:m,assistText:_,invalid:b,errorMessage:d,id:f,small:T,ssr:o,className:p,wrapperRef:v}=e;return{wrapperProps:t,label:h,LabelTag:n,hideLabel:u,required:s,reqText:c,disabled:r===!0,readOnly:m,assistText:_,invalid:b,errorMessage:d,id:f,small:T,ssr:o,className:p,wrapperRef:v}},X=e=>{const{wrapperProps:t,label:h,hideLabel:u,LabelTag:n,required:s,reqText:c,disabled:r,readOnly:m,assistText:_,invalid:b,errorMessage:d,id:f,small:T,ssr:o,className:p,wrapperRef:v,...N}=e;return{fieldWrapperProps:U(e),...N}},Y=e=>{const{onChange:t,inputRef:h,buttonText:u="Leita",onSubmit:n,onButtonClick:s=e.onSubmit,button:c,onKeyDown:r,placeholder:m=typeof e.label=="string"?e.label:void 0,fieldWrapperProps:_,...b}=X(e),{value:d,defaultValue:f}=b,[T,o]=D(void 0),p=!!(d??T??!!f),v=!p&&!m,N=d!=null?t:g=>{o(!!g.target.value),t&&t(g)},S=c!==!1;return i(Q,{extraClassName:"SiteSearchInput",empty:v,filled:p,..._,renderInput:(g,w,y)=>i("div",{className:g.input,...y(),children:[i("input",{className:"SiteSearchInput__input",onChange:N,...w,placeholder:m,onKeyDown:n?l=>{l.key==="Enter"&&n(l.currentTarget.value)!==!0&&l.preventDefault(),r&&r(l)}:r,...b,ref:h})," ",S&&i("button",{className:"SiteSearchInput__button",type:"submit",onClick:s&&(l=>s(l.currentTarget.value)!==!0&&l.preventDefault()),title:u,children:u})]})})};export{Y as S};
