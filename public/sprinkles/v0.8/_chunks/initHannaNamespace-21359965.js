import{h as u,a as h}from"./qj-0db0624e.js";import{s as k}from"./i18n-45294c51.js";import{g as y}from"./getLang-c224bf02.js";const b=typeof window<"u"&&!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype);b&&import("./qj-0db0624e.js").then(r=>r.I),u.setCSSvar(),k(y());const o=window.Hanna=window.Hanna||{};o.sprinkles=o.sprinkles||{},o.refresh=()=>Object.values(o.sprinkles).forEach(r=>r());const E=r=>{const{name:t,init:w,refresh:l,unmount:p}=r,m=r.selector||`.${t}`,s=`data-${r.dataAttr||"sprinkled"}`,d=window.Hanna.sprinkles;let i=[];const a=()=>{i=i.filter(({elm:n,data:e})=>{if(!document.contains(n)){try{p&&p(n,e)}catch(c){console.error(`Error unmounting sprinkle '${t}' for:`,n,c)}return n.removeAttribute(s),!1}try{l&&l(n,e)}catch(c){console.error(`Error refreshing sprinkle '${t}' for:`,n,c)}return!0});const f=[];h(m).forEach(n=>{if(!(i.find(e=>e.elm===n)||n.hasAttribute(s)))try{const e=w(n);!n.hasAttribute(s)&&n.setAttribute(s,""),f.push({elm:n,data:e})}catch(e){console.error(`Error initializing sprinkle '${t}' for:`,n,e)}}),i=i.concat(f)};return d[t]?console.warn(`A sprinkle named '${t}' already exists.`):(d[t]=a,a()),a};o.makeSprinkle=E,o.loadSprinkles&&o.loadSprinkles("SeenEffects");
