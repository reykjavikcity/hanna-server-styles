import{h as R,T as z,C as A}from"./compat.module-8a0f8b99.js";import{h as E}from"./useFormatMonitor-a002282c.js";import{o as r,a as G}from"./jsxRuntime.module-a0756803.js";import{i as J}from"./env-7ef80a23.js";import"./utils-39003f7d.js";import"./qj-163b6a60.js";const P={bem:"FormField",input:"FormField__input",options:"FormField__options",control:"FormField__control"},Q=b=>{const{className:C,small:s,group:F,LabelTag:l=F?"h4":void 0,label:c,assistText:n,hideLabel:u,empty:_,filled:m,readOnly:h,disabled:p,invalid:f,errorMessage:d,required:v,reqText:g,renderInput:y,id:I,ssr:w}=b,a=E.useIsBrowserSide(w),T=f||!!d||void 0,t=E.useDomid(I),[i,D]=R(!1),M=z(x=>{const{onFocus:$,onBlur:L}=x||{},K=e=>{(!e.relatedTarget||!e.currentTarget.contains(e.relatedTarget))&&D(!0),$&&$(e)},O=e=>{(!e.relatedTarget||!e.currentTarget.contains(e.relatedTarget))&&D(!1),L&&L(e)},B={...x,onFocus:K,onBlur:O};if(J){const e=o=>{o.currentTarget!==o.target&&K(o)},j=o=>{o.currentTarget!==o.target&&O(o)};B.onfocusin=e,B.onfocusout=j}return B},[]),N=d?`error:${t}`:void 0,S=n?`assist:${t}`:void 0,k=l?`label:${t}`:void 0,q=v&&g!==!1&&r("abbr",{className:"FormField__label__reqstar",title:`${g||"\xDEarf a\xF0 fylla \xFAt"}: `,children:"*"}),V={id:t,disabled:p,required:v,readOnly:h,"aria-invalid":T,"aria-describedby":S&&N?S+" "+N:S||N,"aria-labelledby":k};return r("div",{className:G("FormField",[s&&"small",u&&"nolabel",T&&"invalid",p&&"disabled",h&&"readonly",a&&_&&"empty",a&&m&&"filled",a&&i&&"focused"],C),ref:b.wrapperRef,children:[l?r(l,{className:"FormField__label","data-inputlabel":F==="inputlike"||void 0,id:k,children:[" ",q," ",c," "]}):r("label",{className:"FormField__label",htmlFor:t,children:[" ",q," ",c," "]})," ",y(P,V,M,a),n&&r("div",{id:S,className:"FormField__assist",children:n}),d&&r("div",{id:N,className:"FormField__error",children:d})]})},U=A.forwardRef((b,C)=>{const{label:s,id:F,onChange:l,placeholder:c=typeof s=="string"?s:void 0,buttonText:n="Leita",onSubmit:u,onButtonClick:_=u,onKeyDown:m,ssr:h,...p}=b,{value:f,defaultValue:d}=p,[v,g]=R(void 0),y=!!(f??v??!!d),I=!y&&!c,w=f!=null?l:a=>{g(!!a.target.value),l&&l(a)};return r(Q,{className:"SiteSearchInput",ssr:h,label:s,empty:I,filled:y,id:F,renderInput:(a,T,t)=>r("div",{className:a.input,...t(),children:[r("input",{className:"SiteSearchInput__input",onChange:w,...T,placeholder:c,onKeyDown:u?i=>{i.key==="Enter"&&u()!==!0&&i.preventDefault(),m&&m(i)}:m,...p,ref:C})," ",r("button",{className:"SiteSearchInput__button",type:"submit",onClick:_&&(i=>!_()&&i.preventDefault()),title:n,children:n})]})})});export{U as S};
